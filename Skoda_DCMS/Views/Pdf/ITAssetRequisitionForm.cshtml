@model dynamic
@{ ViewBag.Title = "IT Asset Requisition Form";
    var user = (Skoda_DCMS.Models.UserData)HttpContext.Current.Session["UserData"];
    bool IsNew = true;
    bool IsEdit = true;
    dynamic FlagRedirect = null; // For Email Update
    dynamic ITARF = null;
    Layout = ViewBag.Layout;
    int RowId = 0, FormId = 0, AppRowId = 0, ApprovalType = 0;
    if (ViewBag != null && ViewBag.IsNew != null)
    {
        IsNew = ViewBag.IsNew;
        IsEdit = ViewBag.IsEdit;
        ITARF = ViewBag.Model;
        RowId = ViewBag.RowId;
        FormId = ViewBag.FormId;
        AppRowId = ViewBag.AppRowId;
        ApprovalType = ViewBag.ApprovalType != null ? (int)ViewBag.ApprovalType : 0;
    } }
@*For Email Update*@
<style type="text/css">
    .table-width {
        width: 33.33% !important;
    }

    .per-checkbox {
        padding-left: 61px !important;
    }

    .bg-color td, .bg-color th {
        border: 1px solid #dee2e6;
        background-color: rgb(219,238,213) !important;
    }

    .astColor {
        color: red;
    }

    #OtherEmpName #txtOtherEmpname {
        border-radius: 0;
        height: 20%;
        font-size: 14px;
    }

    .bg-color-2 td {
        font-size: 15px;
        background-color: rgba(75,168,46,0.4) !important;
        border: 1px solid rgba(75,168,46,0.1) !important;
    }

    .bg-color-2 th {
        background-color: rgba(75,168,46,0.4) !important;
        border: 1px solid rgba(75,168,46,0.1) !important;
    }

    #loader {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        width: 100%;
        
        z-index: 10000;
    }

    .mainTbl td {
        text-align: left;
        background-color:#fff !important; 
    }

    .mainTbl input[type='checkbox'] {
        vertical-align: middle !important;
    }

    .mainTbl .forChkAlign {
        top: 3px !important;
    }

    
</style>

@*For Email Update*@
<div class="right_col bg-transparent" role="main">
    <div class="container">
        <form action="/List/CreateITAssetRequisitionRequest" id="ITARForm" method="post">
            @if (IsNew)
            {
                if (!IsEdit)
                {
                    <div>
                        <input type="hidden" id="FormSrId" name="FormSrId" value="@(ITARF.one[0].Id)" />
                        <input type="hidden" id="FormId" name="FormId" value="@(FormId)" />
                        <input type="hidden" id="AppRowId" name="AppRowId" value="@(AppRowId)" />
                    </div>
                }
                else
                {
                    <div class="breadcrumb-container">
                        <div>
                            <ol class="breadcrumb pl-0">
                                <li>
                                    <a href="/Dashboard?formName=ITARF">
                                        Dashboard
                                    </a>
                                </li>
                                <li class="active"><a href="/Dashboard/GetDepartmentWiseForms?department=IT">IT Department</a></li>
                                <li class="active">IT Asset Requisition Form</li>
                            </ol>
                        </div>
                    </div>
                    <div class="form-main-container margin_space">
                        <div class="row topContent">
                            <div class="col-lg-9 col-md-7 padd_space">

                                <h5>Form Name : IT Asset Requisition Form</h5>
                            </div>
                            <div class="col-lg-3 col-md-7 padd_space float-right text-right">

                                @*<h5> Form Department | Owner</h5>*@

                            </div>
                        </div>
                    </div>
                }
            }
            <div class="container form-container">
                <div class="card-header pb-4 pt-4">
                    <table class="w-100 m-auto">
                        <tr>
                            <td>
                                <table class="table mainTbl table-bordered form-table-container">
                                    <tbody>
                                        <tr>
                                            <td class="f-600 text-left pl-3">Classification</td>
                                            <td class="f-600 text-left pl-3">Internal</td>
                                            <td rowspan="2" class="text-right"></td>
                                        </tr>
                                        <tr>
                                            <td class="f-600 text-left pl-3">Version</td>
                                            <td class="f-600 text-left pl-3">01</td>
                                        </tr>
                                    </tbody>
                                </table>
                                <table class="table mainTbl table-bordered form-table-container bg-color">
                                    <tbody>
                                        <tr>
                                            <td class="br-0 bt-0" id="hiddenApproverInformation" name="hiddenApproverInformation"></td>
                                        </tr>
                                        <tr>
                                            <td colspan="6" class="heading form-heading">
                                                <span>IT Asset Requisition Form</span>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>


                                @* New PDF structure start*@

                            <table style='width: 100%;' class="table mainTbl table-bordered form-table-container-2">

                                <tr>
                                    <td class="text-left">
                                        <label class="f-600">Date</label>

                                    </td>
                                    <td>
                                        <input type="text" name="txtDate" placeholder="/ /" class="w-100" value="@(!IsNew || !IsEdit ? (Convert.ToDateTime(ITARF.one[0].FormID.CreatedDate).ToShortDateString()) : DateTime.Now.ToShortDateString())" readonly>
                                    </td>
                                    @if (!IsNew || !IsEdit)
                                    {
                                        <td class="text-left">
                                            <label class="f-600">Form Id</label>
                                        </td>
                                        <td>
                                            <input type="text" name="txtFormId" class="w-100" value="@("ITARF" + ITARF.one[0].FormID.Id ?? "")" readonly>

                                        </td>
                                    }
                                    <td colspan="2">
                                        &nbsp;

                                    </td>
                                </tr>
                                @if (!IsNew && ITARF.one[0].RequestSubmissionFor == "Self")
                                {
                                    <tr>
                                        <td>
                                            <label class="f-600">Type of Employee</label>
                                        </td>
                                        <td colspan="5">
                                            <div class="d-flex pl-2">
                                                <label class="checkbox-container mr-4 d-inline-block">
                                                    @if (ITARF.one[0].EmployeeType == "Internal")
                                                    {
                                                        <input type="checkbox" name="chkInternal" id="chkInternal" value="Internal" checked />
                                                    }
                                                    else
                                                    {
                                                        <input type="checkbox" name="chkInternal" id="chkInternal" value="Internal" />

                                                    }
                                                    <span class="checkmark forChkAlign"></span>

                                                    <label class="f-600 pt-1">Internal</label>
                                                </label>

                                                <label class="checkbox-container d-inline-block">
                                                    @if (ITARF.one[0].EmployeeType == "External")
                                                    {
                                                        <input type="checkbox" name="chkExternal" id="chkExternal" value="External" checked />
                                                    }
                                                    else
                                                    {
                                                        <input type="checkbox" name="chkExternal" id="chkExternal" value="External" />
                                                    }
                                                    <span class="checkmark forChkAlign"></span>
                                                    <label class="f-600 mr-4 mt-1">External</label>

                                                </label>
                                                @if (ITARF.one[0].EmployeeType == "External")
                                                {
                                                    <label class="f-600">External Organization Name</label>
                                                    if (ITARF.one[0].ExternalOrganizationName != "Other")
                                                    {
                                                        <input type="text" class="w-100" name="txtExternalOrganizationName" id="txtExternalOrganizationName" value="@(ITARF.one[0].ExternalOrganizationName ?? "")" />

                                                    }
                                                    else
                                                    {
                                                        <input type="text" class="w-100" name="txtExternalOtherOrganizationName" id="txtExternalOtherOrganizationName" value="@(ITARF.one[0].ExternalOtherOrganizationName ?? "")" />
                                                    }
                                                }
                                                <label class="checkbox-container d-inline-block">
                                                    @if (ITARF.one[0].EmployeeType == "Partner")
                                                    {
                                                        <input type="checkbox" name="chkPartner" id="chkPartner" value="Partner" checked />
                                                    }
                                                    else
                                                    {
                                                        <input type="checkbox" name="chkPartner" id="chkPartner" value="Partner" />
                                                    }
                                                    <span class="checkmark forChkAlign"></span>
                                                    <label class="f-600 mr-4 mt-1">Partner</label>
                                                    <input type="text">
                                                </label>
                                                @if (ITARF.one[0].EmployeeType == "Partner")
                                                {
                                                    <label class="f-600">External Organization Name</label>
                                                    <input type="text" class="w-100" name="txtPartnerOrganizationName" id="txtPartnerOrganizationName" value="@(ITARF.one[0].PartnerOrganizationName ?? "")" />
                                                }
                                            </div>

                                        </td>

                                    </tr>
                                    <tr>
                                        <td>
                                            <label class="f-600">Employee Code</label>

                                        </td>
                                        <td>
                                            <input type="text" class="w-100 txtDisable" id="txtEmployeeCode" name="txtEmployeeCode" value="@(ITARF.one[0].EmployeeCode ?? "")" readonly />

                                        </td>
                                        <td>
                                            <label class="f-600">Cost Center Number</label>

                                        </td>
                                        <td>
                                            <input type="text" class="w-100 txtDisable" name="txtCostcenterCode" id="txtCostcenterCode" value="@(ITARF.one[0].EmployeeCCCode ?? "")" readonly />

                                        </td>

                                        <td>
                                            <label class="f-600">User ID</label>

                                        </td>
                                        <td>
                                            <input type="text" class="w-100 txtDisable" name="txtUserId" id="txtUserId" value="@(ITARF.one[0].EmployeeUserId ?? "")" readonly />

                                        </td>

                                    </tr>

                                    <tr>
                                        <td>
                                            <label class="f-600">Employee Name</label>

                                        </td>
                                        <td>
                                            <input type="text" class="w-100 txtDisable empName" name="txtEmployeeName" id="txtEmployeeName" value="@(ITARF.one[0].EmployeeName ?? "")" readonly />

                                        </td>
                                        <td>
                                            <label class="f-600">Department</label>

                                        </td>
                                        <td>
                                            <input type="text" class="w-100 txtDisable" name="txtDepartment" id="txtDepartment" value="@(ITARF.one[0].EmployeeDepartment ?? "")" readonly />

                                        </td>
                                        <td>
                                            <label class="f-600">Contact Number</label>

                                        </td>
                                        <td>
                                            <input type="text" class="w-100 txtDisable" name="txtContactNo" id="txtContactNo" value="@(ITARF.one[0].EmployeeContactNo ?? "")" />

                                        </td>
                                    </tr>

                                    <tr>
                                        <td>
                                            <label class="f-600">Designation</label>

                                        </td>
                                        <td>
                                            <input type="text" class="w-100 txtDisable" name="txtdesignation" id="txtdesignation" value="@(!IsNew ? (ITARF.one[0].EmployeeDesignation ?? "") : "")" />

                                        </td>
                                        <td>
                                            <label class="f-600">Location</label>

                                        </td>
                                        <td>
                                            <input type="text" class="w-100 txtDisable" name="txtLocation" id="txtLocation" value="@(!IsNew ? (ITARF.one[0].EmployeeLocation ?? "") : "")" />

                                        </td>
                                        <td colspan="2">
                                            &nbsp;

                                        </td>
                                    </tr>

                                }
                                else
                                {
                                    <tr>
                                        <td>
                                            <label class="f-600">Type of Employee</label>
                                        </td>
                                        <td colspan="5">
                                            <div class="d-flex pl-2">
                                                <label class="checkbox-container mr-4 d-inline-block">
                                                    @if (ITARF.one[0].OtherEmployeeType == "Internal")
                                                    {
                                                        <input type="checkbox" name="chkOtherInternal" id="chkOtherInternal" value="Internal" checked />
                                                    }
                                                    else
                                                    {
                                                        <input type="checkbox" name="chkOtherInternal" id="chkOtherInternal" value="Internal" />

                                                    }
                                                    <span class="checkmark forChkAlign"></span>

                                                    <label class="f-600 pt-1">Internal</label>
                                                </label>

                                                <label class="checkbox-container d-inline-block">
                                                    @if (ITARF.one[0].OtherEmployeeType == "External")
                                                    {
                                                        <input type="checkbox" name="chkOtherExternal" id="chkOtherExternal" value="External" checked />
                                                    }
                                                    else
                                                    {
                                                        <input type="checkbox" name="chkOtherExternal" id="chkOtherExternal" value="External" />
                                                    }
                                                    <span class="checkmark forChkAlign"></span>
                                                    <label class="f-600 mr-4 mt-1">External</label>

                                                </label>
                                                @if (ITARF.one[0].OtherEmployeeType == "External")
                                                {
                                                    <label class="f-600">External Organization Name</label>
                                                    if (ITARF.one[0].OtherExternalOrganizationName != "Other")
                                                    {
                                                        <input type="text" class="w-100" name="txtOtherExternalOrganizationName" id="txtOtherExternalOrganizationName" value="@(ITARF.one[0].OtherExternalOrganizationName ?? "")" />

                                                    }
                                                    else
                                                    {
                                                        <input type="text" class="w-100" name="txtOtherExternalOtherOrganizationName" id="txtOtherExternalOtherOrganizationName" value="@(ITARF.one[0].OtherExternalOtherOrganizationName ?? "")" />
                                                    }
                                                }
                                                <label class="checkbox-container d-inline-block">
                                                    @if (ITARF.one[0].OtherEmployeeType == "Partner")
                                                    {
                                                        <input type="checkbox" name="chkPartner" id="chkPartner" value="Partner" checked />
                                                    }
                                                    else
                                                    {
                                                        <input type="checkbox" name="chkPartner" id="chkPartner" value="Partner" />
                                                    }
                                                    <span class="checkmark forChkAlign"></span>
                                                    <label class="f-600 mr-4 mt-1">Partner</label>
                                                    <input type="text">
                                                </label>
                                                @if (ITARF.one[0].OtherEmployeeType == "Partner")
                                                {
                                                    <label class="f-600">Partner Organization Name</label>
                                                    <input type="text" class="w-100" name="txtOtherPartnerOrganizationName" id="txtOtherPartnerOrganizationName" value="@(ITARF.one[0].PartnerOrganizationName ?? "")" />
                                                }
                                            </div>

                                        </td>

                                    </tr>
                                    <tr>
                                        <td>
                                            <label class="f-600">Employee Code</label>

                                        </td>
                                        <td>
                                            <input type="text" class="w-100 txtDisable" id="txtOtherEmployeeCode" name="txtOtherEmployeeCode" value="@(ITARF.one[0].OtherEmployeeCode ?? "")" readonly />

                                        </td>
                                        <td>
                                            <label class="f-600">Cost Center Number</label>

                                        </td>
                                        <td>
                                            <input type="text" class="w-100 txtDisable" name="txtOtherCostcenterCode" id="txtOtherCostcenterCode" value="@(ITARF.one[0].OtherEmployeeCCCode ?? "")" readonly />

                                        </td>

                                        <td>
                                            <label class="f-600">User ID</label>

                                        </td>
                                        <td>
                                            <input type="text" class="w-100 txtDisable" name="txtOtherUserId" id="txtOtherUserId" value="@(ITARF.one[0].OtherEmployeeUserId ?? "")" readonly />

                                        </td>

                                    </tr>

                                    <tr>
                                        <td>
                                            <label class="f-600">Employee Name</label>

                                        </td>
                                        <td>
                                            <input type="text" class="w-100 txtDisable empName" name="txtOtherEmployeeName" id="txtOtherEmployeeName" value="@(ITARF.one[0].OtherEmployeeName ?? "")" readonly />

                                        </td>
                                        <td>
                                            <label class="f-600">Department</label>

                                        </td>
                                        <td>
                                            <input type="text" class="w-100 txtDisable" name="txtOtherDepartment" id="txtOtherDepartment" value="@(ITARF.one[0].OtherEmployeeDepartment ?? "")" readonly />

                                        </td>
                                        <td>
                                            <label class="f-600">Contact Number</label>

                                        </td>
                                        <td>
                                            <input type="text" class="w-100 txtDisable" name="txtOtherContactNo" id="txtOtherContactNo" value="@(ITARF.one[0].OtherEmployeeContactNo ?? "")" />

                                        </td>
                                    </tr>

                                    <tr>
                                        <td>
                                            <label class="f-600">Designation</label>

                                        </td>
                                        <td>
                                            <input type="text" class="w-100 txtDisable" name="txtOtherdesignation" id="txtOtherdesignation" value="@(!IsNew ? (ITARF.one[0].OtherEmployeeDesignation ?? "") : "")" />

                                        </td>
                                        <td>
                                            <label class="f-600">Location</label>

                                        </td>
                                        <td>
                                            <input type="text" class="w-100 txtDisable" name="txtOtherLocation" id="txtOtherLocation" value="@(!IsNew ? (ITARF.one[0].OtherEmployeeLocation ?? "") : "")" />

                                        </td>
                                        <td colspan="2">
                                            &nbsp;

                                        </td>
                                    </tr>
                                }

                                <tr>
                                    <td>
                                        <label class="f-600">Request Type</label>

                                    </td>
                                    <td colspan="3">
                                        <div class="d-flex pl-2">
                                            <label class="checkbox-container mr-5 d-inline-block">
                                                @if (ITARF.one[0].RequestType == "Permanent")
                                                {
                                                    <input type="checkbox" name="chkPermanent" id="chkPermanent" value="Permanent" checked />
                                                }
                                                else
                                                {
                                                    <input type="checkbox" name="chkPermanent" id="chkPermanent" value="Permanent" />

                                                }
                                                <span class="checkmark forChkAlign"></span>
                                                <label class="f-600 pt-1">Permanent</label>
                                            </label>

                                            <label class="checkbox-container d-inline-block">
                                                @if (ITARF.one[0].RequestType == "Temporary")
                                                {
                                                    <input type="checkbox" name="chkTemporary" id="chkTemporary" value="Temporary" checked />
                                                }
                                                else
                                                {
                                                    <input type="checkbox" name="chkTemporary" id="chkTemporary" value="Temporary" />

                                                }
                                                <span class="checkmark forChkAlign"></span>
                                                <label class="f-600 mr-3 mt-1">Temporary</label>
                                            </label>
                                        </div>

                                    </td>

                                    <td colspan="2">
                                        @if (ITARF.one[0].RequestType == "Temporary")
                                        {
                                            <label class="f-600 mr-3">If Temporary<span class="astColor">*</span></label>
                                            <span>From </span> <input type="text" class="txtDisable" name="txtTempFrom" id="txtTempFrom" value="@(ITARF.one[0].TempFrom.ToString("yyyy-MM-dd"))" />

                                            <span>To </span> <input type="date" class="txtDisable" name="txtTempTo" id="txtTempTo" value="@(ITARF.one[0].TempTo.ToString("yyyy-MM-dd"))" />

                                        }
                                    </td>

                                </tr>


                            </table>


                                @* New PDF structure End*@





                               
                                @if (!IsNew)
                                {
                                    <table class="table mainTbl table-bordered form-table-container-2 bg-color">
                                        <tr>
                                            <td colspan="2"><label class="f-600">Please check the Required Assets</label></td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <label class="checkbox-container">
                                                    <label class="f-600">Workstation Desktop</label>
                                                    <input type="checkbox" name="chkWorkstationDesktop" id="chkWorkstationDesktop" value="" disabled="disabled" @(ITARF.one[0].WorkstationDesktop == "Yes" ? "checked" : "")>
                                                    <span class="checkmark"></span>
                                                </label>
                                            </td>
                                            <td>
                                                <label class="checkbox-container">
                                                    <label class="f-600">Workstation Laptop</label>
                                                    <input type="checkbox" name="chkWorkstationLaptop" id="chkWorkstationLaptop" value="" @(ITARF.one[0].WorkstationLaptop == "Yes" ? "checked" : "") disabled="disabled">
                                                    <span class="checkmark"></span>
                                                </label>
                                            </td>

                                        </tr>
                                        <tr>
                                            <td>
                                                <label class="checkbox-container">
                                                    <label class="f-600">RSA Token</label>
                                                    <input type="checkbox" name="chkRSAToken" id="chkRSAToken" value="RSA Token" disabled="disabled" @(ITARF.one[0].RSAToken == "Yes" ? "checked" : "")>
                                                    <span class="checkmark"></span>
                                                </label>
                                            </td>
                                            <td>
                                                <label class="checkbox-container">
                                                    <label class="f-600">SIM and Data</label>
                                                    <input type="checkbox" name="chkSIMAndData" id="chkSIMAndData" value="SIM and Data" disabled="disabled" @(ITARF.one[0].SIMAndData == "Yes" ? "checked" : "")>
                                                    <span class="checkmark"></span>
                                                </label>
                                            </td>
                                            <td class="align">
                                                <label class="checkbox-container">
                                                    <label class="f-600">Landline</label>
                                                    <input type="checkbox" name="chkLandline" id="chkLandline" value="Landline" disabled="disabled" @(ITARF.one[0].Landline == "Yes" ? "checked" : "")>
                                                    <span class="checkmark"></span>
                                                </label>
                                            </td>
                                            <td class="align">
                                                <label class="checkbox-container">
                                                    <label class="f-600">LAN Cable and Port</label>
                                                    <input type="checkbox" name="chkLANCableAndPort" id="chkLANCableAndPort" value="LAN Cable and Port" disabled="disabled" @(ITARF.one[0].LANCableAndPort == "Yes" ? "checked" : "")>
                                                    <span class="checkmark"></span>
                                                </label>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <label class="checkbox-container">
                                                    <label class="f-600"> Jabra Speaker</label>
                                                    <input type="checkbox" name="chkJabraSpeaker" id="chkJabraSpeaker" value="Jabra Speaker" disabled="disabled" @(ITARF.one[0].JabraSpeaker == "Yes" ? "checked" : "")>
                                                    <span class="checkmark"></span>
                                                </label>
                                            </td>
                                            <td>
                                                <label class="checkbox-container">
                                                    <label class="f-600"> Additional Office Monitor</label>
                                                    <input type="checkbox" name="chkAdditionalOfficeMonitor" id="chkAdditionalOfficeMonitor" value="Additional Office Monitor" disabled="disabled" @(ITARF.one[0].AdditionalOfficeMonitor == "Yes" ? "checked" : "")>
                                                    <span class="checkmark"></span>
                                                </label>
                                            </td>
                                            <td class="align">
                                                <label class="checkbox-container">
                                                    <label class="f-600">iPad</label>
                                                    <input type="checkbox" name="chkiPad" id="chkiPad" value="iPad" disabled="disabled" @(ITARF.one[0].iPad == "Yes" ? "checked" : "")>
                                                    <span class="checkmark"></span>
                                                </label>
                                            </td>
                                        </tr>
                                    </table> }
        
                                <table class="table mainTbl table-bordered form-table-container-2">

                                    <tr>
                                        <td colspan="6" class="allFormLables borderLTB f-600">
                                            <span>Reason for Asset Requisition(Business Justification)</span>
                                        </td>

                                    </tr>
                                    <tr>
                                        <td colspan="6" class="allFormLables borderLTB f-600">
                                            <textarea class="textTrans txtDisable" cols="60" rows="10" name="txtBusinessNeed" id="txtBusinessNeed">@(!IsNew || !IsEdit ? (ITARF.one[0].BusinessNeed ?? ""):"")</textarea>
                                        </td>
                                    </tr>
                                </table>
                                @if (!IsNew || !IsEdit)
                                {

                                    <table class="table mainTbl table-bordered form-table-container-2 bg-color">
                                        <tr>
                                            <td class="table-width">
                                                <table class="table mainTbl table-bordered form-table-container-2 bg-color-2">

                                                    <tr>
                                                        <td class="f-600">
                                                            Requestor Signature: @(!IsNew || !IsEdit ? (ITARF.two[0].Author.Title ?? " ") : " ")
                                                        </td>
                                                    </tr>

                                                    <tr>
                                                        <td>
                                                            <input type="text" name="" class="w-100 txtDisable inpIsNewDisable input-width-1" value="@("Initiated on " + Convert.ToDateTime(ITARF.two[0].Created).ToShortDateString() + " " + Convert.ToDateTime(ITARF.two[0].Created).ToShortTimeString())">
                                                        </td>
                                                    </tr>

                                                </table>
                                            </td>
                                            <td class="table-width">
                                                <table class="table mainTbl table-bordered form-table-container-2 bg-color-2">

                                                    <tr>
                                                        <td class="f-600">
                                                            CC Manager: @(!IsNew || !IsEdit ? (ITARF.three[0].UserName ?? " ") : " ")
                                                        </td>
                                                    </tr>

                                                    <tr>
                                                        <td>
                                                            <input type="text" name="" class="w-100 txtDisable inpIsNewDisable input-width-1" value="@(!IsNew && ITARF.three[0].ApproverStatus != "Pending" ? (ITARF.three[0].ApproverStatus + " on " + Convert.ToDateTime(ITARF.two[0].Modified).ToShortDateString() + " " + Convert.ToDateTime(ITARF.two[0].Modified).ToShortTimeString()) : "" )">
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <textarea class="w-100" rows="10">@(ITARF.three[0].Comment ?? "")</textarea>
                                                        </td>
                                                    </tr>

                                                </table>
                                            </td>

                                            <td class="table-width">
                                                <table class="table mainTbl table-bordered form-table-container-2 bg-color-2">

                                                    <tr>
                                                        <td class="f-600">
                                                            HOD of Requester: @(!IsNew || !IsEdit ? (ITARF.three[1].UserName ?? " ") : " ")
                                                        </td>
                                                    </tr>

                                                    <tr>
                                                        <td>
                                                            <input type="text" name="" class="w-100 txtDisable inpIsNewDisable input-width-1" value="@(!IsNew && ITARF.three[1].ApproverStatus != "Pending" ? (ITARF.three[1].ApproverStatus + " on " + Convert.ToDateTime(ITARF.two[1].Modified).ToShortDateString() + " " + Convert.ToDateTime(ITARF.two[1].Modified).ToShortTimeString()) : "" )">
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <textarea class="w-100" rows="10">@(ITARF.three[1].Comment ?? "")</textarea>
                                                        </td>
                                                    </tr>
                                                </table>
                                            </td>
                                        </tr>
                                    </table>
                                    if (ITARF.one[0].WorkflowType == "Standard" && ITARF.one[0].WorkstationLaptop == "Yes")
                                    {
                                        if (ITARF.one[0].LANCableAndPort == "Yes")
                                        {
                                            <table class="table mainTbl table-bordered form-table-container-2 bg-color">
                                                <tr>
                                                    <td class="table-width">
                                                        <table class="table mainTbl table-bordered form-table-container-2 bg-color-2">

                                                            <tr>
                                                                <td class="f-600">
                                                                    Head - IT Infrastructure: @(!IsNew || !IsEdit ? (ITARF.three[2].UserName ?? " ") : " ")
                                                                </td>
                                                            </tr>

                                                            <tr>
                                                                <td>
                                                                    <input type="text" name="" class="w-100 txtDisable inpIsNewDisable input-width-1" value="@(!IsNew && ITARF.three[2].ApproverStatus != "Pending" ? (ITARF.three[2].ApproverStatus + " on " + Convert.ToDateTime(ITARF.two[2].Modified).ToShortDateString() + " " + Convert.ToDateTime(ITARF.two[2].Modified).ToShortTimeString()) : "" )">
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td>
                                                                    <textarea class="w-100" rows="10">@(ITARF.three[2].Comment ?? "")</textarea>
                                                                </td>
                                                            </tr>
                                                        </table>
                                                    </td>
                                                    <td class="table-width">
                                                        <table class="table mainTbl table-bordered form-table-container-2 bg-color-2">
                                                            <tr>
                                                                <td colspan="2">
                                                                    IT– Manager (Network): @(!IsNew || !IsEdit ? (ITARF.three[3].UserName ?? " ") : " ")
                                                                </td>

                                                            </tr>

                                                            <tr>
                                                                <td>
                                                                    <input type="text" name="" class="w-100 txtDisable inpIsNewDisable input-width-1" value="@(!IsNew && ITARF.three[3].ApproverStatus != "Pending" ? (ITARF.three[3].ApproverStatus + " on " + Convert.ToDateTime(ITARF.two[3].Modified).ToShortDateString() + " " + Convert.ToDateTime(ITARF.two[3].Modified).ToShortTimeString()) : "" )">
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td>
                                                                    <textarea class="w-100" rows="10">@(ITARF.three[3].Comment ?? "")</textarea>
                                                                </td>
                                                            </tr>
                                                        </table>
                                                    </td>
                                                    <td class="table-width">
                                                        <table class="table mainTbl table-bordered form-table-container-2 bg-color-2">
                                                            <tr>
                                                                <td class="f-600">
                                                                    IT - Service Desk Manager: @(!IsNew || !IsEdit ? (ITARF.three[4].UserName ?? " ") : " ")
                                                                </td>
                                                            </tr>

                                                            <tr>
                                                                <td>
                                                                    <input type="text" name="" class="w-100 txtDisable inpIsNewDisable input-width-1" value="@(!IsNew && ITARF.three[4].ApproverStatus != "Pending" ? (ITARF.three[4].ApproverStatus + " on " + Convert.ToDateTime(ITARF.two[4].Modified).ToShortDateString() + " " + Convert.ToDateTime(ITARF.two[4].Modified).ToShortTimeString()) : "" )">
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td>
                                                                    <textarea class="w-100" rows="10">@(ITARF.three[4].Comment ?? "")</textarea>
                                                                </td>
                                                            </tr>
                                                        </table>
                                                    </td>
                                                </tr>
                                            </table> }
                                        else
                                        {
                                            <table class="table mainTbl table-bordered form-table-container-2 bg-color">
                                                <tr>
                                                    <td class="table-width">
                                                        <table class="table mainTbl table-bordered form-table-container-2 bg-color-2">

                                                            <tr>
                                                                <td class="f-600">
                                                                    Head - IT Infrastructure: @(!IsNew || !IsEdit ? (ITARF.three[2].UserName ?? " ") : " ")
                                                                </td>

                                                            </tr>

                                                            <tr>
                                                                <td>
                                                                    <input type="text" name="" class="txtDisable inpIsNewDisable input-width-1" value="@(!IsNew && ITARF.three[2].ApproverStatus != "Pending" ? (ITARF.three[2].ApproverStatus + " on " + Convert.ToDateTime(ITARF.two[2].Modified).ToShortDateString() + " " + Convert.ToDateTime(ITARF.two[2].Modified).ToShortTimeString()) : "" )">
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td>
                                                                    <textarea class="w-100" rows="10">@(ITARF.three[2].Comment ?? "")</textarea>
                                                                </td>
                                                            </tr>
                                                        </table>
                                                    </td>
                                                    <td class="table-width">
                                                        <table class="table mainTbl table-bordered form-table-container-2 bg-color-2">

                                                            <tr>
                                                                <td class="f-600">
                                                                    IT - Service Desk Manager: @(!IsNew || !IsEdit ? (ITARF.three[3].UserName ?? " ") : " ")
                                                                </td>
                                                            </tr>

                                                            <tr>
                                                                <td class="f-600">
                                                                    <input type="text" name="" class="w-100 txtDisable inpIsNewDisable input-width-1" value="@(!IsNew && ITARF.three[3].ApproverStatus != "Pending" ? (ITARF.three[3].ApproverStatus + " on " + Convert.ToDateTime(ITARF.two[3].Modified).ToShortDateString() + " " + Convert.ToDateTime(ITARF.two[3].Modified).ToShortTimeString()) : "" )">
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td>
                                                                    <textarea class="w-100" rows="10">@(ITARF.three[3].Comment ?? "")</textarea>
                                                                </td>
                                                            </tr>
                                                        </table>
                                                    </td>
                                                    <td class="table-width">
                                                        <table class="table mainTbl table-bordered form-table-container-2 bg-color-2">
                                                        </table>
                                                    </td>
                                                    <td class="table-width">
                                                        <table class="table mainTbl table-bordered form-table-container-2 bg-color-2">
                                                        </table>
                                                    </td>
                                                </tr>
                                            </table> }
                                    }
                                    else if (ITARF.one[0].WorkflowType == "Deviation" && ITARF.one[0].WorkstationLaptop == "Yes")
                                    {
                                        if (ITARF.one[0].LANCableAndPort == "Yes")
                                        {
                                            <table class="table mainTbl table-bordered form-table-container-2 bg-color">
                                                <tr>
                                                    <td class="table-width">
                                                        <table class="table mainTbl table-bordered form-table-container-2 bg-color-2">

                                                            <tr>
                                                                <td class="f-600">
                                                                    Director: @(!IsNew || !IsEdit ? (ITARF.three[2].UserName ?? " ") : " ")
                                                                </td>

                                                            </tr>

                                                            <tr>
                                                                <td>
                                                                    <input type="text" name="" class="w-100 txtDisable inpIsNewDisable input-width-1" value="@(!IsNew && ITARF.three[2].ApproverStatus != "Pending" ? (ITARF.three[2].ApproverStatus + " on " + Convert.ToDateTime(ITARF.two[2].Modified).ToShortDateString() + " " + Convert.ToDateTime(ITARF.two[2].Modified).ToShortTimeString()) : "" )">
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td>
                                                                    <textarea class="w-100" rows="10">@(ITARF.three[2].Comment ?? "")</textarea>
                                                                </td>
                                                            </tr>
                                                        </table>
                                                    </td>
                                                    <td class="table-width">
                                                        <table class="table mainTbl table-bordered form-table-container-2 bg-color-2">

                                                            <tr>
                                                                <td class="f-600">
                                                                    Managing Director: @(!IsNew || !IsEdit ? (ITARF.three[3].UserName ?? " ") : " ")
                                                                </td>

                                                            </tr>

                                                            <tr>
                                                                <td>
                                                                    <input type="text" name="" class="w-100 txtDisable inpIsNewDisable input-width-1" value="@(!IsNew && ITARF.three[3].ApproverStatus != "Pending" ? (ITARF.three[3].ApproverStatus + " on " + Convert.ToDateTime(ITARF.two[3].Modified).ToShortDateString() + " " + Convert.ToDateTime(ITARF.two[3].Modified).ToShortTimeString()) : "" )">
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td>
                                                                    <textarea class="w-100" rows="10">@(ITARF.three[3].Comment ?? "")</textarea>
                                                                </td>
                                                            </tr>
                                                        </table>
                                                    </td>
                                                    <td class="table-width">
                                                        <table class="table mainTbl table-bordered form-table-container-2 bg-color-2">

                                                            <tr>
                                                                <td class="f-600">
                                                                    Head - IT Infrastructure: @(!IsNew || !IsEdit ? (ITARF.three[4].UserName ?? " ") : " ")
                                                                </td>
                                                            </tr>

                                                            <tr>
                                                                <td>
                                                                    <input type="text" name="" class="w-100 txtDisable inpIsNewDisable input-width-1" value="@(!IsNew && ITARF.three[4].ApproverStatus != "Pending" ? (ITARF.three[4].ApproverStatus + " on " + Convert.ToDateTime(ITARF.two[4].Modified).ToShortDateString() + " " + Convert.ToDateTime(ITARF.two[4].Modified).ToShortTimeString()) : "" )">
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td>
                                                                    <textarea class="w-100" rows="10">@(ITARF.three[4].Comment ?? "")</textarea>
                                                                </td>
                                                            </tr>
                                                        </table>
                                                    </td>
                                                </tr>
                                            </table>
                                            <table class="table mainTbl table-bordered form-table-container-2 bg-color">
                                                <tr>
                                                    <td class="table-width">
                                                        <table class="table mainTbl table-bordered form-table-container-2 bg-color-2">

                                                            <tr>
                                                                <td class="f-600">
                                                                    IT– Manager (Network): @(!IsNew || !IsEdit ? (ITARF.three[5].UserName ?? " ") : " ")
                                                                </td>
                                                            </tr>

                                                            <tr>
                                                                <td>
                                                                    <input type="text" name="" class="w-100 txtDisable inpIsNewDisable input-width-1" value="@(!IsNew && ITARF.three[5].ApproverStatus != "Pending" ? (ITARF.three[5].ApproverStatus + " on " + Convert.ToDateTime(ITARF.two[5].Modified).ToShortDateString() + " " + Convert.ToDateTime(ITARF.two[5].Modified).ToShortTimeString()) : "" )">
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td>
                                                                    <textarea class="w-100" rows="10">@(ITARF.three[5].Comment ?? "")</textarea>
                                                                </td>
                                                            </tr>
                                                        </table>
                                                    </td>
                                                    <td class="table-width">
                                                        <table class="table mainTbl table-bordered form-table-container-2 bg-color-2">

                                                            <tr>
                                                                <td class="f-600">
                                                                    IT - Service Desk Manager: @(!IsNew || !IsEdit ? (ITARF.three[6].UserName ?? " ") : " ")
                                                                </td>
                                                            </tr>

                                                            <tr>
                                                                <td class="f-600">
                                                                    <input type="text" name="" class="w-100 txtDisable inpIsNewDisable input-width-1" value="@(!IsNew && ITARF.three[6].ApproverStatus != "Pending" ? (ITARF.three[6].ApproverStatus + " on " + Convert.ToDateTime(ITARF.two[6].Modified).ToShortDateString() + " " + Convert.ToDateTime(ITARF.two[6].Modified).ToShortTimeString()) : "" )">
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td>
                                                                    <textarea class="w-100" rows="10">@(ITARF.three[6].Comment ?? "")</textarea>
                                                                </td>
                                                            </tr>
                                                        </table>
                                                    </td>
                                                    <td class="table-width">
                                                        <table class="table mainTbl table-bordered form-table-container-2 bg-color-2">
                                                        </table>
                                                    </td>
                                                    <td class="table-width">
                                                        <table class="table mainTbl table-bordered form-table-container-2 bg-color-2">
                                                        </table>
                                                    </td>
                                                </tr>
                                            </table> }
                                        else
                                        {
                                            <table class="table mainTbl table-bordered form-table-container-2 bg-color">
                                                <tr>
                                                    <td class="table-width">
                                                        <table class="table mainTbl table-bordered form-table-container-2 bg-color-2">

                                                            <tr>
                                                                <td class="f-600">
                                                                    Director: @(!IsNew || !IsEdit ? (ITARF.three[2].UserName ?? " ") : " ")
                                                                </td>

                                                            </tr>

                                                            <tr>
                                                                <td>
                                                                    <input type="text" name="" class="w-100 txtDisable inpIsNewDisable input-width-1" value="@(!IsNew && ITARF.three[2].ApproverStatus != "Pending" ? (ITARF.three[2].ApproverStatus + " on " + Convert.ToDateTime(ITARF.two[2].Modified).ToShortDateString() + " " + Convert.ToDateTime(ITARF.two[2].Modified).ToShortTimeString()) : "" )">
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td>
                                                                    <textarea class="w-100" rows="10">@(ITARF.three[2].Comment ?? "")</textarea>
                                                                </td>
                                                            </tr>
                                                        </table>
                                                    </td>
                                                    <td class="table-width">
                                                        <table class="table mainTbl table-bordered form-table-container-2 bg-color-2">

                                                            <tr>
                                                                <td class="f-600">
                                                                    Managing Director: @(!IsNew || !IsEdit ? (ITARF.three[3].UserName ?? " ") : " ")
                                                                </td>

                                                            </tr>

                                                            <tr>
                                                                <td>
                                                                    <input type="text" name="" class="w-100 txtDisable inpIsNewDisable input-width-1" value="@(!IsNew && ITARF.three[3].ApproverStatus != "Pending" ? (ITARF.three[3].ApproverStatus + " on " + Convert.ToDateTime(ITARF.two[3].Modified).ToShortDateString() + " " + Convert.ToDateTime(ITARF.two[3].Modified).ToShortTimeString()) : "" )">
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td>
                                                                    <textarea class="w-100" rows="10">@(ITARF.three[3].Comment ?? "")</textarea>
                                                                </td>
                                                            </tr>
                                                        </table>
                                                    </td>
                                                    <td class="table-width">
                                                        <table class="table mainTbl table-bordered form-table-container-2 bg-color-2">


                                                            <tr>
                                                                <td class="f-600">
                                                                    Head - IT Infrastructure: @(!IsNew || !IsEdit ? (ITARF.three[4].UserName ?? " ") : " ")
                                                                </td>
                                                            </tr>

                                                            <tr>
                                                                <td>
                                                                    <input type="text" name="" class="w-100 txtDisable inpIsNewDisable input-width-1" value="@(!IsNew && ITARF.three[4].ApproverStatus != "Pending" ? (ITARF.three[4].ApproverStatus + " on " + Convert.ToDateTime(ITARF.two[4].Modified).ToShortDateString() + " " + Convert.ToDateTime(ITARF.two[4].Modified).ToShortTimeString()) : "" )">
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td>
                                                                    <textarea class="w-100" rows="10">@(ITARF.three[4].Comment ?? "")</textarea>
                                                                </td>
                                                            </tr>
                                                        </table>
                                                    </td>
                                                </tr>
                                            </table>
                                            <table class="table mainTbl table-bordered form-table-container-2 bg-color">
                                                <tr>

                                                    <td class="table-width">
                                                        <table class="table mainTbl table-bordered form-table-container-2 bg-color-2">
                                                            <tr>
                                                                <td class="f-600">
                                                                    IT - Service Desk Manager: @(!IsNew || !IsEdit ? (ITARF.three[5].UserName ?? " ") : " ")
                                                                </td>
                                                            </tr>

                                                            <tr>
                                                                <td>
                                                                    <input type="text" name="" class="w-100 txtDisable inpIsNewDisable input-width-1" value="@(!IsNew && ITARF.three[5].ApproverStatus != "Pending" ? (ITARF.three[5].ApproverStatus + " on " + Convert.ToDateTime(ITARF.two[5].Modified).ToShortDateString() + " " + Convert.ToDateTime(ITARF.two[5].Modified).ToShortTimeString()) : "" )">
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td>
                                                                    <textarea class="w-100" rows="10">@(ITARF.three[5].Comment ?? "")</textarea>
                                                                </td>
                                                            </tr>
                                                        </table>
                                                    </td>

                                                </tr>
                                            </table>
                                        }
                                    }


                                    if (ITARF.one[0].WorkflowType == "Standard" && ITARF.one[0].WorkstationDesktop == "Yes")
                                    {
                                        if (ITARF.one[0].LANCableAndPort == "Yes")
                                        {
                                            <table class="table mainTbl table-bordered form-table-container-2 bg-color">
                                                <tr>
                                                    <td class="table-width">
                                                        <table class="table mainTbl table-bordered form-table-container-2 bg-color-2">

                                                            <tr>
                                                                <td class="f-600">
                                                                    IT– Manager (Network): @(!IsNew || !IsEdit ? (ITARF.three[2].UserName ?? " ") : " ")
                                                                </td>

                                                            </tr>
                                                            <tr>
                                                                <td>
                                                                    <input type="text" name="" class="w-100 txtDisable inpIsNewDisable input-width-1" value="@(!IsNew && ITARF.three[2].ApproverStatus != "Pending" ? (ITARF.three[2].ApproverStatus + " on " + Convert.ToDateTime(ITARF.two[2].Modified).ToShortDateString() + " " + Convert.ToDateTime(ITARF.two[2].Modified).ToShortTimeString()) : "" )">
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td>
                                                                    <textarea class="w-100" rows="10">@(ITARF.three[2].Comment ?? "")</textarea>
                                                                </td>
                                                            </tr>
                                                        </table>
                                                    </td>
                                                    <td class="table-width">
                                                        <table class="table mainTbl table-bordered form-table-container-2 bg-color-2">

                                                            <tr>
                                                                <td class="f-600">
                                                                    IT - Service Desk Manager: @(!IsNew || !IsEdit ? (ITARF.three[3].UserName ?? " ") : " ")
                                                                </td>

                                                            </tr>


                                                            <tr>
                                                                <td>
                                                                    <input type="text" name="" class="w-100 txtDisable inpIsNewDisable input-width-1" value="@((!IsNew ||!IsEdit) && ITARF.three[3].ApproverStatus != "Pending" ? (ITARF.three[3].ApproverStatus + " on " + Convert.ToDateTime(ITARF.two[3].Modified).ToShortDateString() + " " + Convert.ToDateTime(ITARF.two[3].Modified).ToShortTimeString()) : "" )">
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td>
                                                                    <textarea class="w-100" rows="10">@(ITARF.three[3].Comment ?? "")</textarea>
                                                                </td>
                                                            </tr>
                                                        </table>
                                                    </td>
                                                    <td class="table-width">
                                                        <table class="table mainTbl table-bordered form-table-container-2 bg-color-2">
                                                        </table>
                                                    </td>
                                                </tr>
                                            </table> }
                                        else
                                        {
                                            <table class="table mainTbl table-bordered form-table-container-2 bg-color">
                                                <tr>
                                                    <td class="table-width">
                                                        <table class="table mainTbl table-bordered form-table-container-2 bg-color-2">
                                                            <tr>
                                                                <td class="f-600">
                                                                    IT - Service Desk Manager:@(!IsNew || !IsEdit ? (ITARF.three[2].UserName ?? " ") : " ")
                                                                </td>

                                                            </tr>

                                                            <tr>
                                                                <td>
                                                                    <input type="text" name="" class="w-100 txtDisable inpIsNewDisable input-width-1" value="@(!IsNew && ITARF.three[2].ApproverStatus != "Pending" ? (ITARF.three[2].ApproverStatus + " on " + Convert.ToDateTime(ITARF.two[2].Modified).ToShortDateString() + " " + Convert.ToDateTime(ITARF.two[2].Modified).ToShortTimeString()) : "" )">
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td>
                                                                    <textarea class="w-100" rows="10">@(ITARF.three[2].Comment ?? "")</textarea>
                                                                </td>
                                                            </tr>
                                                        </table>
                                                    </td>
                                                    <td class="table-width">
                                                        <table class="table mainTbl table-bordered form-table-container-2 bg-color-2">
                                                        </table>
                                                    </td>
                                                    <td class="table-width">
                                                        <table class="table mainTbl table-bordered form-table-container-2 bg-color-2">
                                                        </table>
                                                    </td>
                                                </tr>
                                            </table> }
                                    }
                                    else if (ITARF.one[0].WorkflowType == "Deviation" && ITARF.one[0].WorkstationDesktop == "Yes")
                                    {
                                        if (ITARF.one[0].LANCableAndPort == "Yes")
                                        {
                                            <table class="table mainTbl table-bordered form-table-container-2 bg-color">
                                                <tr>
                                                    <td class="table-width">
                                                        <table class="table mainTbl table-bordered form-table-container-2 bg-color-2">
                                                            <tr>
                                                                <td class="f-600">
                                                                    Director: @(!IsNew || !IsEdit ? (ITARF.three[2].UserName ?? " ") : " ")
                                                                </td>

                                                            </tr>

                                                            <tr>
                                                                <td>
                                                                    <input type="text" name="" class="w-100 txtDisable inpIsNewDisable input-width-1" value="@(!IsNew && ITARF.three[2].ApproverStatus != "Pending" ? (ITARF.three[2].ApproverStatus + " on " + Convert.ToDateTime(ITARF.two[2].Modified).ToShortDateString() + " " + Convert.ToDateTime(ITARF.two[2].Modified).ToShortTimeString()) : "" )">
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td>
                                                                    <textarea class="w-100" rows="10">@(ITARF.three[2].Comment ?? "")</textarea>
                                                                </td>
                                                            </tr>
                                                        </table>
                                                    </td>
                                                    <td class="table-width">
                                                        <table class="table mainTbl table-bordered form-table-container-2 bg-color-2">
                                                            <tr>
                                                                <td class="f-600">
                                                                    Managing Director: @(!IsNew || !IsEdit ? (ITARF.three[3].UserName ?? " ") : " ")
                                                                </td>

                                                            </tr>

                                                            <tr>
                                                                <td>
                                                                    <input type="text" name="" class="w-100 txtDisable inpIsNewDisable input-width-1" value="@(!IsNew && ITARF.three[3].ApproverStatus != "Pending" ? (ITARF.three[3].ApproverStatus + " on " + Convert.ToDateTime(ITARF.two[3].Modified).ToShortDateString() + " " + Convert.ToDateTime(ITARF.two[3].Modified).ToShortTimeString()) : "" )">
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td>
                                                                    <textarea class="w-100" rows="10">@(ITARF.three[3].Comment ?? "")</textarea>
                                                                </td>
                                                            </tr>
                                                        </table>
                                                    </td>
                                                    <td class="table-width">
                                                        <table class="table mainTbl table-bordered form-table-container-2 bg-color-2">
                                                            <tr>
                                                                <td class="f-600">
                                                                    IT– Manager (Network): @(!IsNew || !IsEdit ? (ITARF.three[4].UserName ?? " ") : " ")
                                                                </td>
                                                            </tr>

                                                            <tr>
                                                                <td>
                                                                    <input type="text" name="" class="w-100 txtDisable inpIsNewDisable input-width-1" value="@(!IsNew && ITARF.three[4].ApproverStatus != "Pending" ? (ITARF.three[4].ApproverStatus + " on " + Convert.ToDateTime(ITARF.two[4].Modified).ToShortDateString() + " " + Convert.ToDateTime(ITARF.two[4].Modified).ToShortTimeString()) : "" )">
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td>
                                                                    <textarea class="w-100" rows="10">@(ITARF.three[4].Comment ?? "")</textarea>
                                                                </td>
                                                            </tr>
                                                        </table>
                                                    </td>
                                                </tr>
                                            </table>
                                            <table class="table mainTbl table-bordered form-table-container-2 bg-color">
                                                <tr>
                                                    <td class="table-width">
                                                        <table class="table mainTbl table-bordered form-table-container-2 bg-color-2">
                                                            <tr>
                                                                <td class="f-600">
                                                                    IT - Service Desk Manager: @(!IsNew || !IsEdit ? (ITARF.three[5].UserName ?? " ") : " ")
                                                                </td>
                                                            </tr>

                                                            <tr>
                                                                <td>
                                                                    <input type="text" name="" class="w-100 txtDisable inpIsNewDisable input-width-1" value="@(!IsNew && ITARF.three[5].ApproverStatus != "Pending" ? (ITARF.three[5].ApproverStatus + " on " + Convert.ToDateTime(ITARF.two[5].Modified).ToShortDateString() + " " + Convert.ToDateTime(ITARF.two[5].Modified).ToShortTimeString()) : "" )">
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td>
                                                                    <textarea class="w-100" rows="10">@(ITARF.three[5].Comment ?? "")</textarea>
                                                                </td>
                                                            </tr>
                                                        </table>
                                                    </td>

                                                </tr>
                                            </table> }
                                        else
                                        {
                                            <table class="table mainTbl table-bordered form-table-container-2 bg-color">
                                                <tr>
                                                    <td class="table-width">
                                                        <table class="table mainTbl table-bordered form-table-container-2 bg-color-2">
                                                            <tr>
                                                                <td class="f-600">
                                                                    Director: @(!IsNew || !IsEdit ? (ITARF.three[2].UserName ?? " ") : " ")
                                                                </td>

                                                            </tr>

                                                            <tr>
                                                                <td>
                                                                    <input type="text" name="" class="w-100 txtDisable inpIsNewDisable input-width-1" value="@(!IsNew && ITARF.three[2].ApproverStatus != "Pending" ? (ITARF.three[2].ApproverStatus + " on " + Convert.ToDateTime(ITARF.two[2].Modified).ToShortDateString() + " " + Convert.ToDateTime(ITARF.two[2].Modified).ToShortTimeString()) : "" )">
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td>
                                                                    <textarea class="w-100" rows="10">@(ITARF.three[2].Comment ?? "")</textarea>
                                                                </td>
                                                            </tr>
                                                        </table>
                                                    </td>
                                                    <td class="table-width">
                                                        <table class="table mainTbl table-bordered form-table-container-2 bg-color-2">
                                                            <tr>
                                                                <td class="f-600">
                                                                    Managing Director: @(!IsNew || !IsEdit ? (ITARF.three[3].UserName ?? " ") : " ")
                                                                </td>

                                                            </tr>

                                                            <tr>
                                                                <td>
                                                                    <input type="text" name="" class="w-100 txtDisable inpIsNewDisable input-width-1" value="@(!IsNew && ITARF.three[3].ApproverStatus != "Pending" ? (ITARF.three[3].ApproverStatus + " on " + Convert.ToDateTime(ITARF.two[3].Modified).ToShortDateString() + " " + Convert.ToDateTime(ITARF.two[3].Modified).ToShortTimeString()) : "" )">
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td>
                                                                    <textarea class="w-100" rows="10">@(ITARF.three[3].Comment ?? "")</textarea>
                                                                </td>
                                                            </tr>
                                                        </table>
                                                    </td>
                                                    <td class="table-width">
                                                        <table class="table mainTbl table-bordered form-table-container-2 bg-color-2">
                                                            <tr>
                                                                <td class="f-600">
                                                                    IT - Service Desk Manager: @(!IsNew || !IsEdit ? (ITARF.three[4].UserName ?? " ") : " ")
                                                                </td>
                                                            </tr>

                                                            <tr>
                                                                <td>
                                                                    <input type="text" name="" class="w-100 txtDisable inpIsNewDisable input-width-1" value="@(!IsNew && ITARF.three[4].ApproverStatus != "Pending" ? (ITARF.three[4].ApproverStatus + " on " + Convert.ToDateTime(ITARF.two[4].Modified).ToShortDateString() + " " + Convert.ToDateTime(ITARF.two[4].Modified).ToShortTimeString()) : "" )">
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td>
                                                                    <textarea class="w-100" rows="10">@(ITARF.three[4].Comment ?? "")</textarea>
                                                                </td>
                                                            </tr>
                                                        </table>
                                                    </td>
                                                </tr>
                                            </table>}
                                    }
                                }


                                <table class="w-100 form-border">
                                    <tr>
                                        <td class="bt-0"></td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
            <div>
                <p class="text-left f-600">SF_FI_001</p>
            </div>
            @if (IsNew)
            {
                if (!IsEdit)
                {
                    <div class="card-footer align-content-center">
                        <button type="button" class="btn btn-primary btn-sm submit-btn" id="btnSubmit">
                            Re-Submit
                        </button>
                        <button type="reset" class="btn btn-danger btn-sm cancl-btn">
                            Cancel
                        </button>
                    </div> }
                else
                {
                    <div class="card-footer align-content-center">
                        <button type="button" class="btn btn-primary btn-sm submit-btn" id="btnSubmit">
                            Submit
                        </button>
                        <button type="reset" class="btn btn-danger btn-sm cancl-btn">
                            Cancel
                        </button>
                    </div>}
            }

        </form>
    </div>
</div>
<div class="modal fade" id="successModel" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header modelHeader">
                <span class="modal-title modalMsgTitle" id="modalTitle"></span>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <label id="modalBody" class="lableMsg">  </label>
            </div>
            <div class="modal-footer">
                <button type="button" class="submitBomBtn publishBtn" id="modalOkButton">OK</button>
            </div>
        </div>
    </div>
</div>

<script>
 // For Email Update
    var spinner = $('#loader');
    var FlagRedirect = @Html.Raw(Json.Encode(FlagRedirect));
    var formID = @Html.Raw(Json.Encode(FormId));
    var RowId = @Html.Raw(Json.Encode(RowId));
    // For Email Update
     var isNew = @Html.Raw(Json.Encode(IsNew));
    var itarf = @Html.Raw(Json.Encode(ITARF));
    console.log(itarf);
    var appRowId = @Html.Raw(Json.Encode(AppRowId));
    var approvalType =@Html.Raw(Json.Encode(ApprovalType));
    var isEdit = @Html.Raw(Json.Encode(IsEdit));
    pageLoad();
    function pageLoad() {
        spinner.hide();// For Email Update
        getRequestType();
        getRequestFor();
        showHideControls();
        empDetails();
        getEmployeeType();
        getOtherEmployeeType();

        if (isNew) {

            getDesignations();
            getServiceDeskLocations();
            getExternalOrganization();
           // getCurrentDateTime();

            //$("#OtherEmpName").hide();

            GetApprovers();
        }
        if (!isNew) {
            $(".inpDisable").attr("disabled", "disabled");
            $(".txtDisable").prop("readonly", true);
        }
    }

     $("#txtOtherEmpname").autocomplete({
        source: function (request, response) {
            $.ajax({
                url: "/List/GetEmployeeDetails",
                dataType: "json",
                cache: false,
                async: false,
                data: {
                    searchText: $("#txtOtherEmpname").val()
                },
                success: function (data) {
                    ////
                    response($.map(data, function (item) {
                        console.log(data, 'data');
                        return { label: item.FirstName, value: item.FirstName, raw: item };
                    }));
                }
            });
        },
        search: function (event, ui) {
            var value = $("#txtOtherEmpname").val();
            // If less than three chars, cancel the search event
            if (value.length < 4) {
                event.preventDefault();
            }
        },
        min_length: 4,
        delay: 0,
        select: function (event, ui) {
            ////
            var empOtherDetails = ui.item['raw'];
            console.log(empOtherDetails);
            //Get the other details like Cost Center Code, Employee Number from DB.
            $.ajax({
                url: "/List/GetExistingEmployeeDetails",
                dataType: "json",
                cache: false,
                async: false,
                data: {
                    otherEmpUserId: empOtherDetails.Email,
                },
                success: function (data) {
                    console.log(data, 'data');
                    //$('#txtOtherEmpCCCode').val(data.CostCenter);
                    $('#txtEmployeeCode').val(data.EmpNumber);
                    $('#txtDepartment').val(data.Department);
                    $('#txtEmployeeName').val(data.UserName);
                    $('#txtCostcenterCode').val(data.CostCenter);
                    $('#txtUserId').val(data.UserId);
                    $('#txtContactNo').val(data.PhoneNumber);
                    $("#drpEmployeeType").prop("selectedIndex", 1).val();
                }
            });
        }
    });

    function getDesignations() {
        if (isNew) {
            if (!isEdit) {
                var value = JSON.stringify(itarf[0]);
                console.log(value)
                var value_1 = JSON.parse(value);
                var selectedDesignation = value_1.Value[0].EmployeeDesignation;
                console.log(selectedDesignation);
                var selectedOtherDesignation = value_1.Value[0].OtherEmployeeDesignation;
                console.log(selectedOtherDesignation);

                $.ajax({
                    type: "POST",
                    url: "/List/GetDesignations",
                    contentType: "application/json; charset=utf-8",
                    datatype: 'json',
                    cache: false,
                    async: false,
                    success: function (data) {
                        console.log(data);
                        var s = '<option value="">Select</option>';
                        var s1 = '<option value="">Select</option>';

                        for (var i = 0; i < data.length; i++) {
                            if (data[i].JobTitle == selectedDesignation) {
                                console.log("hiiii" + data[i].JobTitle);
                                s += '<option value="' + data[i].JobTitle + '" selected>' + data[i].JobTitle + '</option>';
                            }
                            else {
                                s += '<option value="' + data[i].JobTitle + '">' + data[i].JobTitle + '</option>';
                            }

                            if (data[i].JobTitle == selectedOtherDesignation) {
                                console.log("hiiii" + data[i].JobTitle);
                                s1 += '<option value="' + data[i].JobTitle + '" selected>' + data[i].JobTitle + '</option>';
                            }
                            else {
                                s1 += '<option value="' + data[i].JobTitle + '">' + data[i].JobTitle + '</option>';
                            }
                        }
                        $("#ddEmpDesignation").html(s);
                        $("#ddOtherEmpDesignation").html(s1);
                    },          ////success
                    error: function () {
                        //alert('Failed to retrieve modules.');
                    }
                });
            }
            else {

                $.ajax({
                    type: "POST",
                    url: "/List/GetDesignations",
                    contentType: "application/json; charset=utf-8",
                    datatype: 'json',
                    cache: false,
                    async: false,
                    success: function (data) {
                        console.log(data);
                        var s = '<option value="">Select</option>';

                        for (var i = 0; i < data.length; i++) {
                            s += '<option value="' + data[i].JobTitle + '">' + data[i].JobTitle + '</option>';
                        }
                        $("#ddEmpDesignation").html(s);
                        $("#ddOtherEmpDesignation").html(s);
                    },
                    error: function (data) {
                        //code
                    }
                });

            }
        }
    }

    function getServiceDeskLocations() {
        if (isNew) {
            if (!isEdit) {
                //
                var value = JSON.stringify(itarf[0]);
                console.log(value)
                var value_1 = JSON.parse(value);
                var selectedLocation = value_1.Value[0].EmployeeLocation;
                console.log(selectedLocation);
                var selectedOtherLocation = value_1.Value[0].OtherEmployeeLocation;
                console.log(selectedOtherLocation);

                $.ajax({
                    type: "GET",
                    url: "/List/GetServiceDeskLocations",
                    contentType: "application/json; charset=utf-8",
                    datatype: 'json',
                    cache: false,
                    async: false,
                    success: function (data) {
                        console.log(data);
                        var s = '<option value="">Select</option>';
                        var s1 = '<option value="">Select</option>';

                        for (var i = 0; i < data.length; i++) {
                            if (data[i].LocationName == selectedLocation) {
                                s += '<option value="' + data[i].LocationName + '" selected>' + data[i].LocationName + '</option>';
                            }
                            else {
                                s += '<option value="' + data[i].LocationName + '">' + data[i].LocationName + '</option>';
                            }

                            if (data[i].LocationName == selectedOtherLocation) {
                                s1 += '<option value="' + data[i].LocationName + '" selected>' + data[i].LocationName + '</option>';
                            }
                            else {
                                s1 += '<option value="' + data[i].LocationName + '">' + data[i].LocationName + '</option>';
                            }

                        }
                        $("#ddEmpLocation").html(s);
                        $("#ddOtherEmpLocation").html(s1);
                    },
                    error: function () {

                    }
                });
            }
            else {
                $.ajax({
                    type: "GET",
                    url: "/List/GetServiceDeskLocations",
                    contentType: "application/json; charset=utf-8",
                    datatype: 'json',
                    cache: false,
                    async: false,
                    success: function (data) {
                        console.log("Hi=" + data);
                        var s = '<option value="">Select</option>';

                        for (var i = 0; i < data.length; i++) {
                            s += '<option value="' + data[i].LocationName + '">' + data[i].LocationName + '</option>';
                        }
                        $("#ddEmpLocation").html(s);
                        $("#ddOtherEmpLocation").html(s);
                    },
                    error: function () {

                    }
                });
            }
        }
    }

    function getExternalOrganization() {
        if (isNew) {
            if (!isEdit) {
                var value = JSON.stringify(itarf[0]);
                console.log(value)
                var value_1 = JSON.parse(value);
                var selectedOrganization = value_1.Value[0].ExternalOrganizationName;
                console.log(selectedOrganization);
                var selectedOtherOrganization = value_1.Value[0].OtherExternalOrganizationName;
                console.log(selectedOtherOrganization);

                $.ajax({
                    type: "GET",
                    url: "/List/GetExternalOrganization",
                    contentType: "application/json; charset=utf-8",
                    datatype: 'json',
                    cache: false,
                    async: false,
                    success: function (data) {
                        console.log(data);

                        var s = '<option value="">Select</option>';
                        var s1 = '<option value="">Select</option>';

                        for (var i = 0; i < data.length; i++) {
                            if (data[i].Organization == selectedOrganization) {
                                console.log("hiiii" + data[i].Organization);
                                s += '<option value="' + data[i].Organization + '" selected>' + data[i].Organization + '</option>';
                            }
                            else {
                                s += '<option value="' + data[i].Organization + '">' + data[i].Organization + '</option>';
                            }

                            if (data[i].Organization == selectedOtherOrganization) {
                                console.log("hiiii" + data[i].Organization);
                                s1 += '<option value="' + data[i].Organization + '" selected>' + data[i].Organization + '</option>';
                            }
                            else {
                                s1 += '<option value="' + data[i].Organization + '">' + data[i].Organization + '</option>';
                            }
                        }
                        $("#ddExternalOrganizationName").html(s);
                        $("#ddOtherExternalOrganizationName").html(s1);
                    },
                    error: function () {

                    }
                });
            }
            else {
                $.ajax({
                    type: "GET",
                    url: "/List/GetExternalOrganization",
                    contentType: "application/json; charset=utf-8",
                    datatype: 'json',
                    cache: false,
                    async: false,
                    success: function (data) {
                        console.log(data);
                        var s = '<option value="">Select</option>';
                        for (var i = 0; i < data.length; i++) {
                            s += '<option value="' + data[i].Organization + '">' + data[i].Organization + '</option>';
                        }
                        $("#ddExternalOrganizationName").html(s);
                        $("#ddOtherExternalOrganizationName").html(s);
                    },
                    error: function () {

                    }
                });
            }
        }
    }

    function GetApprovers() {
        $.ajax({
            url: '/ITAsset/GetITARFApprovalList',
            type: 'GET',
            data: {},
            dataType: 'JSON',
            success: (function (data) {
                ////
                approverData = data;
                console.log(data);
                var row = "";
                for (var i = 0; i < data.length; i++) {
                    row += '<input type="hidden" id="hidden' + data[i].Department + 'Approver" name="hidden' + data[i].Department + 'Approver" value="' + data[i].ApproverEmailId + '">';
                }
                $("#hiddenApproverInformation").html(row);

            }),
            error: (function (data) {
                //code
            })
        });
    }

    function empDetails() {
        ////
        //$("#txtOtherEmpname").autocomplete({
        console.log("Hi Employee");
        $("#txtOtherEmployeeName").autocomplete({
            source: function (request, response) {
                $.ajax({
                    url: "/List/GetEmployeeDetails",
                    dataType: "json",
                    cache: false,
                    async: false,
                    data: {
                        searchText: $("#txtOtherEmployeeName").val()
                    },
                    success: function (data) {
                        ////
                        response($.map(data, function (item) {
                            console.log(data, 'data');
                            return { label: item.FirstName, value: item.FirstName, raw: item };
                        }));
                    }
                });
            },
            search: function (event, ui) {
                var value = $("#txtOtherEmployeeName").val();
                // If less than three chars, cancel the search event
                if (value.length < 4) {
                    event.preventDefault();
                }
            },
            min_length: 4,
            delay: 0,
            select: function (event, ui) {
                ////
                var empOtherDetails = ui.item['raw'];
                //Get the other details like Cost Center Code, Employee Number from DB.
                $.ajax({
                    url: "/List/GetExistingEmployeeDetails",
                    dataType: "json",
                    cache: false,
                    async: false,
                    data: {
                        otherEmpUserId: empOtherDetails.Email,
                    },
                    success: function (data) {
                        console.log(data, 'data');
                        //$('#txtOtherEmpCCCode').val(data.CostCenter);
                        $('#txtOtherEmployeeCode').val(data.EmpNumber);
                        $('#txtOtherDepartment').val(data.Department);
                        $('#txtOtherEmployeeName').val(data.UserName);
                        $('#txtOtherCostcenterCode').val(data.CostCenter);
                        $('#txtOtherUserId').val(data.UserId);
                        $('#txtOtherContactNo').val(data.PhoneNumber);
                        $('#txtOtherEmailId').val(data.Email);
                         $('#txtEmployeeUserId').val(data.EmpNumber);
                        // $('input[id="chkInternal"]').prop("checked", true);
                        //$('input[id="chkInternal"]').prop("disabled", true);
                        EmailId = data.Email;
                        console.log(EmailId);
                        var emailExt = EmailIDValidation(EmailId);
                        if (emailExt == true) {
                            $('input[id="chkExternal"]').prop("checked", true);
                            $("#chkEmployeeType").val('External');
                            $("#ddOtherEmpDesignation").empty();
                            $("#ddOtherEmpDesignation").append('<option value="">Select</option><option value="Team Member">Team Member</option>');
                            $("#ExternalOrganizationName").show();
                            $("#lblExternalOrganizationName").show();
                        }
                        else {
                            $('input[id="chkInternal"]').prop("checked", true);
                            $("#chkEmployeeType").val('Internal');
                        }
                    }
                });
            }

        });
    }

     function RequestSubmissionFor() {

         var drpRequestSubmissionFor = $("#drpRequestSubmissionFor").val();
         if (drpRequestSubmissionFor == "OnBehalf") {
            //$("#txtEmployeeCode").val("");
            //$("#txtCostcenterCode").val("");
            //$("#txtUserId").val("");
            //$("#txtEmployeeName").val("");
            //$("#txtDepartment").val("");
            //$("#txtContactNo").val("");
            //$('#txtEmailId').val("");
            //$('input[id="chkInternal"]').prop("checked", false);
            //$('input[id="chkExternal"]').prop("checked", false);
             $('#OtherEmployeeOptions').show();

            // $("#ddEmpDesignation").prop("selectedIndex", 0).val();
            // $("#ddEmpLocation").prop("selectedIndex", 0).val();
        }
         else if (drpRequestSubmissionFor == "Self") {
             $('#OtherEmployeeOptions').hide();
             $('#txtEmployeeUserId').val(@user.EmpNumber);
          @*  $("#txtEmployeeCode").val("@user.EmpNumber");
            $("#txtCostcenterCode").val("@user.CostCenter");
            $("#txtUserId").val("@user.UserId");
            $("#txtEmployeeName").val("@user.UserName");
             $("#txtDepartment").val("@user.Department");
             $("#txtContactNo").val("@user.PhoneNumber");
             EmailId = "@user.Email";
             console.log(EmailId);
             var emailExt = EmailIDValidation(EmailId);
             if (emailExt == true) {
                 $('input[id="chkExternal"]').prop("checked", true);
                  $("#chkEmployeeType").val('External');
                 $("#ddEmpDesignation").empty();
                 $("#ddEmpDesignation").append('<option value="">Select</option><option value="Team Member">Team Member</option>');
                 $("#ExternalOrganizationName").show();
                 $("#lblExternalOrganizationName").show();
             }
             else {
                 $('input[id="chkInternal"]').prop("checked", true);
                  $("#chkEmployeeType").val('Internal');
             }
            $('#txtEmailId').val("@user.Email");
             $('input[id="chkinternal"]').prop("checked", false);
             $('input[id="chkExternal"]').prop("checked", false);
             $("#ddEmpDesignation").prop("selectedIndex", 0).val();
             $("#ddEmpLocation").prop("selectedIndex", 0).val();*@
        }
        else {
            //$("#OtherEmpName").hide();
            //$("#txtEmployeeCode").val("");
            //$("#txtCostcenterCode").val("");
            //$("#txtUserId").val("");
            //$("#txtEmployeeName").val("");
            //$("#txtDepartment").val("");
            //$("#txtContactNo").val("");
            //$('input[id="chkInternal"]').prop("checked", false);
            //$('input[id="chkExternal"]').prop("checked", false);
            //$('input[id="chkInternal"]').prop("disabled", false);
            //$('input[id="chkExternal"]').prop("disabled", false);
            //$("#ExternalOrganizationName").hide();
            // $("#ExternalOtherOrganizationName").hide();
            // $("#lblExternalOrganizationName").hide();
            // $("#lblExternalOtherOrganizationName").hide();
            //$("#ddEmpDesignation").prop("selectedIndex", 0).val();
            //$("#ddEmpLocation").prop("selectedIndex", 0).val();
             }
     }

     function EmailIDValidation(txt) {
        console.log("email-validation");
        var result = txt.includes("extern");
        console.log(result);
        return result;
    }

     $("#ddExternalOrganizationName").change(function () {
        if ($(this).val() == 'Other') {
            console.log("other selected");
            $("#ExternalOtherOrganizationName").show();
            $("#lblExternalOtherOrganizationName").show();
        }
        else {
            $("#ExternalOtherOrganizationName").hide();
            $("#lblExternalOtherOrganizationName").hide();
            $("#txtExternalOtherOrganizationName").val("");
        }
    });

     $("#ddOtherExternalOrganizationName").change(function () {
         if ($(this).val() == 'Other') {
             console.log("other selected");
             $("#OtherExternalOtherOrganizationName").show();
             $("#lblOtherExternalOtherOrganizationName").show();
         }
         else {
             $("#OtherExternalOtherOrganizationName").hide();
             $("#lblOtherExternalOtherOrganizationName").hide();
             $("#txtOtherExternalOtherOrganizationName").val("");
         }
     });

     function showHideControls() {
         console.log("Hi");
         $('input[type=radio][name=rdOnBehalfOption]').click(function () {
                    console.log("hello radio");

                    var onBehalfOption = $(this).val();
                    console.log(onBehalfOption);

                    if (onBehalfOption == "Existing") {
                        $('#otherEmployeeDetailsSection').show();
                        $('#rdOnBehalfOption').val('Existing');
                        $('#txtOtherEmployeeName').autocomplete({ disabled: false });
                        empDetails();
                    }
                    else {
                        $('#otherEmployeeDetailsSection').show();
                        $("#txtOtherEmployeeCode").val("");
                        $("#txtOtherCostcenterCode").val("");
                        $("#txtOtherUserId").val("");
                        $("#txtOtherEmployeeName").val("");
                        $("#txtOtherDepartment").val("");
                        $("#txtOtherContactNo").val("");
                        $('#txtOtherEmailId').val("");
                        $('#txtOtherEmployeeName').autocomplete({ disabled: true });
                        $('input[id="chkOtherInternal"]').prop("checked", false);
                        $('input[id="chkOtherExternal"]').prop("checked", false);
                    }

                });
     }

    function getRequestType() {

        $('input:checkbox[id="chkPermanent"]').click(function () {
            if ($(this).prop("checked") == true) {
                console.log("Permanent checked")
                $("#chkRequestType").val('Permanent');
                $("#TemporaryDateFrom").hide();
                $("#TemporaryDateTo").hide();
                $('input[id="chkTemporary"]').prop("checked", false);
            }
            else {
                $('input[id="chkTemporary"]').attr('disabled', false);
                $("#chkRequestType").val('');
            }
        });

        $('input:checkbox[id="chkTemporary"]').click(function () {
            if ($(this).prop("checked") == true) {
                console.log("Temporary checked")
                $("#chkRequestType").val('Temporary');
                $("#TemporaryDateFrom").show();
                $("#TemporaryDateTo").show();
                $('input[id="chkPermanent"]').prop("checked", false);
            }
            else {
                $('input[id="chkPermanent"]').attr('disabled', false);
                $("#TemporaryDateFrom").hide();
                $("#TemporaryDateTo").hide();
                $("#chkRequestType").val('');
            }
        });
    }

    function allowNumbersOnly(e) {
        var code = (e.which) ? e.which : e.keyCode;
        if (code > 31 && (code < 48 || code > 57)) {
            e.preventDefault();
        }
    }
    function alphaOnly(e) {
        var key = e.keyCode;
        if (key > 32 && (key < 65 || key > 122 || key == 91 || key == 92 || key == 93 || key == 94 || key == 95 || key == 96)) {
            e.preventDefault();
        }
    }
    function redirectUser() {
        window.location = '/Dashboard';
    }


    function successModal(txt) {
    ////
    $('#modalTitle').html('Success');
    if (txt == "approve") {
        $('#modalBody').html('Form has been approved!');
        FlagRedirect = txt;// For Email Update
    }
    else if (txt == "reject") {
        $('#modalBody').html('Form has been rejected!');
    }
    else if (txt == "enquire") {
        $('#modalBody').html('Form has been enquired!');
    }
    else if (txt == "cancelled") {
        $('#modalBody').html('Form has been cancelled!');
    }
    else {
        $('#modalBody').html('Your form with ID: ITARF' + txt + ' has been submitted! Kindly use this for future reference');
        FlagRedirect = txt;// For Email Update
    }
   // $("#modalOkButton").attr('data-dismiss', 'modal');//Commented For Email Update
    $("#successModel").modal('show');
    }

    function failureModal() {
        $('#modalTitle').html('Failure');
        $('#modalBody').html('Some error occurred!');
        $("#modalOkButton").attr('data-dismiss', 'modal');
        $("#successModel").modal('show');
    }

    function requiredModal(text) {
        $('#modalTitle').html('Required');
        $('#modalBody').html(text + '!');
        $("#modalOkButton").attr('data-dismiss', 'modal');
        $("#successModel").modal('show');
    }


    $("#btnSubmit").on('click', function (e) {
        e.preventDefault();
        if (($("#chkInternal").prop("checked") == false) && ($("#chkExternal").prop("checked") == false)) {
            requiredModal("Please select the Type of Employee");
            return false;
        }

        var employeeCodelen = $("#txtEmployeeCode").val().length;
        if (employeeCodelen == 0 || employeeCodelen < 0) {
            requiredModal('Please enter a valid Employee Code');
            return false;
        }

        var costCenterNumlen = $("#txtCostcenterCode").val().length;
        if (costCenterNumlen < 6) {
            requiredModal('Please enter a valid Cost Center Code');
            return false;
        }

        var userIdlen = $("#txtUserId").val().length;
        if (userIdlen == 0 || userIdlen < 0) {
            requiredModal('Please enter a valid User Id');
            return false;
        }
        var name = document.getElementById("txtEmployeeName").value;
        if (name == "") {
            requiredModal("Please enter the Name of Employee");
            return false;
        }
        var department = document.getElementById("txtDepartment").value;
        if (department == "") {
            requiredModal("Please enter the Department");
            return false;
        }
        var contactNumlen = $("#txtContactNo").val().length;
        if (contactNumlen == 0 || contactNumlen > 10 || contactNumlen < 0) {
            requiredModal('Please enter a valid Contact Number');
            return false;
        }
        var designation = document.getElementById("ddEmpDesignation").selectedIndex;
        if (designation == 0) {
            requiredModal("Please select Designation");
            return false;
        }

        var location = document.getElementById("ddEmpLocation").selectedIndex;
        if (location == 0) {
            requiredModal("Please select Location");
            return false;
        }

        var businessNeed = document.getElementById("txtBusinessNeed").value;
        if (businessNeed == "") {
            requiredModal("Please enter the Business Need");
            return false;
        }

        if ($("#chkTemporary").prop("checked") == true) {
            var dateTempFrom = document.forms["ITARForm"]["txtTempFrom"].value;
            var dateTempTo = document.forms["ITARForm"]["txtTempTo"].value;

            if (dateTempFrom == "") {
                requiredModal("Please select the Temporary From Date");
                return false;
            }
            if (dateTempTo == "") {
                requiredModal("Please select the Temporary To Date");
                return false;
            }

        }
        if (($("#chkWorkstationDesktop").prop("checked") == false) && ($("#chkWorkstationLaptop").prop("checked") == false)) {
            requiredModal("Please select the Desktop/Laptop option");
            return false;
        }


        $("#pageLoader").removeClass('invisible');

        var form = $("#ITARForm").serialize();
        console.log(form);

        $.ajax({
            url: '/ITAsset/CreateITAssetRequisitionRequest',
            type: 'POST',
            data: form,
            cache: false,
            dataType: 'JSON',
            success: (function (data) {
                if (data[0].Value == 1) {
                    console.log(data);
                    $("#pageLoader").addClass('invisible');
                    successModal(data[1].Value);
                    $("#ITARForm").trigger("reset");
                    //redirectUser();
                }
                else {
                    failureModal();
                    $("#pageLoader").addClass('invisible');
                    $("#ITARForm").trigger("reset");
                }
            }),
            error: (function (data) {
                failureModal();
                $("#pageLoader").addClass('invisible');
                $("#ITARForm").trigger("reset");
            })
        })
    });


    function saveResponse(text) {
        var status = '', comment = '';
        comment = $("#comment-" + text).val();
        switch (text) {
            case 'approve': {
                status = 'Approved';
                break;
            }
            case 'reject': {
                status = 'Rejected';
                if (comment == '') {
                    validityModal(text);
                    return;
                }
                break;
            }
            case 'enquire': {
                status = 'Enquired';
                if (comment == '') {
                    validityModal(text);
                    return;
                }
                break;
            }
        }
        $.ajax({
            url: '/List/SaveResponse',
            type: 'POST',
            data: { response: status, appRowId: appRowId, comment: comment, approvalType: approvalType },
            dataType: 'JSON',
            success: (function (data) {
                if (data == 1) {
                    successModal(text);
                    $("#ITARForm").trigger("reset");
                    setTimeout(FilterMyTasks, 5000)
                }
                else {
                    failureModal();
                    $("#ITARForm").trigger("reset");
                }

            }),
            error: (function (data) {
                failureModal();
                $("#ITARForm").trigger("reset");
            })
        })

        return false;
    }
    function validityModal(txt) {
        if (txt == 'reject') {
            DisplayAlert('error', 'Warning', 'Please type in the reason for rejecting the form');
        }
        else if (txt == 'enquire') {
            DisplayAlert('error', 'Warning', 'Please type in the reason for enquiring the form');
        }
    }

    function getRequestFor() {
        $('input:checkbox[id="chkWorkstationDesktop"]').click(function () {
            if ($(this).prop("checked") == true) {

                $('input[id="chkWorkstationLaptop"]').prop("checked", false);
            }
        });

        $('input:checkbox[id="chkWorkstationLaptop"]').click(function () {
            if ($(this).prop("checked") == true) {

                $('input[id="chkWorkstationDesktop"]').prop("checked", false);
            }
        });
    }
    function getEmployeeType() {
        var empType = document.getElementById("drpEmployeeType").value;
        console.log("hi="+empType);
        if (empType == "External") {
            $("#lblExternalOrganizationName").show();
            $("#ExternalOrganizationName").show();
            $("#OtherEmpName").hide();
            $("#lblPartnerOrganizationName").hide();
            $("#PartnerOrganizationName").hide();
        }

        if (empType == "Partner") {

            $("#lblPartnerOrganizationName").show();
            $("#PartnerOrganizationName").show();
            $("#ExternalOrganizationName").hide();
            $("#ExternalOtherOrganizationName").hide();
            $("#lblExternalOrganizationName").hide();
            $("#lblExternalOtherOrganizationName").hide();
        }
        if (empType == "Internal") {

            $("#lblPartnerOrganizationName").hide();
            $("#PartnerOrganizationName").hide();
            $("#ExternalOrganizationName").hide();
            $("#ExternalOtherOrganizationName").hide();
            $("#lblExternalOrganizationName").hide();
            $("#lblExternalOtherOrganizationName").hide();
        }
    }

    function getOtherEmployeeType() {
        var empType = document.getElementById("drpOtherEmployeeType").value;
        console.log("hi=" + empType);
        if (empType == "External") {
            $("#lblOtherExternalOrganizationName").show();
            $("#OtherExternalOrganizationName").show();
            $("#lblOtherPartnerOrganizationName").hide();
            $("#OtherPartnerOrganizationName").hide();
            //$("#txtOtherEmployeeCode").val("");
            //$("#txtOtherCostcenterCode").val("");
            //$("#txtOtherUserId").val("");
            //$("#txtOtherEmployeeName").val("");
            //$("#txtOtherDepartment").val("");
            //$("#txtOtherContactNo").val("");
            // show
            //$("#ddOtherExternalOrganizationName").prop("selectedIndex", 0).val();
            //$("#ddOtherEmpDesignation").prop("selectedIndex", 0).val();
            //$("#ddOtherEmpLocation").prop("selectedIndex", 0).val();
        }

        if (empType == "Partner") {

            $("#lblOtherPartnerOrganizationName").show();
            $("#OtherPartnerOrganizationName").show();
            $("#OtherExternalOrganizationName").hide();
            $("#OtherExternalOtherOrganizationName").hide();
            $("#lblOtherExternalOrganizationName").hide();
            $("#lblOtherExternalOtherOrganizationName").hide();

        }
        if (empType == "Internal") {

            $("#lblOtherPartnerOrganizationName").hide();
            $("#OtherPartnerOrganizationName").hide();
            $("#OtherExternalOrganizationName").hide();
            $("#OtherExternalOtherOrganizationName").hide();
            $("#lblOtherExternalOrganizationName").hide();
            $("#lblOtherExternalOtherOrganizationName").hide();
        }
    }

    // For Email Update
    $("#modalOkButton").on('click', function () {
        ////

        if (FlagRedirect != null) {
            spinner.show();
            $.ajax({
                url: '/EmailService/FormStatus',
                type: 'POST',
                data: { dataRowId: RowId, formID: formID },
                dataType: 'JSON',
                success: (function (data) {
                    if (data.Result == 1) {
                        spinner.hide();
                        window.location = "../Dashboard";
                    }
                    else {
                        spinner.hide();
                        window.location = "../Dashboard";
                    }
                }),
                error: (function (data) {
                    spinner.hide();
                    window.location = "../Dashboard";
                })
            })
        }
    });
    // For Email Update

    function date_val() {
        var today = new Date().toISOString().split('T')[0];
        document.getElementsByName("txtTempFrom")[0].setAttribute("min", today);
    }
</script>
<script>
    $(document).ready(function () {
        $('.temp-checkbox').on('click', function () {
            $('.per').removeClass('per-checkbox');
            $('.per').addClass('per-checkbox');
        });
    });


</script>