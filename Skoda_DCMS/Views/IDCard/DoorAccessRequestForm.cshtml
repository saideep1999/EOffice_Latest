@model Skoda_DCMS.Models.DARFResults
@{
    bool IsNew = true;
    dynamic IDC = null;
    dynamic FlagRedirect = null;
    bool IsEdit = true;
    int FormId = 0, AppRowId = 0, ApprovalType = 0;
    string AREAID = "";
    Layout = ViewBag.Layout;
    if (ViewBag != null && ViewBag.IsNew != null)
    {
        IsNew = ViewBag.IsNew;
        IsEdit = ViewBag.IsEdit;
        IDC = ViewBag.Model;
        FormId = ViewBag.FormId;
        AppRowId = ViewBag.AppRowId;
        ApprovalType = ViewBag.ApprovalType != null ? (int)ViewBag.ApprovalType : 0;
    }
    var currentUser = (Skoda_DCMS.Models.UserData)HttpContext.Current.Session["UserData"];
    ViewBag.Title = "Door Access Request Form";
    int count = 0;
}
<style>
    /*New design css start here*/
    .astColor {
        color: red;
    }

    .textTrans {
        width: 100%;
        max-width: 99%;
        border-radius: 5px;
        margin-right: 0px;
        border: 1px solid !important;
    }

    .empDetailsBg {
        background-color: #fffbef;
    }

    #accordion select {
        color: #000;
        width: 100% !important;
        height: 45px;
        background-color: #F8F8F8;
        border: 1px solid #BFBFBF;
        box-sizing: border-box;
        border-radius: 5px;
        background-image: url(data:image/svg+xml;utf8,<svg fill='black' height='24' viewBox='0 0 24 24' width='24' xmlns='http://www.w3.org/2000/svg'><path d='M7 10l5 5 5-5z'/><path d='M0 0h24v24H0z' fill='none'/></svg>);
        background-repeat: no-repeat;
        background-position: right .75rem center;
        background-size: 16px 12px;
    }

    #accordion input[type='text'] {
        width: 100% !important;
        max-width: 100%;
        height: 45px;
        background-color: #F8F8F8;
        border: 1px solid #BFBFBF !important;
        box-sizing: border-box;
        border-radius: 5px !important;
    }

    #accordion input[type='date'] {
        width: 100% !important;
        max-width: 100%;
        height: 45px;
        background-color: #F8F8F8;
        border: 1px solid #BFBFBF !important;
        box-sizing: border-box;
        border-radius: 5px;
    }

    #accordion input[type='time'] {
        height: 45px;
    }

    #accordion label {
        font-size: 16px;
        line-height: 22px;
        font-weight: 600;
        color: #201F1F;
    }

    #accordion table tr td {
        border: none !important;
        font-size: 16px;
        line-height: 19px;
        color: #201F1F;
        background-color: white;
        padding: 10px 0;
    }

    #accordion label {
        display: block;
    }

    #accordion .card-header {
        background: rgb(4 59 100) !important;
        border-radius: 5px 5px 0px 0px;
        position: relative;
        margin-top: 15px;
    }

        #accordion .card-header.collapsed h5:after {
            content: '+';
            position: absolute;
            right: 22px;
            top: 17px;
            font-size: 20px;
            font-weight: 600;
            color: #fff;
        }

        #accordion .card-header h5:after {
            content: '-';
            position: absolute;
            right: 22px;
            top: 17px;
            font-size: 20px;
            font-weight: 600;
            color: #fff;
        }

    #accordion h5 button {
        font-size: 18px;
        line-height: 22px;
        /* identical to box height */
        padding-left: 0px;
        display: flex;
        align-items: center;
        text-transform: uppercase;
        /* Text_white */

        color: #FFFFFF;
    }

        #accordion h5 button:focus {
            box-shadow: none;
        }

    .empDetailsFields label {
        display: block !important;
        margin-bottom: 0px;
    }

    .empDetailsFields .row label {
        display: block;
        margin-bottom: 0px;
    }

        .empDetailsFields .row label:nth-child(1) {
            font-style: normal;
            font-weight: normal !important;
            font-size: 12px;
            line-height: 18px;
            color: #A9A9A9 !important;
        }

        .empDetailsFields .row label:nth-child(2) {
            font-style: normal;
            font-weight: normal;
            font-size: 18px;
            line-height: 22px;
            color: #201F1F;
        }

    .firstLastName {
        font-style: normal;
        font-weight: normal;
        font-size: 20px;
        line-height: 24px;
        /* identical to box height */

        display: flex;
        align-items: center;
        color: #201F1F;
    }

    .submit-btn {
        background: #3D3D3D;
        border-radius: 5px;
        font-style: normal;
        font-weight: normal;
        font-size: 16px;
        line-height: 173.7%;
        /* identical to box height, or 28px */
        padding: 0.5rem 2rem;
        display: flex;
        align-items: center;
        text-align: center;
        text-transform: uppercase;
        color: #FFFFFF;
        border-color: transparent !important;
    }

    .cancl-btn {
        background: #FAE99B;
        border-radius: 5px;
        font-style: normal;
        font-weight: normal;
        font-size: 16px;
        border-color: transparent !important;
        line-height: 173.7%;
        /* identical to box height, or 28px */
        padding: 0.5rem 2rem;
        display: flex;
        align-items: center;
        text-align: center;
        text-transform: uppercase;
        color: #212221;
        margin-left: 10px;
    }




    .card-footer {
        display: flex;
        background-color: transparent !important;
    }

    .photo-form {
        width: 100%;
    }

    .ui-front {
        z-index: 9999999 !important;
    }

    /* NEW UI CSS END*/


    .showBorder {
        border: 1px solid #dee2e6;
    }

    .multiselect {
        height: 47px;
        margin-top: -1px;
    }
    /*Animation CSS Starts*/

    div.input-block {
        position: relative;
    }

        div.input-block input {
            font-weight: 500;
            font-size: 1rem;
            color: #000;
            width: 188px;
            padding: 15px 15px;
            border-bottom-left-radius: 5px !important;
            border-top-left-radius: 5px !important;
            border-bottom-right-radius: 0px !important;
            border-top-right-radius: 0px !important;
            border: 1px solid #D9D9D9;
            outline: none;
        }

        div.input-block textarea {
            font-weight: 500;
            font-size: 1rem;
            color: #000;
            width: 100%;
            padding: 15px 15px;
            border-bottom-left-radius: 5px !important;
            border-top-left-radius: 5px !important;
            border-bottom-right-radius: 0px !important;
            border-top-right-radius: 0px !important;
            background-color: #fff;
            border: 1px solid #D9D9D9;
            outline: none;
        }

        div.input-block span.placeholder {
            position: absolute;
            margin: 17px 0;
            padding: 0 4px;
            font-family: Roboto, sans-serif;
            color: #6c757d;
            display: flex;
            align-items: center;
            font-size: 1rem;
            top: -6px;
            left: 15px;
            transition: all 0.2s;
            transform-origin: 0% 0%;
            background: none;
            pointer-events: none;
            z-index: 1;
        }

        div.input-block textarea:focus + span.placeholder {
            transform: scale(0.8) translateY(-25px);
            background-color: #fff !important;
        }

        div.input-block textarea:valid + span.placeholder,
        div.input-block textarea:focus + span.placeholder {
            transform: scale(0.8) translateY(-25px) !important;
            background: #fff !important;
        }

        div.input-block input:valid + span.placeholder,
        div.input-block input:focus + span.placeholder {
            transform: scale(0.8) translateY(-25px);
            background-color: rgb(219,238,213);
        }


        div.input-block input.spanUpperSide + span.placeholder {
            transform: scale(0.8) translateY(-25px);
            background-color: rgb(219,238,213);
        }

        div.input-block input:read-only + span.placeholder,
        div.input-block input:read-only + span.placeholder {
            transform: scale(0.8) translateY(-25px);
            background: rgb(219,238,213);
        }


    div.inputSelect span.placeholder {
        position: absolute;
        margin: 17px 0;
        padding: 0 4px;
        font-family: Roboto, sans-serif;
        color: #000;
        display: flex;
        align-items: center;
        font-size: 1rem;
        top: -6px;
        left: 15px;
        transition: all 0.2s;
        transform-origin: 0% 0%;
        background: none;
        pointer-events: none;
        z-index: 1;
    }

    div.inputSelect select:focus + span.placeholder {
        transform: scale(0.8) translateY(-30px);
        background: rgb(219,238,213);
        z-index: 9;
    }

    div.inputSelect select:not([value=""]):valid + span.placeholder {
        transition: all 0.2s;
        transform-origin: 0% 0%;
    }



    div.input-block input:focus + span.placeholder {
        color: #284B63;
    }

    .breadcrumb {
        display: -webkit-box;
        display: -ms-flexbox;
        display: flex;
        -ms-flex-wrap: wrap;
        flex-wrap: wrap;
        padding: 1rem 1rem 0;
        margin-bottom: 0;
        list-style: none;
        background-color: #FFFFFF;
        border-radius: .25rem;
    }

    body.nav-sm .container.body .left_col {
        width: 63px;
        padding: 0;
        position: fixed;
        height: 100%;
        z-index: 8;
    }

    .card {
        position: relative;
        display: -webkit-box;
        display: -ms-flexbox;
        display: flex;
        -webkit-box-orient: vertical;
        -webkit-box-direction: normal;
        -ms-flex-direction: column;
        flex-direction: column;
        min-width: 0;
        word-wrap: break-word;
        background-color: #fff;
        background-clip: border-box;
        border: 0px;
        border-radius: .25rem;
    }

    .dropdown-toggle::after {
        display: none;
        width: 0;
        height: 0;
        margin-left: .255em;
        vertical-align: .255em;
        content: "";
        border-top: .3em solid;
        border-right: .3em solid transparent;
        border-bottom: 0;
        border-left: .3em solid transparent;
    }

    input.spanUpperSide + span.placeholder {
        background-color: rgb(219,238,213);
    }

    inputSelect.spanUpperSide + span.placeholder {
        background-color: rgb(219,238,213) !important;
    }

    select.spanUpperSide + span.placeholder {
        transform: scale(0.8) translateY(-25px) !important;
        background-color: rgb(219,238,213) !important;
        z-index: 9;
    }

    textarea.spanUpperSide + span.placeholder {
        transform: scale(0.8) translateY(-25px) !important;
        background: #fff !important;
        z-index: 9;
    }

    .TransView {
        background-color: white !important;
    }

    @@media only screen and (min-width: 992px) {
        div .input-block span.placeholder {
            font-size: 15px;
        }

        div.inputSelect span.placeholder {
            font-size: 14px;
        }
    }

    input[type='date'].spanUpperSide + span.placeholder {
        transform: scale(0.8) translateY(-25px) !important;
        background: #fff !important;
        z-index: 9;
    }

    .showBorder {
        border: 1px solid #dee2e6;
    }

    .wField {
        width: 233px !important;
        margin-left: 10px;
    }

    @@-moz-document url-prefix() {
        input[type=time]::-ms-clear {
            display: none;
        }
    }

    .datetime-reset-button {
        display: none !important;
    }

    .forShoppingCart {
        margin-left: 14% !important;
    }

    .btn-group {
        display: block !important;
    }

    #accordion label {
        display: inline-block !important;
    }


    .custom-select:focus {
        box-shadow: none !important;
        border-color: none !important;
    }
</style>
<script type="text/javascript">

    function checkSelect(id) {

        if ($('#' + id).val() != '') {
            $('#' + id).addClass('spanUpperSide');
        }
    }
    /*$('#timedemo').pickatime({ twelvehour: true });*/

</script>


<body>
    @if (IsNew)
    {
        if (!IsEdit)
        {
        }
        else
        {
            <div class="breadcrumb-container right_col height-space">
                <div>
                    <ol class="breadcrumb">
                        <li>
                            <a href="/Dashboard?formName=DARF">
                                Dashboard
                            </a>
                        </li>
                        <li>
                            Door Access Request Form
                        </li>

                    </ol>
                </div>
            </div>
            @*<div class="right_col height-space">
                    <div class="form-main-container topContent">
                        <div class="padd_space">

                            Door Access Request Form
                        </div>
                    </div>
                </div>*@
        }
    }
    <div class="right_col">
        <form action="/List/SaveIDCard" id="DARForm" method="post">
            <input type="hidden" id="ScreenId" name="ScreenId" value="Door Access">
            <div class="container">
                <div class="table-responsive">
                    <div id="accordion">
                        <div class="row breadcrumb-container table-bordered  mr-1 ml-1" style="background-color: rgb(219,238,213) !important; ">
                            <div class="col-md-2 col-lg-2">
                                <span class="placeholder">Date : @(!IsNew ||!IsEdit ? (Convert.ToDateTime(IDC.two[0].FormId.Created).ToShortDateString()) : DateTime.Now.ToShortDateString())</span>
                            </div>
                            <div class="col-md-8 col-lg-8 mt-2 mb-1 form-heading" style="text-align:center; margin-top:5px">
                                <span>Door Access Request Form</span>
                            </div>
                            <div class="col-md-2 col-lg-2">
                                @if (!IsNew || !IsEdit)
                                {
                                    <span class="placeholder"> Form Id : @(!IsNew || !IsEdit ? ("IDC" + IDC.two[0].FormID.Id ?? "") : "" )</span>
                                }
                            </div>
                        </div>
                        <div class="heading" id="headingErr">
                            <h1 id="" class="info-header">Following fields are mandatory. Please fill in information for<br /></h1>
                            <div id="add_to_me" class="header-list" style="color:red;"></div>
                        </div>
                        @{
                            Html.RenderPartial("_SubmitterDetails", (ViewBag as object));
                        }
                        @{
                            Html.RenderPartial("_ApplicantDetails", (ViewBag as object));
                        }
                        @if (IsNew)
                        {
                            if (!IsEdit)
                            {
                                foreach (var item in IDC.one)
                                {
                                    @*<div class="container">
                                        <div class="table-responsive">
                                            <div id="accordion">
                                                <table class="table mainTbl table-bordered form-table-container bg-color">
                                                    <tr>
                                                        <td colspan="6" class="heading form-heading">
                                                            <span>MobiNext Technologies India Private Limited</span>
                                                            <input type="hidden" id="FormSrId" name="FormSrId" value="@(IDC.one[0].Id)" />
                                                            <input type="hidden" id="FormId" name="FormId" value="@(FormId)" />
                                                            <input type="hidden" id="AppRowId" name="AppRowId" value="@(AppRowId)" />
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td colspan="6" class="heading form-heading-1">
                                                            <span>SAVWIPL - Door Access Request Form</span>
                                                        </td>
                                                    </tr>
                                                </table>
                                                <div class="heading" id="headingErr">
                                                    <h1 id="" class="info-header">Following fields are mandatory. Please fill in information for<br /></h1>
                                                    <div id="add_to_me" class="header-list" style="color:red;"></div>
                                                </div>*@
                                    @*<div class="card">
                                            <div class="card-header collapsed" id="headingSelf" data-toggle="collapse" data-target="#collapseSelf" aria-expanded="true" aria-controls="collapseSelf">
                                                <h5 class="mb-0">
                                                    <button type="button" class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseSelf" aria-expanded="true" aria-controls="collapseSelf">
                                                        <img src="~/assets/img/empIcon.svg" width="24" height="24" class="mr-2" /> Employee Details
                                                    </button>
                                                </h5>
                                            </div>
                                            <div id="hiddenApproverInformation"></div>
                                            <div id="collapseSelf" class="collapse" aria-labelledby="headingSelf" data-parent="#accordion">
                                                <div class="card-body empDetailsBg">
                                                    <div class="row">
                                                        <div class="col-md-2 col-lg-2 text-center col-12">
                                                            <img src="~/assets/img/empProfile.png" />
                                                        </div>
                                                        <div class="col-md-10 col-lg-10 col-12">
                                                            <div class="empDetailsFields">
                                                                <div class="row">
                                                                    <div class="form-group col-md-6 col-12">
                                                                        <label class="f-600">Request Submission Type:</label>
                                                                        <select name="drpSelfOnBehalf" id="drpSelfOnBehalf" class="drpDisable" onchange="RequestSubmission()">
                                                                            <option @(item.SelfOnBehalf == "Self" ? "selected" : "") value="Self">Self</option>
                                                                            <option @(item.SelfOnBehalf == "OnBehalf" ? "selected" : "") value="OnBehalf">On Behalf</option>
                                                                        </select>
                                                                    </div>
                                                                    <div class="form-group col-md-6 col-12">
                                                                        <label class="f-600">Employee Type:</label>
                                                                        <select name="drpEmployeeType" id="drpEmployeeType" class="w-100 drpDisable" onchange="func()">
                                                                            <option @(item.EmployeeType == "Internal" ? "selected" : "" ) value="Internal">Internal</option>
                                                                            <option @(item.EmployeeType == "External" ? "selected" : "" ) value="External">External</option>
                                                                        </select>
                                                                    </div>
                                                                    <div id="OtherEmpName">
                                                                        <div class="form-group col-md-12 col-12">
                                                                            <label class="f-600">Name (Type at least 4 letters for faster results):</label>
                                                                            <input type="text" name="txtOtherEmpname" id="txtOtherEmpname" class="form-control">
                                                                            <input type="hidden" id="hiddentxtEmail" name="hiddentxtEmail" value="" />
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="form-group col-md-2 col-lg-2 col-12">
                                                                        <label class="firstLastName">First Name:</label>
                                                                        <input type="text" name="txtEmployeeName" autocomplete="off" class="inpDisable inpText" id="txtEmployeeName" value="@(!IsEdit ? (IDC.one[0].EmployeeName ?? "") : "")"><br />
                                                                    </div>
                                                                    <div class="form-group col-md-2 col-lg-2 col-12">
                                                                        <label class="Surname">Surname:</label>
                                                                        <input type="text" name="txtSurname" autocomplete="off" class="inpDisable inpText" id="txtSurname" value="@(!IsEdit ? (IDC.one[0].Surname ?? "") : "")"><br />
                                                                    </div>
                                                                    <div class="form-group col-md-2 col-lg-2 col-12">
                                                                        <label class="f-600">Employee Number:</label>
                                                                        <input type="text" name="txtEmployeeNumber" autocomplete="off" class="inpDisable inpText" id="txtEmployeeNumber" value="@(!IsEdit ? (IDC.one[0].EmployeeNumber ?? "") : "")">
                                                                    </div>
                                                                    <div class="form-group col-md-2 col-lg-2 col-12">
                                                                        <label class="f-600">Department:</label>
                                                                        <input type="text" name="drpDepartment" class="w-40 inpDisable" id="drpDepartment" value="@(!IsEdit ? (IDC.one[0].Department ?? "") : "")">
                                                                    </div>
                                                                    <div class="form-group col-md-2 col-lg-2 col-12">
                                                                        <label class="f-600">Cost Center:</label>
                                                                        <input type="text" name="drpCostCentre" class="w-40 inpDisable" id="drpCostCentre" value="@(!IsEdit ? (IDC.one[0].CostCentre ?? "") : "")">
                                                                    </div>
                                                                    <div class="form-group col-md-2 col-lg-2 col-12">
                                                                        <label class="f-600">Mobile:</label>
                                                                        <input type="text" name="txtMobile" id="txtMobile" class="inpDisable inpText" value="@((!IsNew && IDC.one[0].SelfMobile != 0) || (!IsEdit && IDC.one[0].SelfMobile != 0) ? (IDC.one[0].SelfMobile ?? "") : "")" onkeypress="allowNumbersOnly(event)">
                                                                    </div>
                                                                    <div class="form-group col-md-2 col-lg-2 col-12">
                                                                        <label class="f-600">Telephone (office):</label>
                                                                        <input type="text" name="txtTelephone" id="txtTelephone" class="inpDisable inpText" value="@((!IsNew && IDC.one[0].SelfTelephone != 0) || (!IsEdit && IDC.one[0].SelfTelephone != 0) ? (IDC.one[0].SelfTelephone ?? "") : "")" onkeypress="allowNumbersOnly(event)">
                                                                    </div>
                                                                    <div class="form-group col-md-2 col-lg-2 col-12">
                                                                        <label class="f-600">Date:</label>
                                                                        <input type="text" name="txtDate" id="txtDate" placeholder="/ /" class="w-40 inpDisable" value="@(!IsNew ||!IsEdit ? (Convert.ToDateTime(IDC.two[0].FormId.Created).ToShortDateString()) : DateTime.Now.ToShortDateString())" readonly>
                                                                    </div>
                                                                    <div class="form-group col-md-2 col-lg-2 col-12">
                                                                        <label class="f-600">Email ID:</label>
                                                                        <input type="text" name="txtEmail" id="txtEmail" class="inpDisable" value="@(!IsEdit ? (IDC.one[0].SelfEmailID ?? "") : "")">
                                                                    </div>
                                                                    <div class="form-group col-md-2 col-lg-2 col-12">
                                                                        <label class="f-600">Form ID:</label>
                                                                        <input type="text" name="txtFormId" class="w-40 inpDisable" value="@(!IsNew ||!IsEdit ? ("DARF"+FormId ?? "" ) : "" )" readonly>

                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="card" id="divOnBehalf">
                                            <div class="card-header collapsed" id="headingOnBehalf" data-toggle="collapse" data-target="#collapseOnBehalf" aria-expanded="true" aria-controls="collapseOnBehalf">
                                                <h5 class="mb-0">
                                                    <button type="button" class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseOnBehalf" aria-expanded="true" aria-controls="collapseOnBehalf">
                                                        <img src="~/assets/img/empIcon.svg" width="24" height="24" class="mr-2" />Filling on behalf of Details
                                                    </button>
                                                </h5>
                                            </div>
                                            <div id="collapseOnBehalf" class="collapse" aria-labelledby="headingOnBehalf" data-parent="#accordion">
                                                <div class="card-body empDetailsBg">
                                                    <div class="row">
                                                        <div class="col-md-2 col-lg-2 text-center col-12">
                                                            <img src="~/assets/img/empProfile.png" />
                                                        </div>

                                                        <div class="col-md-10 col-lg-10 col-12">
                                                            <div class="empDetailsFields">
                                                                <div class="row">
                                                                    <div class="form-group col-md-2 col-lg-2 col-12">
                                                                        <label class="firstLastName">First Name:</label>
                                                                        <input type="text" name="txtOnBehalfFirstName" class="inpDisable inpText" id="txtOnBehalfFirstName" value="@(!IsNew || !IsEdit ? (IDC.one[0].OnBehalfFirstName ?? "") : "")">

                                                                    </div>
                                                                    <div class="form-group col-md-2 col-lg-2 col-12">
                                                                        <label class="Surname">Surname:</label>
                                                                        <input type="text" name="txtOnBehalfSurname" class="inpDisable inpText" id="txtOnBehalfSurname" value="@(!IsNew || !IsEdit ? (IDC.one[0].OnBehalfSurname ?? "") : "")">

                                                                    </div>
                                                                    <div class="form-group col-md-2 col-lg-2 col-12">
                                                                        <label class="f-600">Employee ID No.:</label>
                                                                        <input type="text" name="txtOnBehalfEmpId" class="inpDisable inpText" id="txtOnBehalfEmpId" value="@(!IsNew || !IsEdit ? (IDC.one[0].OnBehalfEmployeeIDNo ?? "") : "")" onkeypress="allowNumbersOnly(event)">

                                                                    </div>

                                                                    <div class="form-group col-md-2 col-lg-2 col-12">
                                                                        <label class="f-600">Department:</label>
                                                                        <input type="text" name="drpOnBehalfDepartment" class="w-40 inpDisable" id="drpOnBehalfDepartment" value="@(!IsEdit ? (IDC.one[0].OnBehalfDepartment ?? "") : "")">
                                                                    </div>
                                                                    <div class="form-group col-md-2 col-lg-2 col-12">
                                                                        <label class="f-600">Cost Center:</label>
                                                                        <input type="text" name="drpOnBehalfCostCenter" class="w-40 inpDisable" id="drpOnBehalfCostCenter" value="@(!IsEdit ? (IDC.one[0].OnBehalfCostCenter ?? "") : "")">
                                                                    </div>

                                                                    <div class="form-group col-md-2 col-lg-2 col-12">
                                                                        <label class="f-600">Mobile:</label>
                                                                        <input type="text" name="txtOnBehalfMobile" id="txtOnBehalfMobile" class="inpDisable inpText" value="@((!IsEdit && IDC.one[0].OnBehalfMobile != 0) || (!IsEdit && IDC.one[0].OnBehalfMobile != 0) ? (IDC.one[0].OnBehalfMobile ?? "") : "")" onkeypress="allowNumbersOnly(event)">
                                                                    </div>
                                                                    <div class="form-group col-md-2 col-lg-2 col-12">
                                                                        <label class="f-600">Telephone (office):</label>
                                                                        <input type="text" name="txtOnBehalfTelephone" id="txtOnBehalfTelephone" class="inpDisable inpText" value="@((!IsEdit && IDC.one[0].OnBehalfTelephone != 0) || (!IsEdit && IDC.one[0].OnBehalfTelephone != 0) ? (IDC.one[0].OnBehalfTelephone ?? "") : "")" onkeypress="allowNumbersOnly(event)">

                                                                    </div>

                                                                    <div class="form-group col-md-2 col-lg-2 col-12">
                                                                        <label class="f-600">Date:</label>
                                                                        <input type="text" name="txtDate" id="txtDate" placeholder="/ /" class="w-40 inpDisable" value="@(!IsNew ||!IsEdit ? (Convert.ToDateTime(IDC.two[0].FormId.Created).ToShortDateString()) : DateTime.Now.ToShortDateString())" readonly>

                                                                    </div>

                                                                    <div class="form-group col-md-2 col-lg-2 col-12">
                                                                        <label class="f-600">Email ID:</label>
                                                                        <input type="text" name="txtOnBehalfEmail" id="txtOnBehalfEmail" class="inpDisable inpText" value="@(!IsNew || !IsEdit ? (IDC.one[0].OnBehalfEmailID ?? "") : "")">
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>*@

                                    <div class="card">
                                        <div class="card-header collapsed" id="headingOne" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                            <h5 class="mb-0">
                                                <button type="button" class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                                    <img src="~/assets/img/transactionIcon.svg" width="24" height="24" class="mr-2" />Transaction Fields
                                                </button>
                                            </h5>
                                        </div>
                                        <div id="collapseOne" class="collapse" aria-labelledby="headingOne" data-parent="#accordion">
                                            <div class="card-body">
                                                <div class="form-row">
                                                    <table class="table mainTbl table-bordered form-table-container-2 bg-color f-600">
                                                        <tbody>
                                                            <tr>
                                                                <td class="w-25 allFormLables noTopBorder bold">
                                                                    Profile

                                                                </td>
                                                                <td class="w-25 allFormLables noTopBorder bold" colspan="2">

                                                                    <table class="w-100" border="0">
                                                                        <tr>
                                                                            <td>
                                                                                Please tick if yes
                                                                            </td>

                                                                            <td>
                                                                                <input type="checkbox" id="inlineCheckbox1" value="option1" checked disabled>
                                                                            </td>
                                                                        </tr>

                                                                    </table>

                                                                </td>
                                                                <td class="w-50 allFormLables noTopBorder bold" colspan="2">
                                                                    Sign of respective area in charge
                                                                </td>

                                                            </tr>
                                                            <tr>
                                                                <td class="w-25 allFormLables noTopBorder">
                                                                    Regular Access (Aurangabad Plant)

                                                                </td>
                                                                <td class="w-75 noTopBorder" colspan="3">
                                                                    <input type="checkbox" class="Access" id="AurangabadCheckbox" name="AurangabadCheckbox" @(item.AurangabadProfile == "Aurangabad" ? "checked" : "" ) value="Aurangabad">
                                                                </td>
                                                                <td class="w-50 noTopBorder" colspan="3">
                                                                </td>

                                                            </tr>
                                                            <tr>
                                                                <td class="w-25 allFormLables noTopBorder">
                                                                    Mumbai Office

                                                                </td>
                                                                <td class="w-75 noTopBorder" colspan="3">
                                                                    <input type="checkbox" class="Access" id="MumbaiCheckbox" name="MumbaiCheckbox" @(item.MumbaiProfile == "Mumbai" ? "checked" : "" ) value="Mumbai">
                                                                </td>
                                                                <td class="w-50 noTopBorder" colspan="3">
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td class="w-25 allFormLables noTopBorder">
                                                                    Regular Access (Pune Plant)

                                                                </td>
                                                                <td class="w-75 noTopBorder" colspan="3">
                                                                    <input type="checkbox" class="Access" id="PuneCheckbox" name="PuneCheckbox" @(item.PuneProfile == "Pune" ? "checked" : "" ) value="Pune">
                                                                </td>
                                                                <td class="w-50 noTopBorder" colspan="3">
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td class="w-25 allFormLables noTopBorder">
                                                                    Location Name<br />
                                                                </td>
                                                                <td class="w-75 noTopBorder" colspan="4">
                                                                    <input type="hidden" id="drpLocationValue" name="drpLocationValue" value="">
                                                                    <select class="drpDisable" name="drpLocationName" id="drpLocationName" onclick="formPriority()" onchange="GetArea()"></select>
                                                                </td>
                                                            </tr>
                                                            <tr id="AreaTR">
                                                                <td class="w-25 allFormLables noTopBorder">
                                                                    Area<br />
                                                                </td>
                                                                <td class="w-75 noTopBorder" colspan="4">
                                                                    <select id="AreaListEdit" multiple="multiple"> </select>
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>

                                                    <table id="AreaTableView" class="table mainTbl table table-bordered table-sm dataTable no-footer bg-color">
                                                        <tbody id="tableBodyView">
                                                            @if (IDC.one[0].AreaDetails.Count != 0)
                                                            {
                                                                foreach (var area in IDC.one[0].AreaDetails)
                                                                {
                                                                    AREAID += area.AreaId + ",";
                                                                    <tr id="@("tr_"+@area.AreaId)" class="authsuq bg-color-2">
                                                                        <td class="@("colspan_align"+@area.AreaId)" id="@area.AreaId" value="@area.AreaId">
                                                                            <div class="d-flex justify-content-around">

                                                                                <div class="TableborderDiv f-600">

                                                                                    @area.Area
                                                                                </div>
                                                                                @if (area.SubAreas != null)
                                                                                {
                                                                                    foreach (var subarea in area.SubAreas)
                                                                                    {
                                                                                        <div class="TableborderDiv">
                                                                                            <input type="checkbox" id="@subarea.SubAreaId" value="@subarea.SubAreaId" checked>   @subarea.SubArea  <br>
                                                                                        </div>

                                                                                    }
                                                                                }
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                }
                                                                <input type="hidden" id="hidSelectedOptions" value=@AREAID.TrimEnd(',') />
                                                            }
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="card">
                                        <div class="card-header collapsed" id="headingThree" data-toggle="collapse" data-target="#collapseThree" aria-expanded="true" aria-controls="collapseThree">
                                            <h5 class="mb-0">
                                                <button type="button" class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseThree" aria-expanded="true" aria-controls="collapseThree">
                                                    <img src="~/assets/img/approvalTracking.svg" width="24" height="24" class="mr-2" />Approval Tracking
                                                </button>
                                            </h5>
                                        </div>
                                        <div id="collapseThree" class="collapse" aria-labelledby="headingOne" data-parent="#accordion">
                                            <div class="card-body approvalTracking">
                                                <div class="form-row">
                                                    <table class="table mainTbl table table-bordered table-sm dataTable no-footer bg-color">
                                                        @if (!IsEdit)
                                                        {
                                                            <tr class="bg-color-2">
                                                                <td colspan="6" class="authorize-container photogrph_header">Authorization by HOD</td>
                                                            </tr>
                                                            <tr class="bg-color-2">
                                                                <td colspan="1" class="authorize-td">
                                                                    <label class="f-600">Name:</label>
                                                                    <input type="text" name="" class="input-width-1 author-width" value="@(!IsEdit ? (IDC.three[0].UserName ?? " "): " ")" readonly>
                                                                </td>
                                                                <td class="authorize-td comment-box-2" colspan="2">
                                                                    <div class="form-group">
                                                                        <label class="f-600 align" for="comment">Approver Comment:</label>
                                                                        <textarea class="form-control textareawidth photogrphy-textarea" rows="2" id="comment" disabled>@(!IsEdit ? (IDC.three[0].Comment ?? " "): " ")</textarea>
                                                                    </div>
                                                                </td>

                                                                <td class="authorize-td" colspan="2"><label class="f-600 signature-box-1">Signature:</label><input type="text" name="" class="inpDisable input-width-1 author-width signature-input-1" value="@(!IsEdit && IDC.three[0].ApproverStatus != "Pending" ? (IDC.three[0].ApproverStatus + " on " + Convert.ToDateTime(IDC.two[0].Modified).ToShortDateString()+" "+Convert.ToDateTime(IDC.two[0].Modified).ToShortTimeString()) : "" )" readonly></td>
                                                            </tr>
                                                        }
                                                    </table>
                                                    @if (IDC.one[0].AreaDetails.Count != 0)
                                                    {
                                                        <table id="" class="table mainTbl table table-bordered table-sm dataTable no-footer bg-color">
                                                            <tbody id="">
                                                                <tr class="bg-color-2">
                                                                    <td class="authorize-container">Authorization by Area/Sub Area In charge</td>
                                                                </tr>

                                                                @foreach (var area in IDC.one[0].AreaDetails)
                                                                {
                                                                    <tr id="@("tr_"+@area.AreaId)" class="authsuq bg-color-2">
                                                                        <td class="@("colspan_align"+@area.AreaId) vertical-top" id="@area.AreaId" value="@area.AreaId">
                                                                            <div class="div-table">

                                                                                <div class="area-title align-middle f-600">
                                                                                    <label>@area.Area</label>

                                                                                </div>

                                                                                @if (area.SubAreas != null)
                                                                                {
                                                                                    foreach (var subarea in area.SubAreas)
                                                                                    {

                                                                                        <div class="check-box">

                                                                                            <input type="checkbox" id="@subarea.SubAreaId" value="@subarea.SubAreaId" checked disabled>   @subarea.SubArea  <br>
                                                                                            @if (IDC.four != null)
                                                                                            {

                                                                                                <input type="text" name="" class="inpDisable inpIsNewDisable" value="@(!IsEdit ? (subarea.UserName ?? "") : "")" disabled><br />


                                                                                                <label for="comment" class="f-600">Approver Comment:</label>
                                                                                                <textarea class="form-control" style="font-size: 10px;" rows="2" id="comment" disabled>@(!IsEdit ? (subarea.Comment ?? " ") : " ")</textarea><br />


                                                                                                <input type="text" name="" class="inpDisable inpIsNewDisable input-width-1 auth-area-input" value="@(!IsEdit && subarea.ApproverStatus != "Pending" ? (subarea.ApproverStatus + " on " + Convert.ToDateTime(IDC.four[count].Modified).ToShortDateString()+ " "+ Convert.ToDateTime(IDC.four[count].Modified).ToShortTimeString()) : "" )" disabled>
                                                                                                <br>
                                                                                                <small class="f-600 pl-1">(sign)</small>


                                                                                            }
                                                                                        </div>
                                                                                        count = count + 1;
                                                                                    }
                                                                                }
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                }
                                                            </tbody>
                                                        </table>

                                                    }
                                                    <table id="AreaTable" class="table mainTbl table table-bordered table-sm dataTable no-footer bg-color">
                                                        <tbody id="tableBody">
                                                        </tbody>
                                                    </table>
                                                    <table class="table mainTbl table table-bordered table-sm dataTable no-footer bg-color">
                                                        @if (!IsEdit)
                                                        {
                                                            <tr class="bg-color-2">
                                                                <td colspan="6" class="authorize-container photogrph_header">Authorization by Security</td>
                                                            </tr>
                                                            <tr class="bg-color-2">
                                                                <td colspan="1" class="authorize-td">
                                                                    <label class="f-600">Name:</label>
                                                                    <input type="text" name="" class="input-width-1 author-width" value="@(!IsEdit ? (IDC.three[1].UserName ?? " "): " ")" readonly>
                                                                </td>
                                                                <td class="authorize-td comment-box-2" colspan="2">
                                                                    <div class="form-group">
                                                                        <label class="f-600 align" for="comment">Approver Comment:</label>
                                                                        <textarea class="form-control textareawidth photogrphy-textarea" rows="2" id="comment" disabled>@(!IsEdit ? (IDC.three[1].Comment ?? " "): " ")</textarea>
                                                                    </div>
                                                                </td>

                                                                <td class="authorize-td" colspan="2"><label class="f-600 signature-box-1">Signature:</label><input type="text" readonly name="" class="inpDisable input-width-1 author-width signature-input-1" value="@(!IsEdit && IDC.three[1].ApproverStatus != "Pending" ? (IDC.three[1].ApproverStatus + " on " + Convert.ToDateTime(IDC.two[1].Modified).ToShortDateString()+" "+Convert.ToDateTime(IDC.two[1].Modified).ToShortTimeString()) : "" )"></td>

                                                            </tr>
                                                        }
                                                    </table>

                                                </div>

                                            </div>
                                        </div>

                                    </div>
                                    @*</div>*@

                                    @*</div>
                                        </div>*@
                                }
                            }
                            else
                            {
                                @*<div class="container">
                                    <table class="table mainTbl table-bordered form-table-container bg-color">
                                        <tr>
                                            <td colspan="6" class="heading form-heading">
                                                <span>MobiNext Technologies India Private Limited</span>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="6" class="heading form-heading-1">
                                                <span>SAVWIPL - Door Access Request Form</span>
                                            </td>
                                        </tr>
                                    </table>*@
                                <div id="accordion">
                                    @*<div class="heading" id="headingErr">
                                            <h1 id="" class="info-header">Following fields are mandatory. Please fill in information for<br /></h1>
                                            <div id="add_to_me" class="header-list" style="color:red;"></div>
                                        </div>*@
                                    @*<div class="card">
                                            <div class="card-header collapsed" id="headingSelf" data-toggle="collapse" data-target="#collapseSelf" aria-expanded="true" aria-controls="collapseSelf">
                                                <h5 class="mb-0">
                                                    <button type="button" class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseSelf" aria-expanded="true" aria-controls="collapseSelf">
                                                        <img src="~/assets/img/empIcon.svg" width="24" height="24" class="mr-2" /> Employee Details
                                                    </button>
                                                </h5>
                                            </div>
                                            <div id="collapseSelf" class="collapse" aria-labelledby="headingSelf" data-parent="#accordion">
                                                <div class="card-body empDetailsBg">
                                                    <div class="row">
                                                        <div class="col-md-2 col-lg-2 text-center col-12">
                                                            <img src="~/assets/img/empProfile.png" />
                                                        </div>
                                                        <div id="hiddenApproverInformation"></div>
                                                        <div class="col-md-10 col-lg-10 col-12">
                                                            <div class="empDetailsFields">
                                                                <div class="row">
                                                                    <div class="form-group col-md-6 col-12">
                                                                        <label class="f-600">Request Submission Type<span class="astColor">*</span></label>
                                                                        <select name="drpSelfOnBehalf" id="drpSelfOnBehalf" class="" onchange="RequestSubmission()">
                                                                            <option value="null" disabled selected>Choose..</option>
                                                                            <option value="Self">Self</option>
                                                                            <option value="OnBehalf">On Behalf</option>
                                                                        </select>
                                                                    </div>
                                                                    <div class="form-group col-md-6 col-12">
                                                                        <label class="firstLastName">Employee Type:</label>
                                                                        <select name="drpEmployeeType" id="drpEmployeeType" class="w-40" onchange="func()" required>
                                                                            <option value="" selected disabled>Choose</option>
                                                                            <option value="Internal">Internal</option>
                                                                            <option value="External">External</option>
                                                                        </select>
                                                                    </div>
                                                                    <div id="OtherEmpName">
                                                                        <div class="form-group col-md-12 col-12">
                                                                            <label class="f-600">Name (Type at least 4 letters for faster results):</label>
                                                                            <input type="text" name="txtOtherEmpname" id="txtOtherEmpname" class="form-control" required="required">
                                                                            <input type="hidden" id="hiddentxtEmail" name="hiddentxtEmail" value="" />
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="form-group col-md-2 col-lg-2 col-12">
                                                                        <label class="firstLastName">(First Name):</label>
                                                                        <input type="text" readonly name="txtEmployeeName" autocomplete="off" class="w-100 inpDisable firstname" id="txtEmployeeName" value="@(!IsNew ? (IDC.one[0].EmployeeName ?? "") : "")" onkeypress="alphaOnly(event)" required><br />
                                                                    </div>
                                                                    <div class="form-group col-md-2 col-lg-2 col-12">
                                                                        <label class="firstLastName">(Surname)</label>
                                                                        <input type="text" readonly name="txtSurname" autocomplete="off" class="w-100 inpDisable surname" id="txtSurname" value="@(!IsNew ? (IDC.one[0].Surname ?? "") : "")" onkeypress="alphaOnly(event)" required><br />
                                                                    </div>
                                                                    <div class="form-group col-md-2 col-lg-2 col-12">
                                                                        <label class="f-600">Employee Number</label>
                                                                        <input type="text" readonly name="txtEmployeeNumber" autocomplete="off" class="w-40 inpDisable" id="txtEmployeeNumber" value="@(!IsNew ? (IDC.one[0].EmployeeNumber ?? "") : "")" onkeypress="allowNumbersOnly(event)" required>
                                                                    </div>
                                                                    <div class="form-group col-md-2 col-lg-2 col-12">
                                                                        <label class="f-600">Cost Center</label>
                                                                        <select class="w-40 drpDisable" name="drpCostCentre" id="drpCostCentre" onchange="" required></select>
                                                                        <input type="hidden" id="LocationId" name="LocationId" value="">
                                                                    </div>
                                                                    <div class="form-group col-md-2 col-lg-2 col-12">
                                                                        <label class="f-600">Department</label>
                                                                        <select class="w-40 drpDisable" name="drpDepartment" id="drpDepartment" required></select>
                                                                    </div>
                                                                    <div class="form-group col-md-2 col-lg-2 col-12">
                                                                        <label class="f-600">Mobile:</label>
                                                                        <input type="text" name="txtMobile" id="txtMobile" class="inpText" value="@(!IsNew || !IsEdit ? (IDC.one[0].SelfMobile ?? "") : "")" onkeypress="allowNumbersOnly(event)">
                                                                    </div>
                                                                    <div class="form-group col-md-2 col-lg-2 col-12">
                                                                        <label class="f-600">Telephone (office):</label>
                                                                        <input type="text" name="txtTelephone" id="txtTelephone" class="inpText" value="@(!IsNew || !IsEdit ? (IDC.one[0].SelfTelephone ?? "") : "")" onkeypress="allowNumbersOnly(event)">
                                                                    </div>
                                                                    <div class="form-group col-md-2 col-lg-2 col-12">
                                                                        <label class="f-600">Email ID:</label>
                                                                        <input type="text" name="txtEmail" id="txtEmail" class="inpDisable" readonly>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>


                                                </div>


                                                   <table class="table mainTbl table-bordered form-table-container bg-color">
                                                <tr>
                                                    <td colspan="6" class="heading form-heading">
                                                        <span>MobiNext Technologies India Private Limited</span>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td colspan="6" class="heading form-heading-1">
                                                        <span>SAVWIPL - Door Access Request Form</span>
                                                    </td>
                                                </tr>
                                            </table>

                                                 <table class="table mainTbl table-bordered form-table-container-2 bg-color">
                                                <tr>
                                                    <td class="w-30 allFormLables noTopBorder">
                                                        <label class="f-600"> Self/OnBehalf</label>
                                                    </td>
                                                    <td class="w-70 noTopBorder" colspan="3">
                                                        <select name="drpSelfOnBehalf" id="drpSelfOnBehalf" class="w-40 drpDisable" onchange="RequestSubmission()">
                                                            <option value="-1">Choose</option>
                                                            <option value="Self">Self</option>
                                                            <option value="OnBehalf">On Behalf</option>
                                                        </select>
                                                    </td>
                                                </tr>
                                                <tr id="OtherEmpName">
                                                    <td class="allFormLables noTopBorder">
                                                        <label id="lblOtherEmpName" class="control-label">Name (Type at least 4 letters for faster results)</label>
                                                    </td>
                                                    <td class="borderLTB" colspan="3"><input type="text" name="txtOtherEmpname" id="txtOtherEmpname" class="" required="required"></td>
                                                </tr>
                                                <tr>
                                                    <td class="allFormLables noTopBorder">
                                                        <label class="f-600">Employee Type</label>
                                                        <input type="hidden" id="hiddentxtEmail" name="hiddentxtEmail" value="" />
                                                    </td>
                                                    <td class="noTopBorder" colspan="3">
                                                        <select name="drpEmployeeType" class="w-40" id="drpEmployeeType" onchange="func()" required>
                                                            <option value="" selected>Choose</option>
                                                            <option value="Internal">Internal</option>
                                                            <option value="Partner">Partner</option>
                                                            <option value="External">External</option>
                                                        </select>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td class="allFormLables borderLTB">
                                                        <label class="f-600">Employee Name</label>
                                                    </td>
                                                    <td class="borderLTB" colspan="1">
                                                        <input type="text" name="txtSurname" autocomplete="off" class="w-100 inpDisable surname" id="txtSurname" value="@(!IsNew ? (IDC.one[0].Surname ?? " ") : " ")" onkeypress="alphaOnly(event)" required><br />
                                                        <small><label class="f-600 f-12">(Surname)</label></small>
                                                    </td>
                                                    <td class="borderLTB" colspan="2" style="text-align: left !important">
                                                        <input type="text" name="txtEmployeeName" autocomplete="off" class="w-100 inpDisable firstname" id="txtEmployeeName" value="@(!IsNew ? (IDC.one[0].EmployeeName ?? " ") : " ")" onkeypress="alphaOnly(event)" required><br />
                                                        <small><label class="f-600 f-12">(First Name)</label></small>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td class="allFormLables noTopBorder f-600">
                                                        <label class="f-600">Employee Number</label>
                                                    </td>
                                                    <td class="noTopBorder" colspan="3">
                                                        <input type="text" name="txtEmployeeNumber" autocomplete="off" class="w-40 inpDisable" id="txtEmployeeNumber" value="@(!IsNew ? (IDC.one[0].EmployeeNumber ?? " ") : " ")" onkeypress="allowNumbersOnly(event)" required>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td class="allFormLables noTopBorder">
                                                        <label class="f-600">Cost Center</label>
                                                    </td>
                                                    <td class="noTopBorder" colspan="3">
                                                        <select class="w-40 drpDisable" name="drpCostCentre" id="drpCostCentre" onchange="" required></select>
                                                        <input type="hidden" id="LocationId" name="LocationId" value="">
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td class="allFormLables noTopBorder">
                                                        <label class="f-600">Department</label>
                                                    </td>
                                                    <td class="noTopBorder" colspan="3">
                                                        <select class="w-40 drpDisable" name="drpDepartment" id="drpDepartment" required></select>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td class="w-25 allFormLables noTopBorder bold">
                                                        <label class="f-600">Profile</label>
                                                    </td>
                                                    <td class="allFormLables noTopBorder bold profile-sec-w">
                                                        <table class="w-100" border="0">
                                                            <tbody>
                                                                <tr>
                                                                    <td style="padding-left: 0px !important;">
                                                                        <label class="f-600">Please tick if yes</label>
                                                                    </td>
                                                                    <td>
                                                                        <input type="checkbox" id="inlineCheckbox1" value="option1" checked disabled>
                                                                    </td>
                                                                </tr>

                                                            </tbody>
                                                        </table>
                                                    </td>
                                                    <td class="allFormLables noTopBorder bold text-left" colspan="3">
                                                        <label class="f-600 mt-2">Sign of respective area in charge</label>
                                                    </td>
                                                </tr>
                                                <tr id="AurangabadTR">
                                                    <td class="allFormLables noTopBorder">
                                                        <label class="f-600">Regular Access (Aurangabad Plant)</label>
                                                        <input type="checkbox" class="Access float-right mt-2" id="AurangabadCheckbox" name="AurangabadCheckbox" value="Aurangabad">
                                                    </td>
                                                    <td class="noTopBorder" colspan="3"></td>
                                                </tr>
                                                <tr id="MumbaiTR">
                                                    <td class="allFormLables noTopBorder">
                                                        <label class="f-600">Mumbai Office</label>
                                                        <input type="checkbox" class="Access float-right mt-2" id="MumbaiCheckbox" name="MumbaiCheckbox" value="Mumbai">
                                                    </td>
                                                    <td class="noTopBorder" colspan="3">
                                                    </td>
                                                </tr>
                                                <tr id="PuneTR">
                                                    <td class="allFormLables noTopBorder">
                                                        <label class="f-600">Regular Access (Pune Plant)</label>
                                                        <input type="checkbox" class="Access float-right mt-2" id="PuneCheckbox" name="PuneCheckbox" value="Pune">
                                                    </td>
                                                    <td class="noTopBorder" id="hiddenApproverInformation" colspan="3">
                                                    </td>
                                                </tr>
                                                <tr>
                                                <tr>
                                                    <td class="allFormLables noTopBorder">
                                                        <label class="f-600">Location Name</label>
                                                    </td>
                                                    <td class="noTopBorder" colspan="3">
                                                        <input type="hidden" id="drpLocationValue" name="drpLocationValue" value="">
                                                        <select class="w-40 drpDisable" name="drpLocationName" id="drpLocationName" onchange="GetArea()"></select>
                                                    </td>
                                                </tr>
                                                <tr id="AreaTR">
                                                    <td class="allFormLables noTopBorder">
                                                        <label class="f-600">Area</label>
                                                    </td>
                                                    <td class="noTopBorder" colspan="3">
                                                        <select id="AreaList" class="w-40" multiple="multiple"></select>
                                                    </td>
                                                </tr>
                                            </table>
                                                  <table id="AreaTable" class="table mainTbl table table-bordered table-sm dataTable no-footer bg-color">
                                                <tbody id="tableBody">
                                                </tbody>
                                            </table>


                                            </div>
                                        </div>
                                        <div class="card" id="divOnBehalf">
                                            <div class="card-header collapsed" id="headingOnBehalf" data-toggle="collapse" data-target="#collapseOnBehalf" aria-expanded="true" aria-controls="collapseOnBehalf">
                                                <h5 class="mb-0">
                                                    <button type="button" class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseOnBehalf" aria-expanded="true" aria-controls="collapseOnBehalf">
                                                        <img src="~/assets/img/empIcon.svg" width="24" height="24" class="mr-2" />Filling on behalf of Details
                                                    </button>
                                                </h5>
                                            </div>
                                            <div id="collapseOnBehalf" class="collapse" aria-labelledby="headingOnBehalf" data-parent="#accordion">
                                                <div class="card-body empDetailsBg">
                                                    <div class="row">
                                                        <div class="col-md-2 col-lg-2 text-center col-12">
                                                            <img src="~/assets/img/empProfile.png" />
                                                        </div>

                                                        <div class="col-md-10 col-lg-10 col-12">
                                                            <div class="empDetailsFields">
                                                                <div class="row">
                                                                    <div class="form-group col-md-2 col-lg-2 col-12">
                                                                        <label class="firstLastName">First Name:</label>
                                                                        <input type="text" name="txtOnBehalfFirstName" class="inpDisable inpText" id="txtOnBehalfFirstName" value="@(!IsNew || !IsEdit ? (IDC.one[0].OnBehalfFirstName ?? "") : "")">

                                                                    </div>
                                                                    <div class="form-group col-md-2 col-lg-2 col-12">
                                                                        <label class="Surname">Surname:</label>
                                                                        <input type="text" name="txtOnBehalfSurname" class="inpDisable inpText" id="txtOnBehalfSurname" value="@(!IsNew || !IsEdit ? (IDC.one[0].OnBehalfSurname ?? "") : "")">

                                                                    </div>
                                                                    <div class="form-group col-md-2 col-lg-2 col-12">
                                                                        <label class="f-600">Employee ID No.:</label>
                                                                        <input type="text" name="txtOnBehalfEmpId" class="inpDisable inpText" id="txtOnBehalfEmpId" value="@(!IsNew || !IsEdit ? (IDC.one[0].OnBehalfEmployeeIDNo ?? "") : "")" onkeypress="allowNumbersOnly(event)">

                                                                    </div>

                                                                    <div class="form-group col-md-2 col-lg-2 col-12">
                                                                        <label class="f-600">Department:</label>
                                                                        <input type="text" name="drpOnBehalfDepartment" class="w-40 inpDisable" id="drpOnBehalfDepartment" value="@(!IsNew ? (IDC.one[0].OnBehalfDepartment ?? "") : "")">
                                                                    </div>
                                                                    <div class="form-group col-md-2 col-lg-2 col-12">
                                                                        <label class="f-600">Cost Center:</label>
                                                                        <input type="text" name="drpOnBehalfCostCenter" class="w-40 inpDisable" id="drpOnBehalfCostCenter" value="@(!IsNew ? (IDC.one[0].OnBehalfCostCenter ?? "") : "")">
                                                                    </div>

                                                                    <div class="form-group col-md-2 col-lg-2 col-12">
                                                                        <label class="f-600">Mobile:</label>
                                                                        <input type="text" name="txtOnBehalfMobile" id="txtOnBehalfMobile" class="inpDisable inpText" value="@((!IsNew && IDC.one[0].OnBehalfMobile != 0) || (!IsEdit && IDC.one[0].OnBehalfMobile != 0) ? (IDC.one[0].OnBehalfMobile ?? "") : "")" onkeypress="allowNumbersOnly(event)">
                                                                    </div>
                                                                    <div class="form-group col-md-2 col-lg-2 col-12">
                                                                        <label class="f-600">Telephone (office):</label>
                                                                        <input type="text" name="txtOnBehalfTelephone" id="txtOnBehalfTelephone" class="inpDisable inpText" value="@((!IsNew && IDC.one[0].OnBehalfTelephone != 0) || (!IsEdit && IDC.one[0].OnBehalfTelephone != 0) ? (IDC.one[0].OnBehalfTelephone ?? "") : "")" onkeypress="allowNumbersOnly(event)">

                                                                    </div>

                                                                    <div class="form-group col-md-2 col-lg-2 col-12">
                                                                        <label class="f-600">Date:</label>
                                                                        <input type="text" name="txtDate" id="txtDate" placeholder="/ /" class="w-40 inpDisable" value="@(!IsNew ||!IsEdit ? (Convert.ToDateTime(IDC.two[0].FormId.Created).ToShortDateString()) : DateTime.Now.ToShortDateString())" readonly>

                                                                    </div>
                                                                    <div class="form-group col-md-3 col-lg-3 col-12">
                                                                        <label class="f-600">Email ID:</label>
                                                                        <input type="text" name="txtOnBehalfEmail" id="txtOnBehalfEmail" class="inpText" value="@(!IsNew || !IsEdit ? (IDC.one[0].OnBehalfEmailID ?? "") : "")">
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>*@

                                    <div class="card">
                                        <div class="card-header collapsed" id="headingOne" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                            <h5 class="mb-0">
                                                <button type="button" class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                                    <img src="~/assets/img/transactionIcon.svg" width="24" height="24" class="mr-2" />Transaction Fields
                                                </button>
                                            </h5>
                                        </div>
                                        <div id="collapseOne" class="collapse" aria-labelledby="headingOne" data-parent="#accordion">
                                            <div class="card-body">
                                                <div class="form-row">
                                                    <table class="table mainTbl  form-table-container-2 bg-color f-600">
                                                        <tbody>

                                                            <tr>
                                                                <td>
                                                                    <div class="row">
                                                                        @*<div class="col-md-6 col-lg-6 col-12 input-block" id="externalCompany">

                                                                            <input type="text" class="drpDisable" name="txtCompany" id="txtCompany" value="" required="">
                                                                            <span class="placeholder" style="background-color: #fff; font-weight: 100;">Company</span>
                                                                        </div>*@
                                                                        <div class="col-md-6 col-lg-6 col-12 inputSelect" id="endDateRow">

                                                                            <select name="drpEndDate" id="drpEndDate" onchange="checkSelect('drpEndDate'),calculateEndDate();" required>
                                                                                <option value="" selected="" style="display:none;"></option>
                                                                                <option value="1">6 Months</option>
                                                                                <option value="2">1 Year</option>
                                                                            </select>
                                                                            <span class="placeholder" style=" background-color: #fff !important; font-weight: 100; ">End Date</span>
                                                                            <input type="hidden" name="txtEndDate" id="txtEndDate" class="border-none" value="">
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            </tr>

                                                            @*        <tr >
                                                                    <td class="allFormLables noTopBorder">

                                                                    </td>
                                                                    <td class="noTopBorder" colspan="3">

                                                                    </td>
                                                                </tr>

                                                                <tr  >
                                                                    <td class="allFormLables noTopBorder">

                                                                    </td>
                                                                    <td>

                                                                    </td>
                                                                    <td class="noTopBorder" id="" colspan="2">
                                                                    </td>
                                                                </tr>*@

                                                            <tr>
                                                                <td>
                                                                    <div class="row">
                                                                        <div class="col-md-1 col-lg-4 col-12">
                                                                            <label class="f-600">Profile (Please tick if yes)</label>
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            </tr>

                                                            <tr style="display:none;">
                                                                <td class="col-12">
                                                                    <div class="row">

                                                                        <div class="col-md-4 col-lg-4 d-flex">
                                                                            <label class="f-600"></label>
                                                                            <input type="checkbox" id="inlineCheckbox1" value="" checked="" disabled="" style="margin-left: 20px; margin-top: 5px; ">
                                                                        </div>
                                                                        <div class="col-md-4 col-lg-4">
                                                                            <label class="f-600">Sign of respective area in charge</label>
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            </tr>


                                                            <tr>
                                                                <td>
                                                                    <div class="row">
                                                                        <div class="col-md-4 col-lg-4 col-12 d-flex" id="AurangabadTR">
                                                                            <label class="f-600">Regular Access (Aurangabad Plant)</label>
                                                                            <input type="checkbox" class="Access float-right" id="AurangabadCheckbox" name="AurangabadCheckbox" value="Aurangabad" style=" margin-top: 5px; margin-left: 10px;">
                                                                        </div>
                                                                        <div class="col-md-3 col-lg-3 col-12 d-flex" id="MumbaiTR">
                                                                            <label class="f-600">Mumbai Office</label>
                                                                            <input type="checkbox" class="Access float-right" id="MumbaiCheckbox" name="MumbaiCheckbox" value="Mumbai" style=" margin-top: 5px; margin-left: 10px;">
                                                                        </div>
                                                                        <div class="col-md-4 col-lg-4 col-12 d-flex" id="PuneTR">
                                                                            <label class="f-600">Regular Access (Pune Plant)</label>
                                                                            <input type="checkbox" class="Access float-right" id="PuneCheckbox" name="PuneCheckbox" value="Pune" style=" margin-top: 5px; margin-left: 10px;">
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            </tr>


                                                            <tr>
                                                                <td>
                                                                    <div class="row">
                                                                        <div class="col-md-6 col-lg-6 col-12 inputSelect">
                                                                            <input type="hidden" id="drpLocationValue" name="drpLocationValue" value="">
                                                                            <select class="w-40 drpDisable" name="drpLocationName" id="drpLocationName" onclick="formPriority()" onchange="GetArea(), checkSelect('drpLocationName');">
                                                                                <option value="-1" style="display:none;"></option>
                                                                                <option value="1">Pune</option>
                                                                                <option value="2">Mumbai</option>
                                                                                <option value="3">Aurangabad</option>
                                                                            </select>
                                                                            <span class="placeholder" style="background-color:white !important; font-weight:100;">Please Select Location Name</span>
                                                                        </div>

                                                                        <div class=" col-md-6 col-lg-6 col-12 inputSelect" id="AreaTR">

                                                                            <select class="w-100" id="AreaList" multiple="multiple" onchange="checkSelect('AreaList');"></select>
                                                                            @* <span class="placeholder" style="background-color:white;">Area</span>*@
                                                                        </div>

                                                                    </div>
                                                                </td>
                                                            </tr>


                                                            <tr>
                                                                <td>
                                                                    <div class="row">
                                                                        <div class="col-md-12 col-lg-12">
                                                                            <table id="AreaTable" class="table mainTbl table table-bordered table-sm dataTable no-footer bg-color">
                                                                                <tbody id="tableBody">
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>


                                                </div>


                                            </div>

                                        </div>
                                    </div>
                                </div>
                                @*</div>*@

                            }
                        }
                        else
                        {
                            foreach (var item in IDC.one)
                            {
                                @*<div class="container">

                                    <table class="table mainTbl table-bordered form-table-container bg-color">
                                        <tr>
                                            <td colspan="6" class="heading form-heading">
                                                <span>MobiNext Technologies India Private Limited</span>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="6" class="heading form-heading-1">
                                                <span>SAVWIPL - Door Access Request Form</span>
                                            </td>
                                        </tr>
                                    </table>*@
                                <div id="accordion">
                                    @*<div class="card">
                                            <div class="card-header collapsed" id="headingSelf" data-toggle="collapse" data-target="#collapseSelf" aria-expanded="true" aria-controls="collapseSelf">
                                                <h5 class="mb-0">
                                                    <button type="button" class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseSelf" aria-expanded="true" aria-controls="collapseSelf">
                                                        <img src="~/assets/img/empIcon.svg" width="24" height="24" class="mr-2" /> Employee Details
                                                    </button>
                                                </h5>
                                            </div>
                                            <div id="collapseSelf" class="collapse" aria-labelledby="headingSelf" data-parent="#accordion">
                                                <div class="card-body empDetailsBg">
                                                    <div class="row">
                                                        <div class="col-md-2 col-lg-2 text-center col-12">
                                                            <img src="~/assets/img/empProfile.png" />
                                                        </div>
                                                        <div class="col-md-10 col-lg-10 col-12">
                                                            <div class="empDetailsFields">
                                                                <div class="row">
                                                                    <div class="row">
                                                                        <div class="form-group col-md-6 col-12">
                                                                            <label class="f-600">Request Submission Type:</label>
                                                                            <select name="drpRequestSubType" id="drpRequestSubType" class="drpDisable" onchange="RequestSubmission()" disabled>
                                                                                <option @(item.SelfOnBehalf == "Self" ? "selected" : "") value="Self">Self</option>
                                                                                <option @(item.SelfOnBehalf == "OnBehalf" ? "selected" : "") value="OnBehalf">On Behalf</option>
                                                                            </select>
                                                                        </div>
                                                                        <div class="form-group col-md-6 col-12">
                                                                            <label class="f-600">Employee Type:</label>
                                                                            <select name="drpEmployeeType" id="drpEmployeeType" class="w-100 drpDisable" disabled>
                                                                                <option @(item.EmployeeType == "Internal" ? "selected" : "" ) value="Internal">Internal</option>
                                                                                <option @(item.EmployeeType == "External" ? "selected" : "" ) value="External">External</option>
                                                                            </select>
                                                                        </div>
                                                                        <div id="OtherEmpName">
                                                                            <div class="form-group col-md-12 col-12">
                                                                                <label class="f-600">Name (Type at least 4 letters for faster results):</label>
                                                                                <input type="text" name="txtOtherEmpname" id="txtOtherEmpname" class="form-control" required="required">
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="form-group col-md-2 col-lg-2 col-12">
                                                                            <label class="firstLastName">First Name:</label>
                                                                            <input type="text" name="txtEmployeeName" autocomplete="off" class="inpDisable inpText" id="txtEmployeeName" value="@(!IsNew ? (IDC.one[0].EmployeeName ?? " ") : " ")" readonly><br />
                                                                        </div>
                                                                        <div class="form-group col-md-2 col-lg-2 col-12">
                                                                            <label class="Surname">Surname:</label>
                                                                            <input type="text" name="txtSurname" autocomplete="off" class="inpDisable inpText" id="txtSurname" value="@(!IsNew ? (IDC.one[0].Surname ?? " ") : " ")" readonly><br />
                                                                        </div>
                                                                        <div class="form-group col-md-2 col-lg-2 col-12">
                                                                            <label class="f-600">Employee Number:</label>
                                                                            <input type="text" name="txtEmployeeNumber" autocomplete="off" class="inpDisable inpText" id="txtEmployeeNumber" value="@(!IsNew ? (IDC.one[0].EmployeeNumber ?? " ") : " ")" readonly>
                                                                        </div>
                                                                        <div class="form-group col-md-2 col-lg-2 col-12">
                                                                            <label class="f-600">Department:</label>
                                                                            <input type="text" name="drpDepartment" class="w-40 inpDisable" id="drpDepartment" value="@(!IsNew ? (IDC.one[0].Department ?? " ") : " ")">
                                                                        </div>
                                                                        <div class="form-group col-md-2 col-lg-2 col-12">
                                                                            <label class="f-600">Cost Center:</label>
                                                                            <input type="text" name="drpCostCentre" class="w-40 inpDisable" id="drpCostCentre" value="@(!IsNew ? (IDC.one[0].CostCentre ?? " ") : " ")">
                                                                        </div>
                                                                        <div class="form-group col-md-2 col-lg-2 col-12">
                                                                            <label class="f-600">Mobile:</label>
                                                                            <input type="text" name="txtMobile" id="txtMobile" class="inpDisable inpText" value="@((!IsNew && IDC.one[0].SelfMobile != 0) || (!IsEdit && IDC.one[0].SelfMobile != 0) ? (IDC.one[0].SelfMobile ?? "") : "")" onkeypress="allowNumbersOnly(event)">
                                                                        </div>
                                                                        <div class="form-group col-md-2 col-lg-2 col-12">
                                                                            <label class="f-600">Telephone (office):</label>
                                                                            <input type="text" name="txtTelephone" id="txtTelephone" class="inpDisable inpText" value="@((!IsNew && IDC.one[0].SelfTelephone != 0) || (!IsEdit && IDC.one[0].SelfTelephone != 0) ? (IDC.one[0].SelfTelephone ?? "") : "")" onkeypress="allowNumbersOnly(event)">
                                                                        </div>
                                                                        <div class="form-group col-md-2 col-lg-2 col-12">
                                                                            <label class="f-600">Date:</label>
                                                                            <input type="text" name="txtDate" id="txtDate" placeholder="/ /" class="w-40 inpDisable" value="@(!IsNew ||!IsEdit ? (Convert.ToDateTime(IDC.two[0].FormId.Created).ToShortDateString()) : DateTime.Now.ToShortDateString())" readonly>
                                                                        </div>
                                                                        <div class="form-group col-md-2 col-lg-2 col-12">
                                                                            <label class="f-600">Email ID:</label>
                                                                            <input type="text" name="txtEmail" id="txtEmail" class="inpDisable" value="@(!IsNew ? (IDC.one[0].SelfEmailID ?? " ") : "")" readonly>
                                                                        </div>
                                                                        <div class="form-group col-md-2 col-lg-2 col-12">
                                                                            <label class="f-600">Form ID:</label>
                                                                            <input type="text" name="txtFormId" class="w-40 inpDisable" value="@(!IsNew ||!IsEdit ? ("DARF"+FormId ?? "" ) : "" )" readonly>

                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="card" id="divOnBehalf">
                                            <div class="card-header collapsed" id="headingOnBehalf" data-toggle="collapse" data-target="#collapseOnBehalf" aria-expanded="true" aria-controls="collapseOnBehalf">
                                                <h5 class="mb-0">
                                                    <button type="button" class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseOnBehalf" aria-expanded="true" aria-controls="collapseOnBehalf">
                                                        <img src="~/assets/img/empIcon.svg" width="24" height="24" class="mr-2" />Filling on behalf of Details
                                                    </button>
                                                </h5>
                                            </div>

                                            <div id="collapseOnBehalf" class="collapse" aria-labelledby="headingOnBehalf" data-parent="#accordion">
                                                <div class="card-body empDetailsBg">
                                                    <div class="row">
                                                        <div class="col-md-2 col-lg-2 text-center col-12">
                                                            <img src="~/assets/img/empProfile.png" />
                                                        </div>

                                                        <div class="col-md-10 col-lg-10 col-12">
                                                            <div class="empDetailsFields">
                                                                <div class="row">
                                                                    <div class="form-group col-md-2 col-lg-2 col-12">
                                                                        <label class="firstLastName">First Name:</label>
                                                                        <input type="text" name="txtOnBehalfFirstName" class="inpDisable inpText" id="txtOnBehalfFirstName" value="@(!IsNew || !IsEdit ? (IDC.one[0].OnBehalfFirstName ?? "") : "")">

                                                                    </div>
                                                                    <div class="form-group col-md-2 col-lg-2 col-12">
                                                                        <label class="Surname">Surname:</label>
                                                                        <input type="text" name="txtOnBehalfSurname" class="inpDisable inpText" id="txtOnBehalfSurname" value="@(!IsNew || !IsEdit ? (IDC.one[0].OnBehalfSurname ?? "") : "")">

                                                                    </div>
                                                                    <div class="form-group col-md-2 col-lg-2 col-12">
                                                                        <label class="f-600">Employee ID No.:</label>
                                                                        <input type="text" name="txtOnBehalfEmpId" class="inpDisable inpText" id="txtOnBehalfEmpId" value="@(!IsNew || !IsEdit ? (IDC.one[0].OnBehalfEmployeeIDNo ?? "") : "")" onkeypress="allowNumbersOnly(event)">

                                                                    </div>

                                                                    <div class="form-group col-md-3 col-lg-3 col-12">
                                                                        <label class="f-600">Employee Number</label>
                                                                        <input type="text" name="txtEmployeeNumber" class="w-40 inpDisable" id="txtEmployeeNumber" value="@(!IsNew ? (IDC.one[0].EmployeeNumber ?? " ") : " ")">
                                                                    </div>
                                                                    <div class="form-group col-md-3 col-lg-3 col-12">
                                                                        <label class="f-600">Cost Center</label>
                                                                        <input type="text" name="drpCostCentre" class="w-40 inpDisable" id="drpCostCentre" value="@(!IsNew ? (IDC.one[0].CostCentre ?? " ") : " ")">
                                                                    </div>
                                                                    <div class="form-group col-md-3 col-lg-3 col-12">
                                                                        <label class="f-600">Department</label>
                                                                        <input type="text" name="drpDepartment" class="w-40 inpDisable" id="drpDepartment" value="@(!IsNew ? (IDC.one[0].Department ?? " ") : " ")">
                                                                    </div>
                                                                    <div class="form-group col-md-3 col-lg-3 col-12">
                                                                        <label class="firstLastName">(First Name)</label>
                                                                        <input type="text" name="txtEmployeeName" class="w-100 inpDisable firstname" id="txtEmployeeName" value="@(!IsNew ? (IDC.one[0].EmployeeName ?? " ") : " ")"><br />
                                                                    </div>
                                                                    <div class="form-group col-md-3 col-lg-3 col-12">
                                                                        <label class="firstLastName">(Surname)</label>
                                                                        <input type="text" name="txtSurname" class="w-100 inpDisable surname" id="txtSurname" value="@(!IsNew ? (IDC.one[0].Surname ?? " ") : " ")"><br />
                                                                    </div>

                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>*@

                                    <div class="card">
                                        <div class="card-header collapsed" id="headingOne" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                            <h5 class="mb-0">
                                                <button type="button" class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                                    <img src="~/assets/img/transactionIcon.svg" width="24" height="24" class="mr-2" />Transaction Fields
                                                </button>
                                            </h5>
                                        </div>
                                        <div id="collapseOne" class="collapse" aria-labelledby="headingOne" data-parent="#accordion">
                                            <div class="card-body">
                                                <div class="form-row">
                                                    <table class="table mainTbl table-bordered form-table-container-2 bg-color f-600">
                                                        <tbody>
                                                            <tr>
                                                                <td class="w-25 allFormLables noTopBorder bold f-600">
                                                                    <label>Profile</label>
                                                                </td>
                                                                <td class="allFormLables noTopBorder bold profile-sec-w">

                                                                    <table class="w-100" border="0">
                                                                        <tr>
                                                                            <td style="padding-left: 0px !important;">
                                                                                <label class="f-600"> Please tick if yes</label>

                                                                            </td>

                                                                            <td>
                                                                                <input type="checkbox" id="inlineCheckbox1" value="option1" checked disabled>
                                                                            </td>
                                                                        </tr>

                                                                    </table>

                                                                </td>
                                                                <td class="w-50 allFormLables noTopBorder bold f-600" colspan="3">
                                                                    <label class="f-600 mt-2">Sign of respective area in charge</label>

                                                                </td>

                                                            </tr>
                                                            <tr>
                                                                <td class="allFormLables noTopBorder f-600">
                                                                    Regular Access (Aurangabad Plant)
                                                                </td>
                                                                <td class="w-75 noTopBorder" colspan="4">
                                                                    <input type="checkbox" class="inpDisable" id="AurangabadCheckbox" @(item.AurangabadProfile == "Aurangabad" ? "checked" : "" ) value="Aurangabad">
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td class="allFormLables noTopBorder">
                                                                    <label class="f-600">Mumbai Office</label>
                                                                </td>
                                                                <td class="noTopBorder" colspan="4">
                                                                    <input type="checkbox" class="inpDisable" id="MumbaiCheckbox" @(item.MumbaiProfile == "Mumbai" ? "checked" : "" ) value="Mumbai">
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td class="allFormLables noTopBorder">
                                                                    <label class="f-600">Regular Access (Pune Plant)</label>
                                                                </td>
                                                                <td class="noTopBorder" colspan="4">
                                                                    <input type="checkbox" class="inpDisable" id="PuneCheckbox" @(item.PuneProfile == "Pune" ? "checked" : "" ) value="Pune">
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td class="allFormLables noTopBorder f-600">
                                                                    <label class="f-600">Location Name</label>
                                                                </td>
                                                                <td class="noTopBorder" colspan="4">
                                                                    <select name="drpLocationName" id="drpLocationName" class="w-40 drpDisable">
                                                                        <option @(item.LocationName == "Please Select Location Name" ? "selected" : "Please Select Location Name" ) value="-1"></option>
                                                                        <option @(item.LocationName == "Aurangabad" ? "selected" : "" ) value="3">Aurangabad</option>
                                                                        <option @(item.LocationName == "Mumbai" ? "selected" : "" ) value="2">Mumbai</option>
                                                                        <option @(item.LocationName == "Pune" ? "selected" : "" ) value="1">Pune</option>
                                                                    </select>
                                                                </td>
                                                            </tr>

                                                        </tbody>
                                                    </table>

                                                </div>

                                            </div>
                                        </div>



                                    </div>
                                    <div class="card">
                                        <div class="card-header collapsed" id="headingThree" data-toggle="collapse" data-target="#collapseThree" aria-expanded="true" aria-controls="collapseThree">
                                            <h5 class="mb-0">
                                                <button type="button" class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseThree" aria-expanded="true" aria-controls="collapseThree">
                                                    <img src="~/assets/img/approvalTracking.svg" width="24" height="24" class="mr-2" />Approval Tracking
                                                </button>
                                            </h5>
                                        </div>
                                        <div id="collapseThree" class="collapse" aria-labelledby="headingOne" data-parent="#accordion">
                                            <div class="card-body approvalTracking">
                                                <div class="form-row">
                                                    <table class="table mainTbl table table-bordered table-sm dataTable no-footer bg-color">
                                                        @if (!IsNew)
                                                        {
                                                            <tr class="bg-color-2">
                                                                <td colspan="6" class="authorize-container photogrph_header">Authorization by HOD</td>
                                                            </tr>
                                                            <tr class="bg-color-2">
                                                                <td colspan="1" class="authorize-td">
                                                                    <label class="f-600">Name:</label>
                                                                    <input type="text" name="" class="input-width-1 author-width" value="@(!IsNew ? (IDC.three[0].UserName ?? " "): " ")">
                                                                </td>
                                                                <td class="authorize-td comment-box-2" colspan="2">
                                                                    <div class="form-group">
                                                                        <label class="f-600 align" for="comment">Approver Comment:</label>
                                                                        <textarea class="form-control textareawidth photogrphy-textarea" rows="2" id="comment" disabled>@(!IsNew ? (IDC.three[0].Comment ?? " "): " ")</textarea>
                                                                    </div>
                                                                </td>
                                                                <td class="authorize-td" colspan="2"><label class="f-600 signature-box-1">Signature:</label><input type="text" name="" class="inpDisable input-width-1 author-width signature-input-1" value="@(!IsNew && IDC.three[0].ApproverStatus != "Pending" ? (IDC.three[0].ApproverStatus + " on " + Convert.ToDateTime(IDC.two[0].Modified).ToShortDateString()+" "+Convert.ToDateTime(IDC.two[0].Modified).ToShortTimeString()) : "" )"></td>
                                                            </tr>
                                                        }
                                                    </table>
                                                    @if (IDC.one[0].AreaDetails.Count != 0)
                                                    {
                                                        <table id="AreaTableView" class="table mainTbl table table-bordered table-sm dataTable no-footer bg-color">
                                                            <tbody id="tableBodyView">
                                                                <tr class="bg-color-2">
                                                                    <td class="authorize-container">Authorization by Area/Sub Area In charge</td>
                                                                </tr>

                                                                @foreach (var area in IDC.one[0].AreaDetails)
                                                                {
                                                                    <tr id="@("tr_"+@area.AreaId)" class="authsuq bg-color-2">
                                                                        <td class="@("colspan_align"+@area.AreaId) vertical-top" id="@area.AreaId" value="@area.AreaId">
                                                                            <div class="div-table">

                                                                                <div class="area-title align-middle f-600">
                                                                                    <label>@area.Area</label>

                                                                                </div>

                                                                                @if (area.SubAreas != null)
                                                                                {
                                                                                    foreach (var subarea in area.SubAreas)
                                                                                    {

                                                                                        <div class="check-box">

                                                                                            <input type="checkbox" id="@subarea.SubAreaId" value="@subarea.SubAreaId" checked disabled>   @subarea.SubArea  <br>
                                                                                            @if (IDC.four != null)
                                                                                            {

                                                                                                <input type="text" name="" class="inpDisable inpIsNewDisable" value="@(!IsNew ? (subarea.UserName ?? "") : "")"><br />


                                                                                                <label for="comment" class="f-600">Approver Comment:</label>
                                                                                                <textarea class="form-control" style="font-size: 10px;" rows="2" id="comment" disabled>@(!IsNew ? (subarea.Comment ?? " ") : " ")</textarea><br />


                                                                                                <input type="text" name="" class="inpDisable inpIsNewDisable input-width-1 auth-area-input" value="@(!IsNew && subarea.ApproverStatus != "Pending" ? (subarea.ApproverStatus + " on " + Convert.ToDateTime(IDC.four[count].Modified).ToShortDateString()+ " "+ Convert.ToDateTime(IDC.four[count].Modified).ToShortTimeString()) : "" )">
                                                                                                <br>
                                                                                                <small class="f-600 pl-1">(sign)</small>


                                                                                            }
                                                                                        </div>
                                                                                        count = count + 1;
                                                                                    }
                                                                                }
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                }
                                                            </tbody>
                                                        </table>

                                                    }
                                                    <table class="table mainTbl table table-bordered table-sm dataTable no-footer bg-color">
                                                        @if (!IsNew)
                                                        {
                                                            <tr class="bg-color-2">
                                                                <td colspan="6" class="authorize-container photogrph_header">Authorization by Security</td>
                                                            </tr>
                                                            <tr class="bg-color-2">
                                                                <td colspan="1" class="authorize-td">
                                                                    <label class="f-600">Name:</label>
                                                                    <input type="text" name="" class="inpDisable inpIsNewDisable input-width-1" value="@(!IsNew ? (IDC.three[1].UserName ?? " "): " ")">
                                                                </td>
                                                                <td class="authorize-td comment-box-2" colspan="2">
                                                                    <div class="form-group">
                                                                        <label class="f-600 align" for="comment">Approver Comment:</label>
                                                                        <textarea class="form-control textareawidth photogrphy-textarea" rows="2" id="comment" disabled>@(!IsNew ? (IDC.three[1].Comment ?? " "): " ")</textarea>
                                                                    </div>
                                                                </td>
                                                                <td class="authorize-td" colspan="2"><label class="f-600 signature-box-1">Signature:</label><input type="text" name="" class="inpDisable input-width-1 author-width signature-input-1" value="@(!IsNew && IDC.three[1].ApproverStatus != "Pending" ? (IDC.three[1].ApproverStatus + " on " + Convert.ToDateTime(IDC.two[1].Modified).ToShortDateString()+ " "+Convert.ToDateTime(IDC.two[1].Modified).ToShortTimeString()) : "" )"></td>
                                                            </tr>
                                                        }
                                                    </table>
                                                </div>

                                            </div>
                                        </div>

                                    </div>
                                </div>
                                <!--<table class="table mainTbl table-bordered form-table-container-2 bg-color">-->
                                @*<tr>
                                        <td class="w-30 allFormLables noTopBorder">
                                            <label class="f-600 pl-10">Form ID</label>
                                        </td>
                                        <td class="w-70 noTopBorder" colspan="4">
                                            <input type="text" name="txtFormId" class="w-40 inpDisable" value="@(!IsNew ||!IsEdit ? ("DARF"+FormId ?? "" ) : "" )" readonly>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="allFormLables noTopBorder">
                                            <label class="f-600">Self/OnBehalf</label>
                                        </td>
                                        <td class="noTopBorder" colspan="4">
                                            <select name="drpSelfOnBehalf" id="drpSelfOnBehalf" class="w-40 drpDisable" onchange="">
                                                <option @(item.SelfOnBehalf == "Self" ? "selected" : "" ) value="Self">Self</option>
                                                <option @(item.SelfOnBehalf == "OnBehalf" ? "selected" : "" ) value="OnBehalf">On Behalf</option>
                                            </select>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="allFormLables noTopBorder">
                                            <label class="f-600">Employee Type</label>
                                        </td>
                                        <td class="noTopBorder" colspan="4">
                                            <select name="drpEmployeeType" id="drpEmployeeType" class="w-40 drpDisable">
                                                <option @(item.EmployeeType == "Internal" ? "selected" : "" ) value="Internal">Internal</option>
                                                <option @(item.EmployeeType == "Partner" ? "selected" : "" ) value="Partner">Partner</option>
                                                <option @(item.EmployeeType == "External" ? "selected" : "" ) value="External">External</option>
                                            </select>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="allFormLables borderLTB">
                                            <label class="f-600">Employee Name</label>
                                        </td>
                                        <td class="borderLTB">
                                            <input type="text" name="txtSurname" class="w-100 inpDisable surname" id="txtSurname" value="@(!IsNew ? (IDC.one[0].Surname ?? " ") : " ")"><br />
                                            <small class="f-600 f-12">(Surname)</small>
                                        </td>
                                        <td class="borderLTB" colspan="3" style="text-align: left !important">
                                            <input type="text" name="txtEmployeeName" class="w-100 inpDisable firstname" id="txtEmployeeName" value="@(!IsNew ? (IDC.one[0].EmployeeName ?? " ") : " ")"><br />
                                            <small class="f-600 f-12">(First Name)</small>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="allFormLables borderLTB f-600">
                                            <label class="f-600">Employee Number:</label>
                                        </td>
                                        <td class="borderLTB text-left" colspan="4">
                                            <input type="text" name="txtEmployeeNumber" class="w-40 inpDisable" id="txtEmployeeNumber" value="@(!IsNew ? (IDC.one[0].EmployeeNumber ?? " ") : " ")">
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="allFormLables borderLTB f-600">
                                            <label class="f-600">Cost Center:</label>
                                        </td>
                                        <td colspan="4" class="borderLTB text-left">
                                            <input type="text" name="drpCostCentre" class="w-40 inpDisable" id="drpCostCentre" value="@(!IsNew ? (IDC.one[0].CostCentre ?? " ") : " ")">
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="allFormLables borderLTB f-600">
                                            <label class="f-600">Department:</label>
                                        </td>
                                        <td class="borderLTB text-left" colspan="4">
                                            <input type="text" name="drpDepartment" class="w-40 inpDisable" id="drpDepartment" value="@(!IsNew ? (IDC.one[0].Department ?? " ") : " ")">
                                        </td>
                                    </tr>*@
                                <!--<tr>
                                        <td class="w-25 allFormLables noTopBorder bold f-600">
                                            <label>Profile</label>
                                        </td>
                                        <td class="allFormLables noTopBorder bold profile-sec-w">

                                            <table class="w-100" border="0">
                                                <tr>
                                                    <td style="padding-left: 0px !important;">
                                                        <label class="f-600"> Please tick if yes</label>

                                                    </td>

                                                    <td>
                                                        <input type="checkbox" id="inlineCheckbox1" value="option1" checked disabled>
                                                    </td>
                                                </tr>

                                            </table>

                                        </td>
                                        <td class="w-50 allFormLables noTopBorder bold f-600" colspan="3">
                                            <label class="f-600 mt-2">Sign of respective area in charge</label>

                                        </td>

                                    </tr>
                                    <tr>
                                        <td class="allFormLables noTopBorder f-600">
                                            Regular Access (Aurangabad Plant)
                                        </td>
                                        <td class="w-75 noTopBorder" colspan="4">
                                            <input type="checkbox" class="inpDisable" id="AurangabadCheckbox" @(item.AurangabadProfile == "Aurangabad" ? "checked" : "" ) value="Aurangabad">
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="allFormLables noTopBorder">
                                            <label class="f-600">Mumbai Office</label>
                                        </td>
                                        <td class="noTopBorder" colspan="4">
                                            <input type="checkbox" class="inpDisable" id="MumbaiCheckbox" @(item.MumbaiProfile == "Mumbai" ? "checked" : "" ) value="Mumbai">
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="allFormLables noTopBorder">
                                            <label class="f-600">Regular Access (Pune Plant)</label>
                                        </td>
                                        <td class="noTopBorder" colspan="4">
                                            <input type="checkbox" class="inpDisable" id="PuneCheckbox" @(item.PuneProfile == "Pune" ? "checked" : "" ) value="Pune">
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="allFormLables noTopBorder f-600">
                                            <label class="f-600">Location Name</label>
                                        </td>
                                        <td class="noTopBorder" colspan="4">
                                            <select name="drpLocationName" id="drpLocationName" class="w-40 drpDisable">
                                                <option @(item.LocationName == "Please Select Location Name" ? "selected" : "Please Select Location Name" ) value="-1"></option>
                                                <option @(item.LocationName == "Aurangabad" ? "selected" : "" ) value="3">Aurangabad</option>
                                                <option @(item.LocationName == "Mumbai" ? "selected" : "" ) value="2">Mumbai</option>
                                                <option @(item.LocationName == "Pune" ? "selected" : "" ) value="1">Pune</option>
                                            </select>
                                        </td>
                                    </tr>
                                </table>

                                <table class="table mainTbl table table-bordered table-sm dataTable no-footer">
                                    @if (!IsNew)
                                    {
                                        <tr class="bg-color-2">
                                            <td colspan="6" class="font-bold text-center authorize-container photogrph_header">Authorization by HOD</td>
                                        </tr>
                                        <tr class="bg-color-2">
                                            <td colspan="1" class="authorize-td">
                                                <label class="f-600">Name:</label>
                                                <input type="text" name="" class="input-width-1 author-width" value="@(!IsNew ? (IDC.three[0].UserName ?? " "): " ")">
                                            </td>
                                            <td class="authorize-td comment-box-2" colspan="2">
                                                <div class="form-group">
                                                    <label class="f-600 align" for="comment">Approver Comment:</label>
                                                    <textarea class="form-control textareawidth photogrphy-textarea" rows="2" id="comment" disabled>@(!IsNew ? (IDC.three[0].Comment ?? " "): " ")</textarea>
                                                </div>
                                            </td>

                                            <td class="authorize-td" colspan="2"><label class="f-600 signature-box-1">Signature:</label><input type="text" name="" class="inpDisable input-width-1 author-width signature-input-1" value="@(!IsNew && IDC.three[0].ApproverStatus != "Pending" ? (IDC.three[0].ApproverStatus + " on " + Convert.ToDateTime(IDC.two[0].Modified).ToShortDateString()+" "+Convert.ToDateTime(IDC.two[0].Modified).ToShortTimeString()) : "" )"></td>
                                        </tr>
                                    }
                                </table>-->
                                @*  @if (IDC.one[0].AreaDetails.Count != 0)
                                    {
                                        <table id="AreaTableView" class="table mainTbl table table-bordered table-sm dataTable no-footer bg-color">
                                            <tbody id="tableBodyView">
                                                <tr class="bg-color-2">
                                                    <td class="authorize-container">Authorization by Area/Sub Area In charge</td>
                                                </tr>

                                                @foreach (var area in IDC.one[0].AreaDetails)
                                                {
                                                    <tr id="@("tr_"+@area.AreaId)" class="authsuq bg-color-2">
                                                        <td class="@("colspan_align"+@area.AreaId) vertical-top" id="@area.AreaId" value="@area.AreaId">
                                                            <div class="div-table">

                                                                <div class="area-title align-middle f-600">
                                                                    <label>@area.Area</label>

                                                                </div>

                                                                @if (area.SubAreas != null)
                                                                {
                                                                    foreach (var subarea in area.SubAreas)
                                                                    {

                                                                        <div class="check-box">

                                                                            <input type="checkbox" id="@subarea.SubAreaId" value="@subarea.SubAreaId" checked disabled>   @subarea.SubArea  <br>
                                                                            @if (IDC.four != null)
                                                                            {

                                                                                <input type="text" name="" class="inpDisable inpIsNewDisable input-width-1 auth-area-input" value="@(!IsNew ? (subarea.UserName ?? "") : "")"><br />


                                                                                <label for="comment" class="f-600">Approver Comment:</label>
                                                                                <textarea class="form-control textareawidth photogrphy-textarea1" rows="2" id="comment" disabled>@(!IsNew ? (subarea.Comment ?? " ") : " ")</textarea><br />


                                                                                <input type="text" name="" class="inpDisable inpIsNewDisable input-width-1 auth-area-input" value="@(!IsNew && subarea.ApproverStatus != "Pending" ? (subarea.ApproverStatus + " on " + Convert.ToDateTime(IDC.four[count].Modified).ToShortDateString()+ " "+ Convert.ToDateTime(IDC.four[count].Modified).ToShortTimeString()) : "" )">
                                                                                <br>
                                                                                <small class="f-600 pl-1">(sign)</small>


                                                                            }
                                                                        </div>
                                                                        count = count + 1;
                                                                    }
                                                                }
                                                            </div>
                                                        </td>
                                                    </tr>
                                                }
                                            </tbody>
                                        </table>


                                    }
                                    <table class="table mainTbl table table-bordered table-sm dataTable no-footer bg-color">
                                        @if (!IsNew)
                                        {
                                            <tr class="bg-color-2">
                                                <td colspan="6" class="authorize-container photogrph_header">Authorization by Security</td>
                                            </tr>
                                            <tr class="bg-color-2">
                                                <td colspan="1" class="authorize-td">
                                                    <label class="f-600">Name:</label>
                                                    <input type="text" name="" class="inpDisable inpIsNewDisable input-width-1" value="@(!IsNew ? (IDC.three[1].UserName ?? " "): " ")">
                                                </td>
                                                <td class="authorize-td comment-box-2" colspan="2">
                                                    <div class="form-group">
                                                        <label class="f-600 align" for="comment">Approver Comment:</label>
                                                        <textarea class="form-control textareawidth photogrphy-textarea" rows="2" id="comment" disabled>@(!IsNew ? (IDC.three[1].Comment ?? " "): " ")</textarea>
                                                </td>

                                                <td class="authorize-td" colspan="2"><label class="f-600 signature-box-1">Signature:</label><input type="text" name="" class="inpDisable input-width-1 author-width signature-input-1" value="@(!IsNew && IDC.three[1].ApproverStatus != "Pending" ? (IDC.three[1].ApproverStatus + " on " + Convert.ToDateTime(IDC.two[1].Modified).ToShortDateString() + " " + Convert.ToDateTime(IDC.two[1].Modified).ToShortTimeString()) : "" )"></td>
                                            </tr>

                                        }
                                    </table>*@

                                @*</div>*@
                            }
                        }

                        @if (IsNew)
                        {
                            if (!IsEdit)
                            {
                                <div class="card-footer align-content-center">
                                    <button type="button" class="btn btn-primary btn-sm submit-btn" id="btnSubmit">
                                        Re-Submit
                                    </button>
                                    <button type="reset" class="btn btn-danger btn-sm cancl-btn">
                                        Cancel
                                    </button>
                                </div>
                            }
                            else
                            {
                                <div class="card-footer align-content-center">
                                    <button type="button" class="btn btn-primary btn-sm submit-btn" id="btnSubmit">
                                        Submit
                                    </button>
                                    <button type="reset" class="btn btn-danger btn-sm cancl-btn">
                                        Cancel
                                    </button>
                                </div>
                            }
                        }
                    </div>
                </div>
            </div>
        </form>
    </div>
</body>


<div class="modal fade" id="successModel" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header modelHeader">
                <span class="modal-title modalMsgTitle" id="modalTitle"></span>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <label id="modalBody" class="lableMsg">  </label>
            </div>
            <div class="modal-footer">
                <button type="button" class="submitBomBtn publishBtn" id="modalOkButton">OK</button>
            </div>
        </div>
    </div>
</div>



<script>
    var IsNew = @Html.Raw(Json.Encode(IsNew));
    var IsEdit = @Html.Raw(Json.Encode(IsEdit));
    var IDC = @Html.Raw(Json.Encode(IDC));
    var appRowId = @Html.Raw(Json.Encode(AppRowId));
    var approvalType =@Html.Raw(Json.Encode(ApprovalType));
    var FlagRedirect = @Html.Raw(Json.Encode(FlagRedirect));
    pageLoad();

    function pageLoad() {
        getSubmitterData();
        var data = "";
        $("#headingErr").hide();
        if (!IsNew) {
            //AreaSubArea();
            var value = JSON.stringify(IDC[0]);
            var value_1 = JSON.parse(value);
            var SelfOnBehalf = value_1.Value[0].SelfOnBehalf;
            if (SelfOnBehalf == "Self") {
                $("#divOnBehalf").hide();
            }
            else if (SelfOnBehalf == "OnBehalf") {
                $("#divOnBehalf").show();
            }
            $("#OtherEmpName").hide();
            $(".inpDisable").attr("disabled", "disabled");
            $("#OtherEmpName").hide();
        }
        if (!IsNew) {
            $(".drpDisable").attr("disabled", "disabled");
        }
        if (IsNew) {
            if (!IsEdit) {
                var value = JSON.stringify(IDC[0]);
                var value_1 = JSON.parse(value);
                var SelfOnBehalf = value_1.Value[0].SelfOnBehalf;
                if (SelfOnBehalf == "Self") {
                    $("#divOnBehalf").hide();
                }
                else if (SelfOnBehalf == "OnBehalf") {
                    $("#divOnBehalf").show();
                }
                $("#OtherEmpName").hide();
                GetCostCenter();
                getDepartment();
                GetLocationName();
                GetArea();
                GetApprovers();
                $("#OtherEmpName").hide();
                //$("#AreaTR").hide();
            }
            else {
                $("#OtherEmpName").hide();
                $("#divOnBehalf").hide();
                GetCostCenter();
                getDepartment();
                GetLocationName();
                GetApprovers();
                $("#AreaTR").hide();
                $("#OtherEmpName").hide();
                $(".inpIsNewDisable").attr("disabled", "disabled");
            }
        }
    };

        function getSubmitterData() {
        if (isNew && isEdit) {
             var EmailId = "";
            var extdesignation = "Team Member";
            var result = getTypeOfEmployeeByEmail("@currentUser.Email");

            $('input[id="chkExternal"]').prop("disabled", true);
            $('input[id="chkInternal"]').prop("disabled", true);
            if (result == true) {
                console.log("Emp type ext..=" + result);
                $('input[id="chkExternal"]').prop("checked", true).change();
                $("#chkEmployeeType").val('External');
                $("#ddEmpDesignation option[value='" + extdesignation + "']").prop('selected', 'selected');
                $('#ddEmpDesignation').prop("disabled", true);
                var company = "@currentUser.CompanyName";
                console.log("company=" + company);
                if (company == "") {
                    $('#divExtOtherOrg').addClass('d-none');
                    $("#txtExternalOtherOrganizationName").val("");
                }
                else {
                    $('#divExtOtherOrg').removeClass('d-none');
                    $("#txtExternalOtherOrganizationName").val("@currentUser.CompanyName").prop("readOnly", true);;
                }
                $('#ddEmpDesignation').addClass("spanUpperSide");
            }
            else {
                $('input[id="chkInternal"]').prop("checked", true).change();
                $("#chkEmployeeType").val('Internal');
                $('#ddEmpDesignation').prop("disabled", false);
                $('#ddEmpDesignation').prop("selectedIndex", 0).val();
            }
            $("#txtEmployeeName").val("@currentUser.FirstName @currentUser.LastName").prop("readOnly",true);
            $("#txtCostcenterCode").val("@currentUser.CostCenter").prop("readOnly", true);
            $("#txtEmployeeCode").val("@currentUser.EmpNumber").prop("readOnly", true);
            $("#txtUserId").val("@currentUser.UserName").prop("readOnly", true);
            $("#txtDepartment").val("@currentUser.Department").prop("readOnly", true);
            $("#txtContactNo").val("@currentUser.PhoneNumber");
            $("#txtEmail").val("@currentUser.Email");
        }
        if (!isNew) {
            var value = JSON.stringify(itcf[0]);
           // console.log(value)
            var value_1 = JSON.parse(value);
            var org = value_1.Value[0].ExternalOtherOrganizationName;
            if (org != null) {
                $('#divExtOtherOrg').removeClass('d-none');
                $('#txtExternalOtherOrganizationName').prop("readOnly", true);
            }
            else {
                $('#divExtOtherOrg').addClass('d-none');
            }


            var otherOrg = value_1.Value[0].OtherExternalOtherOrganizationName;
            console.log("otherOrg =" + otherOrg);
            if (otherOrg == null) {
                $('#divOtherExtOtherOrg').addClass('d-none');
                $('#txtOtherExternalOtherOrganizationName').val("");
            }

        }
        if (!isEdit) {

            var value = JSON.stringify(itcf[0]);

            var value_1 = JSON.parse(value);
            var requestSubmissionFor = value_1.Value[0].RequestSubmissionFor;
            console.log("requestSubmissionFor=" + requestSubmissionFor);
            var onBehalfOption = value_1.Value[0].OnBehalfOption;
            if (requestSubmissionFor == "Self") {
                $('#SAVWIPLEmployeeDetailsSection').addClass('d-none');
                $('#OthersEmployeeDetailsSection').addClass('d-none');
            }
            ////

            console.log('dropdownlist');
            console.log($("#ddOtherEmpDesignation"));
            if (requestSubmissionFor == "OnBehalf" && onBehalfOption == "SAVWIPLEmployee") {
                $('#SAVWIPLEmployeeDetailsSection').removeClass('d-none');
                $('#OthersEmployeeDetailsSection').addClass('d-none');

                var otherEmployeeDesignation = value_1.Value[0].OtherEmployeeDesignation;
                $("#ddOtherEmpDesignation option[value='" + otherEmployeeDesignation + "']").prop('selected', 'selected');
                if (otherEmployeeDesignation == "Team Member") {
                    $("#ddOtherEmpDesignation").prop("disabled", true);
                }
                $('#ddOtherEmpDesignation').addClass("spanUpperSide");

                var selectedOtherLocation = value_1.Value[0].OtherEmployeeLocation;
                $("#ddOtherEmpLocation option[value='" + selectedOtherLocation + "']").prop('selected', 'selected');
                $('#ddOtherEmpLocation').addClass("spanUpperSide");

                    $('input[id="chkOtherExternal"]').prop("disabled", true);
                    $('input[id="chkOtherInternal"]').prop("disabled", true);

                var otherOrg = value_1.Value[0].OtherExternalOtherOrganizationName;
                if (otherOrg != null) {
                    $('#divOtherExtOtherOrg').removeClass('d-none');
                    $('#txtOtherExternalOtherOrganizationName').prop("readOnly", true);
                }
                else {
                    $('#divOtherExtOtherOrg').addClass('d-none');
                }
            }
            else if (requestSubmissionFor == "OnBehalf" && onBehalfOption == "Others") {
                $('#SAVWIPLEmployeeDetailsSection').addClass('d-none');
                $('#OthersEmployeeDetailsSection').removeClass('d-none');

                var otherNewEmployeeDesignation = value_1.Value[0].OtherEmployeeDesignation;
                $("#ddOtherNewEmpDesignation option[value='" + otherNewEmployeeDesignation + "']").prop('selected', 'selected');
                if (otherNewEmployeeDesignation == "Team Member") {
                    $("#ddOtherNewEmpDesignation").prop("disabled", true);
                }
                $('#ddOtherNewEmpDesignation').addClass("spanUpperSide");

                var selectedOtherLocation = value_1.Value[0].OtherEmployeeLocation;
                $("#ddOtherNewEmpLocation option[value='" + selectedOtherLocation + "']").prop('selected', 'selected');
                $('#ddOtherNewEmpLocation').addClass("spanUpperSide");

                var otherOrg = value_1.Value[0].OtherExternalOtherOrganizationName;
                console.log("otherOrg=" + otherOrg);
                if (otherOrg != null) {
                    $('#divOtherNewExtOtherOrg').removeClass('d-none');
                }
                else {
                    $('#divOtherNewExtOtherOrg').addClass('d-none');
                }

            }

            var employeeDesignation = value_1.Value[0].EmployeeDesignation;
            $("#ddEmpDesignation option[value='" + employeeDesignation + "']").prop('selected', 'selected');
            if (employeeDesignation == "Team Member") {
                $("#ddEmpDesignation").prop("disabled", true);
            }

            var selectedLocation = value_1.Value[0].EmployeeLocation;
            $("#ddEmpLocation option[value='" + selectedLocation + "']").prop('selected', 'selected');

            var otherOrg = value_1.Value[0].ExternalOtherOrganizationName;
            if (otherOrg != null) {
                $('#divExtOtherOrg').removeClass('d-none');
                $('#txtExternalOtherOrganizationName').prop("readOnly", true);
            }
            else {
                $('#divExtOtherOrg').addClass('d-none');
            }

            var requestSubmissionFor = value_1.Value[0].RequestSubmissionFor;
            var onBehlfType = value_1.Value[0].OnBehalfOption;
            console.log(onBehlfType, 'on behalf value')
            if (requestSubmissionFor == "Self") {
                $("#SAVWIPLEmployeeDetailsSection").addClass('d-none');
                $("#OthersEmployeeDetailsSection").addClass('d-none');
                console.log('self');
            }
            else {
                if (onBehlfType == "SAVWIPLEmployee") {
                    $("#OthersEmployeeDetailsSection").each(function () {
                        console.log($(this));
                        $(this).addClass('d-none');
                    });
                    console.log('if');

                    var jsElemt = document.querySelectorAll('[id=OthersEmployeeDetailsSection]');
                    for(let i = 0; i < jsElemt.length; i++)
                    {
                        jsElemt[i].classList.add("d-none");
                    }

                }
                else {
                    $("#SAVWIPLEmployeeDetailsSection").addClass('d-none');
                    console.log('else');
                }
            }
        }
    }

    function successModal(txt) {
        ////
        $('#modalTitle').html('Success');
        if (txt == "approve") {
            $('#modalBody').html('Form has been approved!');
        }
        else if (txt == "reject") {
            $('#modalBody').html('Form has been rejected!');
        }
        else if (txt == "enquire") {
            $('#modalBody').html('Form has been enquired!');
        }
        else if (txt == "cancelled") {
            $('#modalBody').html('Form has been cancelled!');
        }
        else {
            $('#modalBody').html('Your form with ID: DARF' + txt + ' has been submitted! Kindly use this for future reference');
            FlagRedirect = txt;
        }
        //$('#modalBody').html('Your form has been submitted!');
        $("#modalOkButton").attr('data-dismiss', 'modal');
        $("#successModel").modal('show');
    }

    function failureModal() {
        $('#modalTitle').html('Failure');
        $('#modalBody').html('Some error occurred!');
        $("#modalOkButton").attr('data-dismiss', 'modal');
        $("#successModel").modal('show');
    }

    function permissionModal() {
        $('#modalTitle').html('Failure');
        $('#modalBody').html('No permssion granted since the device is not SAVWIPL owned!');
        $("#modalOkButton").attr('data-dismiss', 'modal');
        $("#successModel").modal('show');
    }

    function requiredModal(text) {
        $('#modalTitle').html('Required!');
        $('#modalBody').html(text);
        $("#modalOkButton").attr('data-dismiss', 'modal');
        $("#successModel").modal('show');
    }

    function GetApprovers() {
        $.ajax({
            url: '/IDCard/GetDARFApprovalList',
            type: 'GET',
            data: {},
            dataType: 'JSON',
            success: (function (data) {
                ////
                approverData = data;
                console.log(data);
                var row = "";
                for (var i = 0; i < data.length; i++) {
                    row += '<input type="hidden" id="hidden' + data[i].Department + 'Approver" name="hidden' + data[i].Department + 'Approver" value="' + data[i].ApproverEmailId + '">';
                }
                $("#hiddenApproverInformation").html(row);

            }),
            error: (function (data) {
                //code
            })
        })

    }

    function func() {
        ////
        var dropdown = document.getElementById("drpEmployeeType");
        var selection = dropdown.value;
        var dropdown1 = document.getElementById("drpSelfOnBehalf");
        var selection1 = dropdown1.value;
        if (selection1 != "OnBehalf") {
            if (selection == "Internal") {
                var firstName = document.getElementById("txtEmployeeName");
                var lastName = document.getElementById("txtSurname");
                var CostCenter = document.getElementById("drpCostCentre");
                var department = document.getElementById("drpDepartment");
                var txtEmployeeNumber = document.getElementById("txtEmployeeNumber");

                firstName.value = "@currentUser.FirstName";
                lastName.value = "@currentUser.LastName";
                CostCenter.value = "@currentUser.CostCenter";
                department.value = "@currentUser.Department";
                txtEmployeeNumber.value = "@currentUser.EmpNumber";
            }
            else {
                var firstName = document.getElementById("txtEmployeeName");
                var lastName = document.getElementById("txtSurname");
                var CostCenter = document.getElementById("drpCostCentre");
                var department = document.getElementById("drpDepartment");
                var txtEmployeeNumber = document.getElementById("txtEmployeeNumber");

                firstName.value = "";
                lastName.value = "";
                CostCenter.value = "-1";
                department.value = "-1";
                txtEmployeeNumber.value = "";
            }
        }
    }

    $("#txtOtherEmployeeName").autocomplete({
        source: function (request, response) {
            $.ajax({
                url: "/List/GetEmployeeDetails",
                dataType: "json",
                cache: false,
                async: true,
                data: {
                    searchText: $("#txtOtherEmployeeName").val()
                },
                success: function (data) {
                    ////
                    data = data.filter(function (e) {
                        return e.Email !== "@currentUser.Email";
                    });

                    response($.map(data, function (item) {
                        return { label: item.FirstName, value: item.FullName, raw: item };
                    }));
                }
            });
        },
        search: function (event, ui) {
            var value = $("#txtOtherEmployeeName").val();
            // If less than three chars, cancel the search event
            if (value.length < 4) {
                event.preventDefault();
            }
        },
        min_length: 4,
        change: function (event, ui) {
            if (!ui.item) {
                $(this).val('');
                $('#txtOtherEmployeeCode').val('');
                $('#txtOtherCostcenterCode').val('');
                $('#txtOtherUserId').val('');
                $('#txtOtherContactNo').val('');
                $('#txtOtherEmailId').val('');
                $('#txtOtherDepartment').val('');
                $("#ddOtherEmpDesignation").prop("selectedIndex", 0);
                $('#ddOtherEmpDesignation').removeClass("spanUpperSide");
                $("#ddOtherEmpLocation").prop("selectedIndex", 0);
                $('#ddOtherEmpLocation').removeClass("spanUpperSide");
            }
        },
        delay: 0,
        select: function (event, ui) {
            ////
            var empOtherDetails = ui.item['raw'];
            //Get the other details like Cost Center Code, Employee Number from DB.
            if (!empOtherDetails.Email) {
                document.getElementById('txtOtherEmployeeName').value = '';
                DisplayAlert('success', 'Info', 'Please select a user with valid Email', 4000);
                event.preventDefault();
                return;
            }
            $.ajax({
                url: "/List/GetExistingEmployeeDetails",
                dataType: "json",
                cache: false,
                async: true,
                data: {
                    otherEmpUserId: empOtherDetails.Email,
                },
                success: function (data) {
                    ////
                    $('input[id="chkOtherExternal"]').prop("disabled", true);
                    $('input[id="chkOtherInternal"]').prop("disabled", true);

                    $('#txtOtherEmployeeName').val(data.FullName);
                    data.EmpNumber == 0 || data.EmpNumber == null ? $('#txtOtherEmployeeCode').val('').prop("readOnly", false) : $('#txtOtherEmployeeCode').val(data.EmpNumber).prop("readOnly", true);
                    data.CostCenter == 0 || data.CostCenter == null ? $('#txtOtherCostcenterCode').val('').prop("readOnly", false) : $('#txtOtherCostcenterCode').val(data.CostCenter).prop("readOnly", true);
                    data.UserName == " " || data.UserName == null ? $('#txtOtherUserId').val('').prop("readOnly", false) : $('#txtOtherUserId').val(data.UserName).prop("readOnly", true);
                    $('#txtOtherContactNo').val(data.PhoneNumber);
                    data.Email == " " || data.Email == null ? $('#txtOtherEmailId').val('').prop("readOnly", false) : $('#txtOtherEmailId').val(data.Email).prop("readOnly", true);
                    data.Department == " " || data.Department == null ? $('#txtOtherDepartment').val('').prop("readOnly", false) : $('#txtOtherDepartment').val(data.Department).prop("readOnly", true);

                    EmailId = data.Email;
                   // console.log(EmailId);
                    var emailExt = getTypeOfEmployeeByEmail(EmailId);
                    var extdesignation = "Team Member";
                    if (emailExt == true) {
                        $('input[id="chkOtherExternal"]').prop("checked", true).change();
                        $('input[id="chkOtherInternal"]').prop("checked", false).change();
                        $("#chkOtherEmployeeType").val('External');
                        $("#ddOtherEmpDesignation option[value='" + extdesignation + "']").prop('selected', 'selected');
                        $('#ddOtherEmpDesignation').prop("disabled", true);
                        $('#ddOtherEmpDesignation').addClass("spanUpperSide");
                        var company = data.CompanyName;
                        //console.log("other company=" + company);
                        if (company == null) {
                            $('#divOtherExtOtherOrg').addClass('d-none');
                            $('#txtOtherExternalOtherOrganizationName').val("");
                        }
                        else {
                            $('#divOtherExtOtherOrg').removeClass('d-none');
                            $('#txtOtherExternalOtherOrganizationName').val(data.CompanyName).prop("readOnly", true);
                        }
                    }
                    else {
                        $('input[id="chkOtherInternal"]').prop("checked", true).change();
                        $('input[id="chkOtherExternal"]').prop("checked", false).change();
                        $("#chkOtherEmployeeType").val('Internal');
                        $("#ddOtherEmpDesignation").prop("disabled", false);
                        $("#ddOtherEmpDesignation").prop("selectedIndex", 0);
                        $('#ddOtherEmpDesignation').removeClass("spanUpperSide");
                        $('#divOtherExtOtherOrg').addClass('d-none');
                    }
                    $("#ddOtherEmpLocation").prop("selectedIndex", 0);
                    $('#ddOtherEmpLocation').removeClass("spanUpperSide");
                }
            });
        }

    });

    $("#txtOtherEmployeeName").autocomplete("option", "appendTo", ".autocomplete-div");

    $("#txtOtherNewCostcenterCode").autocomplete({
        source: function (request, response) {
            $.ajax
                ({
                    url: "/List/GetCostCenterDetails",
                    dataType: "json",
                    cache: false,
                    async: true,
                    data: {
                        searchText: $("#txtOtherNewCostcenterCode").val()
                    },
                    success: function (data) {
                        ////
                        console.log("Cost center=" + data);
                        response($.map(data, function (item) {
                            return { label: item, value: item, raw: item };
                        }));
                    },
                    error: (function (data) {
                        failureModal();
                    })
                })
        },
        minLength: 2,
        change: function (event, ui) {
            if (!ui.item) {
                $(this).val('');
            }
        }//This is the Char length of inputTextBox
    });

    $("#txtOtherNewCostcenterCode").autocomplete("option", "appendTo", ".autocompleteCC-div");

    function RequestSubmission() {
        //
        var drpRequestSubType = $("#drpSelfOnBehalf").val();
        if (drpRequestSubType == "OnBehalf") {
            $("#OtherEmpName").show();
            $("#divOnBehalf").show();
            $("#txtOtherEmpname").val('');
            $('#drpEmployeeType').val("null");
            $('#txtSurname').val('');
            $('#txtEmployeeName').val('');
            $('#txtEmployeeNumber').val('');
            $('#txtDepartment').val('');
        }
        else if (drpRequestSubType == "Self") {
            $('#drpEmployeeType').val("Internal");
            $('#txtOtherEmpname').val('');
            $("#OtherEmpName").hide();
            $("#divOnBehalf").hide();
            func();
            $('#drpEmployeeType').trigger('change');
        }
        else {
            $("#divOnBehalf").hide();
            $('#drpEmployeeType').val("null");
            $("#OtherEmpName").hide();
            $('#txtSurname').val('');
            $('#txtFirstName').val('');
            $('#txtEmpId').val('');
            $('#txtDepartment').val('');
        }

    }

    function allowNumbersOnly(e) {
        var code = (e.which) ? e.which : e.keyCode;
        if (code > 31 && (code < 48 || code > 57)) {
            e.preventDefault();
        }
    }

    function alphaOnly(e) {
        var key = e.keyCode;
        if (key > 32 && (key < 65 || key > 122 || key == 91 || key == 92 || key == 93 || key == 94 || key == 95 || key == 96)) {
            e.preventDefault();
        }
    }

    $("#btnCancel").on('click', function (e) {
        //
        window.location.href = "../dashboard";
    });

    function GetCostCenter() {
        ////
        if (IsNew) {
            if (!IsEdit) {
                var value = JSON.stringify(IDC[0]);
                var value_1 = JSON.parse(value);
                var selectedLocation = value_1.Value[0].CostCentre;
                console.log(selectedLocation);

                $.ajax({
                    url: '/List/CostCenter',
                    type: 'GET',
                    data: {},
                    dataType: 'JSON',
                    success: (function (data) {
                        //locdata = data;

                        //console.log(data);
                        var s = '<option value="-1">Please Select Cost Center</option>';

                        for (var i = 0; i < data.length; i++) {
                            if (data[i].CostCenter == selectedLocation) {
                                s += '<option value="' + data[i].CostCenter + '" location="' + data[i].Location + '"' + 'id="' + data[i].Id + '" selected>' + data[i].CostCenter + '</option>';
                            }
                            else {
                                s += '<option value="' + data[i].CostCenter + '" location="' + data[i].Location + '"' + 'id="' + data[i].Id + '">' + data[i].CostCenter + '</option>';
                            }
                        }
                        $("#drpCostCentre").html(s);


                    }),
                    error: (function (data) {
                        //code
                    })
                })
            }
            else {
                $.ajax({
                    url: '/List/CostCenter',
                    type: 'GET',
                    data: {},
                    dataType: 'JSON',
                    success: (function (data) {
                        locdata = data;

                        //console.log(data);
                        var s = '<option value="-1">Please Select Cost Center</option>';

                        for (var i = 0; i < data.length; i++) {
                            s += '<option value="' + data[i].CostCenter + '" location="' + data[i].Location + '"' + 'id="' + data[i].Id + '">' + data[i].CostCenter + '</option>';
                        }
                        $("#drpCostCentre").html(s);


                    }),
                    error: (function (data) {
                        //code
                    })
                })
            }

        }
    }

    function getDepartment() {
        if (IsNew) {
            if (!IsEdit) {
                var value = JSON.stringify(IDC[0]);
                var value_1 = JSON.parse(value);
                var selectedLocation = value_1.Value[0].Department;
                console.log(selectedLocation);

                $.ajax({
                    url: '/List/Department',
                    type: 'GET',
                    data: {},
                    dataType: 'JSON',
                    success: (function (data) {
                        //locdata = data;

                        //console.log(data);
                        var s = '<option value="-1">Please Select Department</option>';

                        for (var i = 0; i < data.length; i++) {
                            if (data[i].Department == selectedLocation) {
                                s += '<option value="' + data[i].Department + '" id="' + data[i].Id + '" selected>' + data[i].Department + '</option>';
                            }
                            else {
                                s += '<option value="' + data[i].Department + '" id="' + data[i].Id + '">' + data[i].Department + '</option>';
                            }
                        }
                        $("#drpDepartment").html(s);


                    }),
                    error: (function (data) {
                        //code
                    })
                })
            }
            else {
                $.ajax({
                    url: '/List/Department',
                    type: 'GET',
                    data: {},
                    dataType: 'JSON',
                    success: (function (data) {
                        locdata = data;

                        //console.log(data);
                        var s = '<option value="-1">Please Select Department</option>';

                        for (var i = 0; i < data.length; i++) {
                            s += '<option value="' + data[i].Department + '" id="' + data[i].Id + '">' + data[i].Department + '</option>';
                        }
                        $("#drpDepartment").html(s);


                    }),
                    error: (function (data) {
                        //code
                    })
                })
            }
        }

    }

    function GetLocationName() {
        if (IsNew) {
            if (!IsEdit) {
                //
                var value = JSON.stringify(IDC[0]);
                var value_1 = JSON.parse(value);
                var selectedLocation = value_1.Value[0].LocationName;
                console.log(selectedLocation);

                $.ajax({
                    url: '/List/LocationMaster',
                    type: 'GET',
                    data: {},
                    dataType: 'JSON',
                    success: (function (data) {
                        locdata = data;

                        //console.log(data);
                        var s = '<option value="-1" style="display:none;"></option>';

                        for (var i = 0; i < data.length; i++) {
                            if (data[i].LocationName == selectedLocation) {
                                s += '<option value="' + data[i].Id + '" selected>' + data[i].LocationName + '</option>';
                            }
                            else {
                                s += '<option value="' + data[i].Id + '">' + data[i].LocationName + '</option>';
                            }

                        }
                        $("#drpLocationName").html(s);

                    }),
                    error: (function (data) {
                        //code
                    })
                })
            }
            else {
                $.ajax({
                    url: '/List/LocationMaster',
                    type: 'GET',
                    data: {},
                    dataType: 'JSON',
                    success: (function (data) {
                        locdata = data;

                        //console.log(data);
                        var s = '<option value="-1" style="display:none;"></option>';

                        for (var i = 0; i < data.length; i++) {
                            s += '<option value="' + data[i].Id + '">' + data[i].LocationName + '</option>';

                        }
                        $("#drpLocationName").html(s);

                    }),
                    error: (function (data) {
                        //code
                    })
                })

            }
        }

    }

    function GetArea() {
        //
        if (IsNew) {
            if (!IsEdit) {
                var value = JSON.stringify(IDC[0]);
                var value_1 = JSON.parse(value);
                var selectedLocation = value_1.Value[0].LocationId;
                console.log(selectedLocation);


                $("#AreaTR").show();
                $('#AreaListEdit').multiselect('destroy');
                /*$('#tableBody').empty();*/
                var Locationid = selectedLocation;
                $.ajax({
                    url: '/IDCard/AreaMaster',
                    type: 'GET',
                    data: { Locationid: Locationid },
                    dataType: 'JSON',
                    success: (function (data) {
                        locdata = data;

                        //console.log(data);
                        var s = null;
                        for (var i = 0; i < data.length; i++) {
                            //  s += '<option value="' + data[i].Id + '">' + data[i].AreaName + '</option>';
                            s += '<option value="' + data[i].Id + '" LocationId="' + data[i].LocationId + '">' + data[i].AreaName + '</option>';
                        }
                        $("#AreaListEdit").html(s);


                        //$('#AreaList').multiselect({
                        //    includeSelectAllOption: false,
                        //    onChange: function (option, checked) {
                        //        AreaListOnChange(option, checked);
                        //    },
                        //});

                        $("#AreaListEdit").multiselect({
                            includeSelectAllOption: false,
                            onChange: function (option, checked) {
                                AreaListOnChangeEdit(option, checked);
                            },
                        });
                        var hidValue = $("#hidSelectedOptions").val();
                        //alert(hidValue);
                        var selectedOptions = hidValue.split(",");
                        for (var i in selectedOptions) {
                            var optionVal = selectedOptions[i];
                            $("#AreaListEdit").find("option[value=" + optionVal + "]").prop("selected", "selected");
                        }
                        $("#AreaListEdit").multiselect('refresh');
                    }),
                    error: (function (data) {
                        //code
                    })
                })

            }
            else {

                $("#AreaTR").show();
                $('#AreaList').multiselect('destroy');
                $('#tableBody').empty();
                var Locationid = $("#drpLocationName").val();
                $.ajax({
                    url: '/IDCard/AreaMaster',
                    type: 'GET',
                    data: { Locationid: Locationid },
                    dataType: 'JSON',
                    success: (function (data) {
                        locdata = data;

                        //console.log(data);
                        var s = null;
                        for (var i = 0; i < data.length; i++) {
                            //  s += '<option value="' + data[i].Id + '">' + data[i].AreaName + '</option>';
                            s += '<option value="' + data[i].Id + '" LocationId="' + data[i].LocationId + '">' + data[i].AreaName + '</option>';
                        }
                        $("#AreaList").html(s);


                        //$('#AreaList').multiselect({
                        //    includeSelectAllOption: true
                        //});

                        $('#AreaList').multiselect({
                            includeSelectAllOption: false,
                            onChange: function (option, checked) {
                                //console.log($(option));
                                //console.log(checked);
                                AreaListOnChange(option, checked);
                            },

                        });
                    }),
                    error: (function (data) {
                        //code
                    })
                })

            }
        }

    }

    function AreaListOnChange(option, checked) {
        var AreaText = $(option).text();
        var AreaId = $(option).val();
        var Locationid = $("#drpLocationName").val();
        //
        if (checked) {
            $.ajax({
                url: '/IDCard/SubAreaMaster',
                type: 'GET',
                data: { Locationid: Locationid, AreaID: AreaId },
                dataType: 'JSON',
                success: (function (data) {
                    locdata = data;
                    console.log(data);

                    if (data.length == 0) {
                        start = "<tr class='align_colspan" + AreaId + "' id='" + AreaId + "' value='" + AreaId + "'><td value='" + AreaId + "' id='" + AreaId + "' class='w-25 allFormLables noTopBorder' data-hasSubAreas='0'>" + AreaText + "</td><td><input type='checkbox' value='" + AreaId + "'  id='" + AreaId + "'></td><td><input class='w-50 noTopBorder' type='text' readonly  id='" + AreaId + "'></br><small>(sign)</small></td></tr>";
                    }
                    else {
                        //Adding Sub Areas
                        var $table = $("#AreaTable");
                        var rowCount = $('#AreaTable tr').length;
                        var count = rowCount;
                        var start = "";
                        start = "<tr id=tr_" + AreaId + "><td class='align_colspan" + AreaId + "' id='" + AreaId + "' value='" + AreaId + "'><div class='d-flex justify-content-around'> <div class='TableborderDiv f-600'>" + AreaText + "</div>";
                        for (var k = 0; k < data.length; k++) {
                            /*start += "<div class='TableborderDiv'>" + data[k].SubAreaName + " <input type = 'checkbox' value = '" + data[k].Id + "'  id = '" + data[k].Id + "' >" + "</div >";                        */
                            start += "<div class='TableborderDiv'>" + " <input type = 'checkbox' value = '" + data[k].Id + "'  id = '" + data[k].Id + "' >" + data[k].SubAreaName + "</div >";
                        }
                        console.log(start);
                        $('#tableBody').append(start + "</div></td></tr>");
                    }
                }),
                error: (function (data) {
                })
            })
        }
        else {
            $('#tableBody').find("#tr_" + AreaId).remove();
        }


        //$("#AreaList option:selected").each(function () {
        //    //var markup = null;
        //    //var trs = false;
        //    //var AreaText = null;
        //    //var AreaId = null;
        //    //var $this = $(this);
        //    //if ($this.length) {
        //    //    AreaText = $this.text();
        //    //    AreaId = $this.val();
        //    //}
        //    //var uncheckedValues = $("select#AreaList").find('option').not(':selected');
        //    //var uncheckedArray = uncheckedValues.map(function () {
        //    //    return this.text;

        //    //}).get();

        //    //$('#AreaTable').find('tr').each(function (i, el) {
        //    //    var $tds = $(this).find('td');
        //    //    var areaname = $tds.eq(0).text();
        //    //    if (areaname == AreaText) {
        //    //        trs = true;
        //    //    }
        //    //    for (var j = 0; j < uncheckedArray.length; j++) {
        //    //        if (areaname == uncheckedArray[j]) {
        //    //            $(this).closest("tr").remove();
        //    //        }
        //    //    }
        //    //});


        //});

        //    if (ID.length == 0) {
        //        $('#tableBody').empty();
        //    }

        //});
    }

    function AreaListOnChangeEdit(option, checked) {
        //
        var AreaText = $(option).text();
        var AreaId = $(option).val();
        var Locationid = $("#drpLocationName").val();

        if (checked) {
            $.ajax({
                url: '/IDCard/SubAreaMaster',
                type: 'GET',
                data: { Locationid: Locationid, AreaID: AreaId },
                dataType: 'JSON',
                success: (function (data) {
                    locdata = data;
                    console.log(data);

                    if (data.length == 0) {
                        start = "<tr class='align_colspan" + AreaId + "' id='" + AreaId + "' value='" + AreaId + "'><td value='" + AreaId + "' id='" + AreaId + "' class='w-25 allFormLables noTopBorder' data-hasSubAreas='0'>" + AreaText + "</td><td><input type='checkbox' value='" + AreaId + "'  id='" + AreaId + "'></td><td><input class='w-50 noTopBorder' type='text' readonly  id='" + AreaId + "'></br><small>(sign)</small></td></tr>";
                    }
                    else {
                        //Adding Sub Areas
                        var $table = $("#AreaTableView");
                        var rowCount = $('#AreaTableView tr').length;
                        var count = rowCount;
                        var start = "";
                        start = "<tr id=tr_" + AreaId + "><td class='align_colspan" + AreaId + "' id='" + AreaId + "' value='" + AreaId + "'><div class='d-flex justify-content-around'> <div class='TableborderDiv f-600'>" + AreaText + "</div>";
                        for (var k = 0; k < data.length; k++) {
                            /*start += "<div class='TableborderDiv'>" + data[k].SubAreaName + " <input type = 'checkbox' value = '" + data[k].Id + "'  id = '" + data[k].Id + "' >" + "</div >";                        */
                            start += "<div class='TableborderDiv'>" + " <input type = 'checkbox' value = '" + data[k].Id + "'  id = '" + data[k].Id + "' >" + " " + data[k].SubAreaName + "</div >";
                        }
                        console.log(start);
                        $('#tableBodyView').append(start + "</div></td></tr>");
                    }
                }),
                error: (function (data) {
                })
            })
        }
        else {
            $('#tableBodyView').find("#tr_" + AreaId).remove();
        }
    }

    function AreaSubArea() {
        ////
        GetAreaOnEdit();
    }

    function GetAreaOnEdit() {
        ////
        $('#AreaList').multiselect('destroy');
        $('#tableBody').empty();
        var Locationid = $("#drpLocationName").val();
        $.ajax({
            url: '/IDCard/AreaMaster',
            type: 'GET',
            data: { Locationid: Locationid },
            dataType: 'JSON',
            success: (function (data) {
                locdata = data;

                //console.log(data);
                var s = null;
                for (var i = 0; i < data.length; i++) {

                    s += '<option value="' + data[i].Id + '" LocationId="' + data[i].LocationId + '">' + data[i].AreaName + '</option>';
                }
                $("#AreaList").html(s);


                $('#AreaList').multiselect({
                    includeSelectAllOption: true,
                });

                // $("#AreaList").val([2, 4]);

            }),
            error: (function (data) {
                //code
            })
        })
    }


    $("#btnSubmit").on('click', function (e) {
        //
        var errors = "";
        var drpRequestSubType = $("#drpSelfOnBehalf").val();
        var drpEmployeeType = $("#drpEmployeeType option:selected").val();
        var surname = document.getElementById("txtSurname").value;
        var firstname = document.getElementById("txtEmployeeName").value;
        var empid = document.getElementById("txtEmployeeNumber").value;
        var mobile = document.getElementById("txtMobile").value;
        var cost = $("#drpCostCentre option:selected").val();
        var dept = $("#drpDepartment option:selected").val();
        var drpLocationName = $("#drpLocationName option:selected").val();

        if (drpRequestSubType == "null") {
            errors += "* Request Submission Type.<br>";
        }

        if (IsNew) {
            if (!IsEdit) {
                subAreaSelection = $("#AreaListEdit option:selected").val();
            }
            else {
                subAreaSelection = $("#AreaList option:selected").val();
            }
        }

        if (drpEmployeeType == "") {
            errors += "* Employee Type.<br>";
        }
        if (surname == "") {
            errors += "* Employee Surname.<br>";

        }
        if (firstname == "") {
            errors += "* First Name.<br>";
        }
        if (empid == "") {
            errors += "* Employee Number.<br>";
        }
        if (cost == -1) {
            errors += "* Cost Centre.<br>";
        }
        if (dept == -1) {
            errors += "* Department.<br>";
        }
        if ($('.Access:checkbox:checked').length == 0) {
            errors += "* Profile Access.<br>";
        }
        if (drpLocationName == "-1") {
            errors += "* Location Name.<br>";
        }
        if (subAreaSelection == undefined) {
            errors += "* Sub-area.<br>";
        }
        if (mobile == "") {
            errors += "* Mobile.<br>";
        }

        if (errors.length) {
            $("#headingErr").show();
            document.getElementById("add_to_me").innerHTML = errors;
            $(window).scrollTop(0);
            return false;
        }
        $("#headingErr").hide();
        document.getElementById("add_to_me").innerHTML = '';

        if (IsNew) {
            if (!IsEdit) {
                //Area & Sub-Area Array binding
                var doors = Array();
                var abc = [];
                $("#AreaTableView tr").each(function (i, v) {
                    let tempObject = { Area: 0, SubAreas: [] }
                    var area = $(this).children('td').first().attr('id');
                    if (area != undefined) {
                        tempObject.Area = $(this).children('td').first().attr('id');
                    }

                    $(this).children('td').each(function (j, w) {
                        $(this).children('div').each(function (k, z) {
                            $(this).children('div').each(function (p, q) {

                                if ($(this).find('input:checkbox:checked:first').length > 0) {
                                    tempObject.SubAreas.push($(this).find('input:checkbox:checked:first').val());
                                }
                                else {
                                    if (!($(this).text()) == '(sign)')
                                        tempObject.SubAreas.push($(this).text());
                                }

                            });
                        });
                    });
                    if (area != undefined) {
                        abc.push(tempObject);
                    }
                });

                console.log(abc);

                var LocationName = $("#drpLocationName option:selected").text();
                $("#drpLocationValue").val(LocationName);
                console.log(LocationName);

                var form = $("#DARForm").serialize();
                form += "&areaArr=" + JSON.stringify(abc);

                console.log(form);
            }
            else {

                //Area & Sub-Area Array binding
                var doors = Array();
                var abc = [];
                $("#AreaTable tr").each(function (i, v) {
                    let tempObject = { Area: 0, SubAreas: [] }
                    var area = $(this).children('td').first().attr('id');
                    if (area != undefined) {
                        tempObject.Area = $(this).children('td').first().attr('id');
                    }

                    $(this).children('td').each(function (j, w) {
                        $(this).children('div').each(function (k, z) {
                            $(this).children('div').each(function (p, q) {

                                if ($(this).find('input:checkbox:checked:first').length > 0) {
                                    tempObject.SubAreas.push($(this).find('input:checkbox:checked:first').val());
                                }
                                else {
                                    if (!($(this).text()) == '(sign)')
                                        tempObject.SubAreas.push($(this).text());
                                }

                            });
                        });
                    });
                    if (area != undefined) {
                        abc.push(tempObject);
                    }
                });

                //console.log(abc);

                var LocationName = $("#drpLocationName option:selected").text();
                $("#drpLocationValue").val(LocationName);
                //console.log(LocationName);

                var form = $("#DARForm").serialize();
                form += "&areaArr=" + JSON.stringify(abc);

                //console.log(form);
            }
        }
        $("#pageLoader").removeClass('invisible');
        //return;

        $.ajax({
            url: '/IDCard/SaveIDCard',
            type: 'POST',
            data: form,
            dataType: 'JSON',
            success: (function (data) {
                if (data[1].Value == 1) {
                    ////
                    $("#pageLoader").addClass('invisible');
                    successModal(data[0].Value);
                    $("#DARForm").trigger("reset");
                    if (IsNew) {
                        if (!IsEdit) {
                            setTimeout(function () {// wait for 4 secs(2)
                                location.reload(); // then reload the page.(3)
                            }, 4000);
                        }
                    }
                    $('#AreaList').multiselect('destroy');
                    $('#tableBody').empty();
                }
                else {
                    $("#pageLoader").addClass('invisible');
                    failureModal();
                    $("#DARForm").trigger("reset");
                    $('#AreaList').multiselect('destroy');
                    $('#tableBody').empty();
                }
            }),
            error: (function (data) {
                $("#pageLoader").addClass('invisible');
                failureModal();
                $("#DARForm").trigger("reset");
                $('#AreaList').multiselect('destroy');
                $('#tableBody').empty();
            })
        })
    });

    function validityModal(txt) {
        ////
        if (txt == 'approve') {
        }
        else if (txt == 'reject') {
            DisplayAlert('error', 'Warning', 'Please type in the reason for rejecting the form');
        }
        else if (txt == 'enquire') {
            DisplayAlert('error', 'Warning', 'Please type in the reason for enquiring the form');
        }
    }

    function saveResponse(text) {
        //
        var status = '', comment = '';
        comment = $("#comment-" + text).val();
        switch (text) {
            case 'approve': {
                status = 'Approved';
                break;
            }
            case 'reject': {
                status = 'Rejected';
                break;
            }
            case 'enquire': {
                status = 'Enquired';
                break;
            }
        }
        $.ajax({
            url: '/List/SaveResponse',
            type: 'POST',
            data: { response: status, appRowId: appRowId, comment: comment, approvalType: approvalType},
            dataType: 'JSON',
            success: (function (data) {
                if (data == 1) {
                    successModal(text);
                    $("#DARForm").trigger("reset");
                    setTimeout(FilterMyTasks, 8000)
                }
                else {
                    failureModal();
                    $("#DARForm").trigger("reset");
                }
            }),
            error: (function (data) {
                failureModal();
                $("#DARForm").trigger("reset");
            })
        })
    }

    $(document).ready(function () {
        $(".colspan_align1").children('td').eq(1).attr('colspan', 6);
        $(".colspan_align12").children('td').eq(1).attr('colspan', 3);
        $(".colspan_align9").children('td').eq(1).attr('colspan', 4);
        $(".colspan_align7").children('td').eq(1).attr('colspan', 5);
        $(".colspan_align11").children('td').eq(1).attr('colspan', 3);
        $(".colspan_align8").children('td').eq(1).attr('colspan', 5);
        $(".colspan_align6").children('td').eq(1).attr('colspan', 6);
        $(".colspan_align5").children('td').eq(1).attr('colspan', 6);
        $(".colspan_align3").children('td').eq(1).attr('colspan', 6);
        $(".colspan_align2").children('td').eq(1).attr('colspan', 6);
        $(".colspan_align4").children('td').eq(1).attr('colspan', 6);
    })

    $("#modalOkButton").on('click', function () {
        ////
        if (FlagRedirect != null) {
            window.location = "../Dashboard";
        }
    });
</script>
11:54 AM 3/31/2022