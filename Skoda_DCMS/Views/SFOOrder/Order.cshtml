@model dynamic
@{
    ViewBag.Title = "Suggestion For Order";
    var user = (Skoda_DCMS.Models.UserData)HttpContext.Current.Session["UserData"];
    bool IsNew = true;
    dynamic Order = null;
    int RowId = 0, FormId = 0, AppRowId = 0, ApprovalType = 0;
    bool IsEdit = true;
    dynamic FlagRedirect = null;
    Layout = ViewBag.Layout;
    var FormData = (Skoda_DCMS.Models.FormData)ViewBag.FormData ?? new Skoda_DCMS.Models.FormData();

    var IsOnBehalfSAVWIPLEmployee = false;
    var IsOnBehalfOthers = false;
    if (ViewBag != null && ViewBag.IsNew != null)
    {
        IsNew = ViewBag.IsNew;
        Order = ViewBag.Model;
        RowId = ViewBag.RowId;
        FormId = ViewBag.FormId;
        ApprovalType = ViewBag.ApprovalType != null ? (int)ViewBag.ApprovalType : 0;
        AppRowId = ViewBag.AppRowId;
        IsEdit = ViewBag.IsEdit;
        IsOnBehalfSAVWIPLEmployee = Order.one[0].RequestSubmissionFor == "OnBehalf" && Order.one[0].OnBehalfOption == "SAVWIPLEmployee";
        IsOnBehalfOthers = Order.one[0].RequestSubmissionFor == "OnBehalf" && Order.one[0].OnBehalfOption == "Others";
    }
}


<style type="text/css">

    .inpSC {
        max-width: 12% !important;
        margin-right: 5px;
        text-align: center;
    }

    #loader {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        width: 100%;
        
        z-index: 10000;
    }

    .astColor {
        color: red;
    }

    /*SFO NEW UI CSS START*/
    #accordion .card {
        border: 0 !important;
        margin-bottom: 20px;
    }


    .empDetailsBg {
        background-color: #fffbef;
    }

    #accordion select {
        width: 100% !important;
        max-width: 100%;
        height: 45px;
        background-color: #FFFFFF;
        border: 1px solid #BFBFBF;
        box-sizing: border-box;
        border-radius: 5px;
        background-image: url(data:image/svg+xml;utf8,<svg fill='black' height='24' viewBox='0 0 24 24' width='24' xmlns='http://www.w3.org/2000/svg'><path d='M7 10l5 5 5-5z'/><path d='M0 0h24v24H0z' fill='none'/></svg>);
        background-repeat: no-repeat;
        background-position: right .75rem center;
        background-size: 16px 12px;
        z-index: 1;
        position: relative;
    }

    #accordion input[type='checkbox'] {
        z-index: 1;
        position: relative;
    }

    #accordion input[type='text'] {
        width: 100% !important;
        max-width: 100%;
        height: 45px;
        background-color: #FFFFFF;
        border: 1px solid #BFBFBF !important;
        box-sizing: border-box;
        border-radius: 5px !important;
        padding-left: 10px;
        z-index: 1;
        position: relative;
    }

    #accordion input[type='file'] {
        z-index: 1;
        position: relative;
    }

    #accordion input[type='date'] {
        width: 100% !important;
        max-width: 100%;
        height: 45px;
        background: #F8F8F8;
        border: 1px solid #BFBFBF !important;
        box-sizing: border-box;
        border-radius: 5px;
    }

    #accordion label {
        font-size: 14px;
        line-height: 22px;
        font-weight: 600;
        color: #201F1F;
    }

    #accordion table tr td {
        font-size: 16px;
        line-height: 19px;
        color: #201F1F;
    }

    #accordion label {
        display: block;
    }

    #accordion textarea {
        background-color: #FFFFFF;
        z-index: 1;
        position: relative;
        max-width: 100%;
    }

    #accordion .card-header {
        background: rgb(4 59 100) !important;
        border-radius: 5px 5px 0px 0px;
        position: relative;
    }

        #accordion .card-header.collapsed h5:after {
            content: '+';
            position: absolute;
            right: 22px;
            top: 17px;
            font-size: 20px;
            font-weight: 600;
            color: #fff;
        }

        #accordion .card-header h5:after {
            content: '-';
            position: absolute;
            right: 22px;
            top: 17px;
            font-size: 20px;
            font-weight: 600;
            color: #fff;
        }

    #accordion h5 button {
        font-size: 18px;
        line-height: 22px;
        /* identical to box height */
        padding-left: 0px;
        display: flex;
        align-items: center;
        text-transform: uppercase;
        /* Text_white */

        color: #FFFFFF;
    }

        #accordion h5 button:focus {
            box-shadow: none;
        }

    .empDetailsFields label {
        display: block !important;
        margin-bottom: 0px;
    }

    .empDetailsFields .row label {
        display: block;
        margin-bottom: 0px;
    }

        .empDetailsFields .row label:nth-child(1) {
            font-style: normal;
            font-weight: normal !important;
            font-size: 12px;
            line-height: 18px;
            color: #A9A9A9 !important;
        }

        .empDetailsFields .row label:nth-child(2) {
            font-style: normal;
            font-weight: normal;
            font-size: 18px;
            line-height: 22px;
            color: #201F1F;
        }

    .firstLastName {
        font-style: normal;
        font-weight: normal;
        font-size: 20px;
        line-height: 24px;
        /* identical to box height */

        display: flex;
        align-items: center;
        color: #201F1F;
    }

    .submit-btn {
        background: #3D3D3D;
        border-radius: 5px;
        font-style: normal;
        font-weight: normal;
        font-size: 16px;
        line-height: 173.7%;
        /* identical to box height, or 28px */
        padding: 0.5rem 2rem;
        display: flex;
        align-items: center;
        text-align: center;
        text-transform: uppercase;
        color: #FFFFFF;
        border-color: transparent !important;
    }

    .cancl-btn {
        background: #FAE99B;
        border-radius: 5px;
        font-style: normal;
        font-weight: normal;
        font-size: 16px;
        border-color: transparent !important;
        line-height: 173.7%;
        /* identical to box height, or 28px */
        padding: 0.5rem 2rem;
        display: flex;
        align-items: center;
        text-align: center;
        text-transform: uppercase;
        color: #212221;
        margin-left: 10px;
    }

    .card-footer {
        display: flex;
        background-color: transparent !important;
        padding-top: 10px;
    }

    .photo-form {
        width: 100%;
    }

    .budgetSpan span {
        display: inline-block;
        margin-right: 5px;
    }

    .approvalTracking table th {
        font-family: SKODA Next;
        font-style: normal;
        font-weight: 600;
        font-size: 16px;
        line-height: 19px;
        color: #000 !important;
        padding: .75rem 27px;
    }

    .approvalTracking table tr td {
        font-family: SKODA Next;
        font-style: normal;
        font-weight: 600;
        font-size: 14px !important;
        line-height: 19px;
        color: #201F1F;
        padding: .75rem 27px;
        border:none;
    }

    .actionTab textarea {
        width: 100% !important;
        max-width: 98.7%;
        height: 115px;
        background-color: #F8F8F8;
        border: 1px solid #BFBFBF !important;
        box-sizing: border-box;
        border-radius: 5px;
        padding-left: 10px;
    }
    /*SFO NEW UI CSS END*/

    .ui-front {
        z-index: 9999999 !important;
    }

    textarea {
        width: 100%;
        max-width: inherit;
        border: 1px solid #BFBFBF !important;
    }

    /*Animation CSS Starts*/

    div.input-block {
        position: relative;
    }

        div.input-block input {
            font-weight: 500;
            font-size: 1rem;
            color: #000;
            width: 188px;
            padding: 15px 15px;
            border-bottom-left-radius: 5px !important;
            border-top-left-radius: 5px !important;
            border-bottom-right-radius: 0px !important;
            border-top-right-radius: 0px !important;
            border: 1px solid #D9D9D9;
            outline: none;
        }

        div.input-block textarea {
            font-weight: 500;
            font-size: 1rem;
            color: #000;
            width: 100%;
            padding: 15px 15px;
            border-bottom-left-radius: 5px !important;
            border-top-left-radius: 5px !important;
            border-bottom-right-radius: 0px !important;
            border-top-right-radius: 0px !important;
            background-color: #fff;
            border: 1px solid #D9D9D9;
            outline: none;
        }

        div.input-block span.placeholder {
            position: absolute;
            margin: 17px 0;
            padding: 0 4px;
            font-family: Roboto, sans-serif;
            color: #6c757d;
            display: flex;
            align-items: center;
            font-size: 1rem;
            top: -6px;
            left: 15px;
            transition: all 0.2s;
            transform-origin: 0% 0%;
            background: none;
            pointer-events: none;
            z-index: 1;
        }

        div.input-block textarea:focus + span.placeholder {
            transform: scale(0.8) translateY(-25px);
            background-color: #fff !important;
        }

        div.input-block textarea:valid + span.placeholder,
        div.input-block textarea:focus + span.placeholder {
            transform: scale(0.8) translateY(-25px) !important;
            background: #fff !important;
        }

        div.input-block input:valid + span.placeholder,
        div.input-block input:focus + span.placeholder {
            transform: scale(0.8) translateY(-25px);
            background-color: rgb(219,238,213);
        }

        div.input-block textarea:valid + span.placeholder,
        div.input-block textarea:focus + span.placeholder {
            transform: scale(0.8) translateY(-25px);
            background-color: rgb(219,238,213);
        }

        div.input-block input.spanUpperSide + span.placeholder {
            transform: scale(0.8) translateY(-25px);
            background-color: rgb(219,238,213);
        }

        div.input-block textarea.spanUpperSide + span.placeholder {
            transform: scale(0.8) translateY(-25px);
            background-color: rgb(219,238,213);
        }

        div.input-block textarea.spanUpperSide + span.placeholder {
            transform: scale(0.8) translateY(-25px);
            background-color: rgb(219,238,213);
        }

        div.input-block input:read-only + span.placeholder,
        div.input-block input:read-only + span.placeholder {
            transform: scale(0.8) translateY(-25px);
            background: rgb(219,238,213);
        }


    div.inputSelect span.placeholder {
        position: absolute;
        margin: 17px 0;
        padding: 0 4px;
        font-family: Roboto, sans-serif;
        color: #000;
        display: flex;
        align-items: center;
        font-size: 1rem;
        top: -6px;
        left: 15px;
        transition: all 0.2s;
        transform-origin: 0% 0%;
        background: none;
        pointer-events: none;
        z-index: 1;
    }

    div.inputSelect select:focus + span.placeholder {
        transform: scale(0.8) translateY(-30px);
        background: rgb(219,238,213);
        z-index: 9;
    }

    div.inputSelect select:not([value=""]):valid + span.placeholder {
        transition: all 0.2s;
        transform-origin: 0% 0%;
    }



    div.input-block input:focus + span.placeholder {
        color: #284B63;
    }

    .breadcrumb {
        display: -webkit-box;
        display: -ms-flexbox;
        display: flex;
        -ms-flex-wrap: wrap;
        flex-wrap: wrap;
        padding: 1rem 1rem 0;
        margin-bottom: 0;
        list-style: none;
        background-color: #FFFFFF;
        border-radius: .25rem;
    }

    body.nav-sm .container.body .left_col {
        width: 63px;
        padding: 0;
        position: fixed;
        height: 100%;
        z-index: 8;
    }

    .card {
        position: relative;
        display: -webkit-box;
        display: -ms-flexbox;
        display: flex;
        -webkit-box-orient: vertical;
        -webkit-box-direction: normal;
        -ms-flex-direction: column;
        flex-direction: column;
        min-width: 0;
        word-wrap: break-word;
        background-color: #fff;
        background-clip: border-box;
        border: 0px;
        border-radius: .25rem;
    }

    .dropdown-toggle::after {
        display: none;
        width: 0;
        height: 0;
        margin-left: .255em;
        vertical-align: .255em;
        content: "";
        border-top: .3em solid;
        border-right: .3em solid transparent;
        border-bottom: 0;
        border-left: .3em solid transparent;
    }

    input.spanUpperSide + span.placeholder {
        background-color: rgb(219,238,213);
    }

    inputSelect.spanUpperSide + span.placeholder {
        background-color: rgb(219,238,213) !important;
    }

    select.spanUpperSide + span.placeholder {
        transform: scale(0.8) translateY(-25px) !important;
        background-color: rgb(219,238,213) !important;
        z-index: 9;
    }

    .input-block textarea.spanUpperSide + span.placeholder {
        transform: scale(0.8) translateY(-25px) !important;
        background: #fff !important;
        z-index: 9;
    }

    @@media only screen and (min-width: 992px) {
        div.input-block span.placeholder {
            font-size: 15px;
        }

        div.inputSelect span.placeholder {
            font-size: 14px;
        }
    }

    .showBorder {
        border: 1px solid #dee2e6;
    }
    .forShoppingCart {
        margin-left: 12% !important;
    }
    .TransView {
        background-color: #fff !important;
    }
    .mt7 {
        margin-top:5px;
        margin-right:7px;
    }
  /*  .astColor{
        display:none !important;
    }
    .showBorder {
        border: 1px solid #dee2e6;
    }
</style>
<script type="text/javascript">
    function checkSelect(id) {
        if ($('#' + id).val() != '') {
            $('#' + id).addClass('spanUpperSide');
        }
    }
</script>
<style type="text/css">
    #loader {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        width: 100%;
        
        z-index: 10000;
    }
</style>

@*Loader*@
<body>
    <div class="right_col table_order">
        <form action="//SFOOrder/SaveOrder" id="sfoForm" method="post">
            <div class="container">
                <!-- SFO NEW UI START -->
                @*<div class="breadcrumb-container">
                    <div>
                        <ol class="breadcrumb pl-0">
                            <li>
                                <a href="/Dashboard?formName=SFO">
                                    Dashboard
                                </a>
                            </li>
                            <li class="active">Suggestion for Order Form</li>
                        </ol>
                    </div>
                </div>

                <table class="table mainTbl table-bordered form-table-container bg-color mb-3">
                    <tr>
                        <td colspan="6" class="heading form-heading-1">
                            <span>Suggestion for Order Form</span>
                        </td>
                    </tr>
                </table>*@
                @if (IsNew)
                {
                    if (!IsEdit)
                    {
                        <div>
                            <input type="hidden" id="FormSrId" name="FormSrId" value="@(Order.one[0].Id)" />
                            <input type="hidden" id="FormId" name="FormId" value="@(FormId)" />
                            <input type="hidden" id="AppRowId" name="AppRowId" value="@(AppRowId)" />
                        </div>
                    }
                    else
                    {
                        <div class="breadcrumb-container">
                            <div>
                                <ol class="breadcrumb pl-0">

                                    <li class="active">
                                        <a href="/Dashboard?formName=SFO">
                                            Dashboard
                                        </a>
                                    </li>
                                    <li class="active">Suggestion for Order Form</li>
                                </ol>
                            </div>
                        </div>

                    }
                }
                <div class="row breadcrumb-container table-bordered  mr-1 ml-1" style="background-color: rgb(219,238,213) !important; ">
                    <div class="col-md-2 col-lg-2">
                        <span class="placeholder">Date : @(!IsNew || !IsEdit ? (Convert.ToDateTime(Order.one[0].FormID.CreatedDate).ToShortDateString()) : DateTime.Now.ToShortDateString())</span>
                    </div>
                        <div class="col-md-8 col-lg-8 mt-2  form-heading" style="text-align:center; margin-top:5px">
                        <span>Suggestion for Order Form</span>
                    </div>
                    <div class="col-md-2 col-lg-2">
                        @if (!IsNew || !IsEdit)
                        {
                            <span class="placeholder"> Form Id : @(!IsNew || !IsEdit ? ("SFO" + Order.one[0].FormID.Id ?? "") : "" )</span>
                        }
                    </div>
               </div>
                @*@using (Html.BeginForm("SaveOrder", "List", FormMethod.Post, new { @id = "sfoForm" }))
                {*@
                <div class="container form-container">
                    <div class="pb-4 pt-4">
                        <table class="w-100 m-auto">
                            <tr>
                                <td>
                                    <div class="heading d-none" id="headingErr">
                                        <h1 id="" class="info-header">Following fields are mandatory. Please fill in information for<br /></h1>
                                        <div id="add_to_me" class="header-list" style="color:red;"></div>
                                    </div>
                                    <!-- ACCORDIAN STRUCTURE START HERE-->
                                    @*Submitter Section*@
                                    <div id="accordion">
                                        <div class="card">
                                            <div class="card-header collapsed" id="headingOne" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                                <h5 class="mb-0">
                                                    <button type="button" class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                                        <img src="~/assets/img/empIcon.svg" width="24" height="24" class="mr-2" /><span class="d-inline-block mt-2">Submitter Details</span>
                                                    </button>
                                                </h5>
                                            </div>
                                            <div id="collapseOne" class="collapse show" aria-labelledby="headingOne">
                                                <div class="card-body empDetailsBg">
                                                    <div class="row">
                                                        <div class="col-md-12 col-lg-12 col-12">
                                                            <div class="empDetailsFields">

                                                                @if (IsNew)
                                                                {
                                                                    if (!IsEdit)
                                                                    {
                                                                        /*Submitter Detail Edit Page*/
                                                                        <div class="row">
                                                                            <div class="form-group col-md-3 col-lg-3 col-12">
                                                                                <label id="lblTypeOfEmp" class="f-600">Type of Employee<span class="astColor">*</span></label>
                                                                            </div>



                                                                            <div class="form-group col-md-2 col-lg-2 col-12">

                                                                                <label class="checkbox-container">

                                                                                    <label class="f-600">Internal</label>
                                                                                    @if (Order.one[0].EmployeeType == "Internal")
                                                                                    {
                                                                                        <input type="checkbox" class="isChkEditable" name="chkInternal" id="chkInternal" checked>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <input type="checkbox" class="isChkEditable" name="chkInternal" id="chkInternal">
                                                                                    }
                                                                                    <span class="checkmark"></span>
                                                                                </label>
                                                                            </div>

                                                                            <div class="form-group col-md-2 col-lg-2 col-12">
                                                                                <label class="checkbox-container">
                                                                                    <label class="f-600">External</label>
                                                                                    @if (Order.one[0].EmployeeType == "External")
                                                                                    {
                                                                                        <input type="checkbox" class="isChkEditable" name="chkExternal" id="chkExternal" checked>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <input type="checkbox" class="isChkEditable" name="chkExternal" id="chkExternal">
                                                                                    }
                                                                                    <span class="checkmark"></span>
                                                                                </label>
                                                                                <input type="hidden" name="chkEmployeeType" id="chkEmployeeType" value="@(Order.one[0].EmployeeType ?? "")" />
                                                                            </div>
                                                                            @if (Order.one[0].EmployeeType == "External")
                                                                            {
                                                                                <div class="form-group col-md-4 col-lg-4 col-12 input-block" id="divExtOtherOrg">
                                                                                    <input type="text" class="w-100 spanUpperSide" placeholder="" name="txtExternalOtherOrganizationName" id="txtExternalOtherOrganizationName" value="@(Order.one[0].ExternalOtherOrganizationName ?? "")" />
                                                                                    <span class="placeholder">External Organization Name</span>
                                                                                </div>
                                                                            }
                                                                            else
                                                                            {
                                                                                <div class="form-group col-md-4 col-lg-4 col-12 input-block d-none" id="divExtOtherOrg">
                                                                                    <input type="text" class="w-100" placeholder="" name="txtExternalOtherOrganizationName" id="txtExternalOtherOrganizationName" value="" />
                                                                                    <span class="placeholder">External Organization Name</span>
                                                                                </div>
                                                                            }
                                                                        </div>


                                                                        <div class="row">
                                                                            <div class="form-group col-md-3 col-lg-3 col-12 input-block">
                                                                                <input type="text" class="w-100 isSubEditable" name="txtEmployeeName" id="txtEmployeeName" value="@(Order.one[0].EmployeeName ?? "")" onkeypress="alphaOnly(event)" />
                                                                                <span class="placeholder">Employee Name <span class="astColor">*</span></span>
                                                                            </div>
                                                                            <div class="form-group col-md-3 col-lg-3 col-12 input-block">
                                                                                <input type="text" class="w-100 isSubEditable" id="txtEmployeeCode" name="txtEmployeeCode" value="@(Order.one[0].EmployeeCode ?? "")" onkeypress="allowNumbersOnly(event)" />
                                                                                <span class="placeholder">Employee Code <span class="astColor">*</span></span>
                                                                            </div>
                                                                            <div class="form-group col-md-3 col-lg-3 col-12 input-block">
                                                                                <input type="text" class="w-100 isSubEditable" name="txtCostcenterCode" id="txtCostcenterCode" value="@(Order.one[0].EmployeeCCCode ?? "")" onkeypress="allowNumbersOnly(event)" />
                                                                                <span class="placeholder">Cost Center No. <span class="astColor">*</span></span>
                                                                            </div>

                                                                            <div class="form-group col-md-3 col-lg-3 col-12 input-block">
                                                                                <input type="text" class="w-100 isSubEditable" name="txtUserId" id="txtUserId" value="@(Order.one[0].EmployeeUserId ?? "")" />
                                                                                <span class="placeholder">User-Id <span class="astColor">*</span></span>
                                                                            </div>

                                                                            <div class="form-group col-md-3 col-lg-3 col-12 input-block">
                                                                                <input type="text" class="w-100 isSubEditable" name="txtDepartment" id="txtDepartment" value="@(Order.one[0].EmployeeDepartment ?? "")" onkeypress="alphaOnly(event)" required/>
                                                                                <span class="placeholder">Department <span class="astColor">*</span></span>
                                                                            </div>

                                                                            <div class="form-group col-md-3 col-lg-3 col-12 inputSelect">
                                                                                <select name="ddEmpDesignation" class="w-100 spanUpperSide" id="ddEmpDesignation" onchange="checkSelect('ddEmpDesignation')"></select>
                                                                                <span class="placeholder">Designation <span class="astColor">*</span></span>
                                                                            </div>
                                                                            <div class="form-group col-md-3 col-lg-3 col-12 inputSelect">
                                                                                <select name="ddEmpLocation" class="w-100 spanUpperSide" id="ddEmpLocation" onchange="checkSelect('ddEmpLocation')"></select>
                                                                                <span class="placeholder">Location <span class="astColor">*</span></span>
                                                                            </div>
                                                                            <div class="form-group col-md-3 col-lg-3 col-12 input-block">
                                                                                <input type="text" class="w-100" name="txtContactNo" id="txtContactNo" value="@(Order.one[0].EmployeeContactNo ?? "")" onkeypress="allowNumbersOnly(event)" maxlength="10" />
                                                                                <span class="placeholder">Contact No</span>
                                                                            </div>

                                                                        </div>


                                                                        <div class="form-row" style="display: flex;">

                                                                            @foreach (var item in Order.one)
                                                                            {
                                                                                <div class="form-group col-md-3 pl-0 col-12 employee-type inputSelect">
                                                                                    <select name="drpRequestSubmissionFor" id="drpRequestSubmissionFor" class="choice spanUpperSide forResponsive" onchange="RequestSubmissionFor()">
                                                                                        <option value="" class="d-none">Select..</option>
                                                                                        <option value="Self" @(item.RequestSubmissionFor == "Self" ? "selected" : "")>Self</option>
                                                                                        <option value="OnBehalf" @(item.RequestSubmissionFor == "OnBehalf" ? "selected" : "")>On Behalf</option>
                                                                                    </select>
                                                                                    <span class="placeholder">Request Submission Type<span class="astColor">*</span></span>
                                                                                </div>
                                                                            }

                                                                            @if (Order.one[0].RequestSubmissionFor == "OnBehalf")
                                                                            {
                                                                                <div class="form-group col-md-8 col-12 d-flex pt-1 align-items-center employee-type" id="divEmployeeType">

                                                                                    <label id="lblEmpType" class="employee-type mr-4">Employee Type<span class="astColor">*</span></label>
                                                                                    @if (Order.one[0].OnBehalfOption == "SAVWIPLEmployee")
                                                                                    {
                                                                                        <input class="form-check-input exisiting mr-2" type="radio" name="rdOnBehalfOption" id="rdOnBehalfOption" value="SAVWIPLEmployee" checked />
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <input class="form-check-input exisiting mr-2" type="radio" name="rdOnBehalfOption" id="rdOnBehalfOption" value="SAVWIPLEmployee" />
                                                                                    }
                                                                                    <label class="form-check-label exisiting mr-3 mt-0" for="inlineCheckbox1">SAVWIPL Employee</label>
                                                                                    @if (Order.one[0].OnBehalfOption == "Others")
                                                                                    {
                                                                                        <input class="form-check-input new mr-2" type="radio" name="rdOnBehalfOption" id="rdOnBehalfOption" value="Others" checked>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <input class="form-check-input new mr-2" type="radio" name="rdOnBehalfOption" id="rdOnBehalfOption" value="Others" />
                                                                                    }
                                                                                    <label class="form-check-label new mr-3 mt-1" for="inlineCheckbox1">New</label>
                                                                                    <input class="form-check-input new-radio" type="hidden" name="rdOnBehalfOptionSelected" id="rdOnBehalfOptionSelected" value="@Order.one[0].OnBehalfOption" />

                                                                                </div>
                                                                            }
                                                                            else
                                                                            {
                                                                                <div class="form-group col-md-8 d-flex align-items-center col-12 pt-1 employee-type" id="divEmployeeType" style="visibility:hidden;">


                                                                                    <label id="lblEmpType" class="employee-type mr-3">Employee Type<span class="astColor">*</span></label>
                                                                                    <input class="form-check-input exisiting-radio mt-2" type="radio" name="rdOnBehalfOption" id="rdOnBehalfOption" value="SAVWIPLEmployee" />

                                                                                    <label class="form-check-label exisiting mr-3" for="inlineCheckbox1">SAVWIPL Employee</label>
                                                                                    <input class="form-check-input new-radio mt-2" type="radio" name="rdOnBehalfOption" id="rdOnBehalfOption" value="Others" />
                                                                                    <label class="form-check-label new" for="inlineCheckbox1">New</label>
                                                                                    <input class="form-check-input new-radio" type="hidden" name="rdOnBehalfOptionSelected" id="rdOnBehalfOptionSelected" value="" />

                                                                                </div>
                                                                            }
                                                                        </div>
                                                                    }
                                                                    else
                                                                    {
                                                                        /*Submitter Detail Create New Page*/
                                                                        <div class="row">
                                                                            <div class="form-group col-md-3 col-lg-3 col-12">
                                                                                <label id="lblTypeOfEmp" class="f-600">Type of Employee<span class="astColor">*</span></label>
                                                                            </div>


                                                                            <div class="form-group col-md-2 col-lg-2 col-12">

                                                                                <label class="checkbox-container">
                                                                                    <label class="f-600">Internal</label>
                                                                                    <input type="checkbox" class="" name="chkInternal" id="chkInternal">

                                                                                    <span class="checkmark"></span>
                                                                                </label>
                                                                            </div>

                                                                            <div class="form-group col-md-2 col-lg-2 col-12">
                                                                                <label class="checkbox-container">
                                                                                    <label class="f-600">External</label>
                                                                                    <input type="checkbox" class="" name="chkExternal" id="chkExternal">

                                                                                    <span class="checkmark"></span>
                                                                                </label>
                                                                                <input type="hidden" name="chkEmployeeType" id="chkEmployeeType" value="" />
                                                                            </div>


                                                                            <div class="form-group col-md-4 col-lg-4 col-12 input-block d-none" id="divExtOtherOrg">
                                                                                <input type="text" class="w-100" name="txtExternalOtherOrganizationName" id="txtExternalOtherOrganizationName" value="" required />
                                                                                <span class="placeholder">External Organization Name </span>
                                                                            </div>
                                                                        </div>

                                                                        <div class="row">
                                                                            <div class="form-group col-md-3 col-lg-3 col-12 input-block">

                                                                                <input type="text" class="w-100 txtDisable" name="txtEmployeeName" id="txtEmployeeName" value="" onkeypress="alphaOnly(event)" required />
                                                                                <span class="placeholder">Employee Name<span class="astColor">*</span></span>
                                                                            </div>
                                                                            <input type="hidden" name="txtEmail" id="txtEmail" value="" />
                                                                            <div class="form-group col-md-3 col-lg-3 col-12 input-block">

                                                                                <input type="text" class="w-100 txtDisable" name="txtCostcenterCode" id="txtCostcenterCode" value="" onkeypress="allowNumbersOnly(event)" />
                                                                                <span class="placeholder">Cost Center No.<span class="astColor">*</span></span>
                                                                            </div>
                                                                            <div class="form-group col-md-3 col-lg-3 col-12 input-block">

                                                                                <input type="text" class="w-100 txtDisable" id="txtEmployeeCode" name="txtEmployeeCode" value="" onkeypress="allowNumbersOnly(event)" />
                                                                                <span class="placeholder">Employee Code<span class="astColor">*</span></span>
                                                                            </div>

                                                                            <div class="form-group col-md-3 col-lg-3 col-12 input-block">
                                                                                <input type="text" class="w-100 txtDisable" name="txtUserId" id="txtUserId" value="" />
                                                                                <span class="placeholder">User-Id<span class="astColor">*</span></span>
                                                                            </div>

                                                                            <div class="form-group col-md-3 col-lg-3 col-12 input-block">
                                                                                <input type="text" class="w-100 txtDisable" name="txtDepartment" id="txtDepartment" value="" onkeypress="alphaOnly(event)" required/>
                                                                                <span class="placeholder">Department<span class="astColor">*</span></span>
                                                                            </div>

                                                                            <div class="form-group col-md-3 col-lg-3 col-12 inputSelect">

                                                                                <select name="ddEmpDesignation" class="" id="ddEmpDesignation" onchange="checkSelect('ddEmpDesignation')"></select>
                                                                                <span class="placeholder">Designation<span class="astColor">*</span></span>
                                                                            </div>

                                                                            <div class="form-group col-md-3 col-lg-3 col-12 inputSelect">

                                                                                <select name="ddEmpLocation" class="" id="ddEmpLocation" onchange="checkSelect('ddEmpLocation')"></select>
                                                                                <span class="placeholder">Location<span class="astColor">*</span></span>
                                                                            </div>

                                                                            <div class="form-group col-md-3 col-lg-3 col-12 input-block">

                                                                                <input type="text" class="w-100 txtDisable" name="txtContactNo" id="txtContactNo" value="" onkeypress="allowNumbersOnly(event)" maxlength="10" required />
                                                                                <span class="placeholder">Contact No</span>
                                                                            </div>
                                                                        </div>
                                                                        <div class="form-row" style="display: flex;">

                                                                            <div class="form-group col-md-3 col-12 employee-type inputSelect">

                                                                                <select name="drpRequestSubmissionFor" id="drpRequestSubmissionFor" class="choice" onchange="RequestSubmissionFor(); checkSelect('drpRequestSubmissionFor')">
                                                                                    <option value="" class="d-none"></option>
                                                                                    <option value="Self">Self</option>
                                                                                    <option value="OnBehalf">On Behalf</option>
                                                                                </select>
                                                                                <span class="placeholder">Request Submission Type<span class="astColor">*</span></span>
                                                                            </div>
                                                                            <div class="form-group col-md-8 d-flex align-items-center col-12 pt-1 employee-type" id="divEmployeeType" style="visibility:hidden;">

                                                                                <label id="lblEmpType" class="employee-type">Employee Type<span class="astColor">*</span></label>
                                                                                <input class="form-check-input exisiting-radio" type="radio" name="rdOnBehalfOption" id="rdOnBehalfOption" value="SAVWIPLEmployee" style="margin-top:5px;" />
                                                                                <label class="form-check-label exisiting mr-3" for="inlineCheckbox1">SAVWIPL Employee</label>
                                                                                <input class="form-check-input new-radio" type="radio" name="rdOnBehalfOption" id="rdOnBehalfOption" value="Others" style="margin-top:7px;" />
                                                                                <label class="form-check-label new" for="inlineCheckbox1">New</label>
                                                                                <input class="form-check-input new-radio" type="hidden" name="rdOnBehalfOptionSelected" id="rdOnBehalfOptionSelected" value="" />

                                                                            </div>

                                                                        </div>

                                                                    }
                                                                }
                                                                else if (!IsNew)
                                                                {
                                                                    /*Submitter Detail View Page*/
                                                                    <div class="row">
                                                                        <div class="form-group col-md-3 col-lg-3 col-12">
                                                                            <label id="lblTypeOfEmp" class="f-600">Type of Employee<span class="astColor">*</span></label>
                                                                        </div>

                                                                        <div class="form-group col-md-2 col-lg-2 col-12">

                                                                            <label class="checkbox-container">
                                                                                <label class="f-600">Internal</label>
                                                                                @if (Order.one[0].EmployeeType == "Internal")
                                                                                {
                                                                                    <input type="checkbox" class="inpDisable" name="chkInternal" id="chkInternal" checked>
                                                                                }
                                                                                else
                                                                                {
                                                                                    <input type="checkbox" class="inpDisable" name="chkInternal" id="chkInternal">
                                                                                }
                                                                                <span class="checkmark"></span>
                                                                            </label>
                                                                        </div>

                                                                        <div class="form-group col-md-2 col-lg-2 col-12">
                                                                            <label class="checkbox-container">
                                                                                <label class="f-600">External</label>
                                                                                @if (Order.one[0].EmployeeType == "External")
                                                                                {
                                                                                    <input type="checkbox" class="inpDisable" name="chkExternal" id="chkExternal" checked>
                                                                                }
                                                                                else
                                                                                {
                                                                                    <input type="checkbox" class="inpDisable" name="chkExternal" id="chkExternal">
                                                                                }
                                                                                <span class="checkmark"></span>
                                                                            </label>
                                                                            <input type="hidden" name="chkEmployeeType" id="chkEmployeeType" value="@(Order.one[0].EmployeeType ?? "")" />
                                                                        </div>
                                                                        @if (Order.one[0].EmployeeType == "External")
                                                                        {<div class="form-group col-md-4 col-lg-4 col-12 input-block" id="divExtOtherOrg">
                                                                                <input type="text" class="w-100 txtDisable spanUpperSide" placeholder="" name="txtExternalOtherOrganizationName" id="txtExternalOtherOrganizationName" value="@(Order.one[0].ExternalOtherOrganizationName ?? "")" />
                                                                                <span class="placeholder">External Organization Name</span>
                                                                            </div>
                                                                        }
                                                                    </div>

                                                                    <div class="row">
                                                                        <div class="form-group col-md-3 col-lg-3 col-12 input-block">

                                                                            <input type="text" class="w-100 inpDisable" name="txtEmployeeName" id="txtEmployeeName" value="@(Order.one[0].EmployeeName ?? "")" />
                                                                            <span class="placeholder">Employee Name<span class="astColor">*</span></span>
                                                                        </div>
                                                                        <div class="form-group col-md-3 col-lg-3 col-12 input-block">

                                                                            <input type="text" class="w-100 txtDisable" name="txtCostcenterCode" id="txtCostcenterCode" value="@(Order.one[0].EmployeeCCCode ?? "")" />
                                                                            <span class="placeholder">Cost Center No.<span class="astColor">*</span></span>
                                                                        </div>
                                                                        <div class="form-group col-md-3 col-lg-3 col-12 input-block">

                                                                            <input type="text" class="w-100 txtDisable" id="txtEmployeeCode" name="txtEmployeeCode" value="@(Order.one[0].EmployeeCode ?? "")" />
                                                                            <span class="placeholder">Employee Code<span class="astColor">*</span></span>
                                                                        </div>

                                                                        <div class="form-group col-md-3 col-lg-3 col-12 input-block">

                                                                            <input type="text" class="w-100 txtDisable" name="txtUserId" id="txtUserId" value="@(Order.one[0].EmployeeUserId ?? "")" />
                                                                            <span class="placeholder">User-Id<span class="astColor">*</span></span>
                                                                        </div>

                                                                        <div class="form-group col-md-3 col-lg-3 col-12 input-block">

                                                                            <input type="text" class="w-100 txtDisable" name="txtDepartment" id="txtDepartment" value="@(Order.one[0].EmployeeDepartment ?? "")" onkeypress="alphaOnly(event)" required />
                                                                            <span class="placeholder">Department<span class="astColor">*</span></span>
                                                                        </div>

                                                                        <div class="form-group col-md-3 col-lg-3 col-12 input-block">

                                                                            <input type="text" class="w-100 txtDisable" name="txtdesignation" id="txtdesignation" value="@(Order.one[0].EmployeeDesignation ?? "")" />
                                                                            <span class="placeholder">Designation<span class="astColor">*</span></span>
                                                                        </div>
                                                                        <div class="form-group col-md-3 col-lg-3 col-12 input-block">

                                                                            <input type="text" class="w-100 txtDisable" name="txtLocation" id="txtLocation" value="@(Order.one[0].EmployeeLocation ?? "")" />
                                                                            <span class="placeholder">Location<span class="astColor">*</span></span>
                                                                        </div>
                                                                        <div class="form-group col-md-3 col-lg-3 col-12 input-block">

                                                                            <input type="text" class="w-100 txtDisable" name="txtContactNo" id="txtContactNo" value="@(Order.one[0].EmployeeContactNo ?? "")" />
                                                                            <span class="placeholder">Contact No</span>
                                                                        </div>
                                                                    </div>
                                                                }

                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                    @*Applicant Section*@
                                    <div id="accordion">
                                        @*Existing*@
                                        @if (IsNew)
                                        {
                                            if (!IsEdit)
                                            {
                                                /*Applicant Detail Edit Page*/
                                                <div class="card" id="SAVWIPLEmployeeDetailsSection">
                                                    <div class="card-header collapsed" id="headingTwo" data-toggle="collapse" data-target="#collapseTwoEdit" aria-expanded="true" aria-controls="collapseTwo">
                                                        <h5 class="mb-0">
                                                            <button type="button" class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseTwoEdit" aria-expanded="true" aria-controls="collapseTwo">
                                                                <img src="~/assets/img/empIcon.svg" width="24" height="24" class="mr-2" /> <span class="d-inline-block mt-2"> Applicant Details</span>

                                                            </button>
                                                        </h5>
                                                    </div>

                                                    <div id="collapseTwoEdit" class="collapse show" aria-labelledby="headingTwo">
                                                        <div class="card-body pb-0 empDetailsBg">
                                                            <div class="row">

                                                                <div class="col-md-12 col-lg-12 col-12">
                                                                    <div class="otherEmpDetailsFields">

                                                                        <div class="row">

                                                                            <div class="form-group col-md-3 col-lg-3 col-12 input-block autocomplete-div">
                                                                                <input type="text" class="w-100" name="txtOtherEmployeeName" id="txtOtherEmployeeName" value="@(IsOnBehalfSAVWIPLEmployee ? (Order.one[0].OtherEmployeeName ?? ""):"")" onkeypress="alphaOnly(event)" required />
                                                                                <span class="placeholder">Name (Type 4 letters)<span class="astColor">*</span></span>
                                                                            </div>
                                                                            <div class="form-group col-md-2 col-lg-2 col-12 input-block">
                                                                                <input type="text" class="w-100 isEditable" id="txtOtherEmployeeCode" name="txtOtherEmployeeCode" value="@(IsOnBehalfSAVWIPLEmployee ? (Order.one[0].OtherEmployeeCode ?? ""):"")" onkeypress="allowNumbersOnly(event)" required />
                                                                                <span class="placeholder">Employee Code<span class="astColor">*</span></span>
                                                                            </div>
                                                                            <div class="form-group col-md-2 col-lg-2 col-12 input-block">
                                                                                <input type="text" class="w-100 isEditable" name="txtOtherCostcenterCode" id="txtOtherCostcenterCode" value="@(IsOnBehalfSAVWIPLEmployee ? (Order.one[0].OtherEmployeeCCCode ?? ""):"")" onkeypress="allowNumbersOnly(event)" required />
                                                                                <span class="placeholder">Cost Center No.<span class="astColor">*</span></span>
                                                                            </div>
                                                                            <div class="form-group col-md-2 col-lg-2 col-12 input-block">
                                                                                <input type="text" class="w-100 isEditable" name="txtOtherUserId" id="txtOtherUserId" value="@(IsOnBehalfSAVWIPLEmployee ? (Order.one[0].OtherEmployeeUserId ?? ""):"")" required />
                                                                                <span class="placeholder">User-Id<span class="astColor">*</span></span>
                                                                            </div>
                                                                            <div class="form-group col-md-3 col-lg-3 col-12 input-block">

                                                                                <input type="text" class="w-100" name="txtOtherContactNo" id="txtOtherContactNo" value="@(IsOnBehalfSAVWIPLEmployee ? (Order.one[0].OtherEmployeeContactNo ?? ""):"")" maxlength="10" onkeypress="allowNumbersOnly(event)" required />
                                                                                <span class="placeholder">Contact No</span>
                                                                            </div>
                                                                            <div class="form-group col-md-5 col-lg-5 col-12 input-block">
                                                                                <input type="text" class="w-100 isEditable" name="txtOtherEmailId" id="txtOtherEmailId" value="@(IsOnBehalfSAVWIPLEmployee ? (Order.one[0].OtherEmployeeEmailId ?? ""):"")" required />
                                                                                <span class="placeholder">Email-Id<span class="astColor">*</span></span>
                                                                            </div>
                                                                            <div class="form-group col-md-3 col-lg-3 col-12 input-block">
                                                                                <input type="text" class="w-100 isEditable" name="txtOtherDepartment" id="txtOtherDepartment" value="@(IsOnBehalfSAVWIPLEmployee ? (Order.one[0].OtherEmployeeDepartment ?? ""):"")" onkeypress="alphaOnly(event)" required />
                                                                                <span class="placeholder">Department<span class="astColor">*</span></span>
                                                                            </div>

                                                                            <div class="form-group col-md-4 col-lg-4 col-12 inputSelect">
                                                                                <select name="ddOtherEmpDesignation" class="w-100" id="ddOtherEmpDesignation" onchange="checkSelect('ddOtherEmpDesignation')" required></select>
                                                                                <span class="placeholder">Designation<span class="astColor">*</span></span>
                                                                            </div>

                                                                            <div class="form-group mb-0 col-md-3 col-lg-3 col-12 inputSelect">
                                                                                <select name="ddOtherEmpLocation" class="w-100" id="ddOtherEmpLocation" onchange="checkSelect('ddOtherEmpLocation')" required></select>
                                                                                <span class="placeholder">Location<span class="astColor">*</span></span>
                                                                            </div>
                                                                            <div class="d-flex col-md-5 mb-0 col-lg-5 mt-3" style="justify-content:space-between;">
                                                                                <div class="form-group">
                                                                                    <label id="lblSAVWIPLEmployeeTypeOfEmp" class="f-600">Type of Employee<span class="astColor">*</span></label>
                                                                                </div>
                                                                                <div class="form-group ">

                                                                                    <label class="checkbox-container">

                                                                                        <label class="f-600">Internal</label>
                                                                                        @if (IsOnBehalfSAVWIPLEmployee == true && Order.one[0].OtherEmployeeType == "Internal")
                                                                                        {
                                                                                            <input type="checkbox" class="" name="chkOtherInternal" id="chkOtherInternal" onclick="getOtherEmployeeType()" checked>
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <input type="checkbox" class="" name="chkOtherInternal" id="chkOtherInternal" onclick="getOtherEmployeeType()">
                                                                                        }
                                                                                        <span class="checkmark"></span>
                                                                                    </label>
                                                                                </div>
                                                                                <div class="form-group">
                                                                                    <label class="checkbox-container">
                                                                                        <label class="f-600">External</label>
                                                                                        @if (IsOnBehalfSAVWIPLEmployee == true && Order.one[0].OtherEmployeeType == "External")
                                                                                        {
                                                                                            <input type="checkbox" class="" name="chkOtherExternal" id="chkOtherExternal" onclick="getOtherEmployeeType()" checked>
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <input type="checkbox" class="" name="chkOtherExternal" id="chkOtherExternal" onclick="getOtherEmployeeType()">
                                                                                        }
                                                                                        <span class="checkmark"></span>
                                                                                    </label>
                                                                                    <input type="hidden" name="chkOtherEmployeeType" id="chkOtherEmployeeType" value="@(IsOnBehalfSAVWIPLEmployee ? (Order.one[0].OtherEmployeeType ?? ""):"")" />
                                                                                </div>


                                                                            </div>

                                                                            @if (IsOnBehalfSAVWIPLEmployee == true && Order.one[0].OtherEmployeeType == "External")
                                                                            {

                                                                                <div class="form-group mb-0 col-md-4 col-lg-4 col-12 input-block" id="divOtherExtOtherOrg">
                                                                                    <input type="text" class="w-100 spanUpperSide" name="txtOtherExternalOtherOrganizationName" id="txtOtherExternalOtherOrganizationName" value="@(IsOnBehalfSAVWIPLEmployee ? (Order.one[0].OtherExternalOtherOrganizationName ?? ""):"")" />
                                                                                    <span class="placeholder">External Organization Name</span>
                                                                                </div>
                                                                            }
                                                                            else
                                                                            {
                                                                                <div class="form-group mb-0 col-md-4 col-lg-4 col-12 input-block d-none" id="divOtherExtOtherOrg">
                                                                                    <input type="text" class="w-100 spanUpperSide" name="txtOtherExternalOtherOrganizationName" id="txtOtherExternalOtherOrganizationName" value="" />
                                                                                    <span class="placeholder">External Organization Name</span>
                                                                                </div>
                                                                            }
                                                                        </div>

                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="card" id="OthersEmployeeDetailsSection">
                                                    <div class="card-header collapsed" id="headingTwo" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="true" aria-controls="collapseTwo">
                                                        <h5 class="mb-0">
                                                            <button type="button" class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="true" aria-controls="collapseTwo">
                                                                <img src="~/assets/img/empIcon.svg" width="24" height="24" class="mr-2" />
                                                                @*Filling on behalf of Details*@
                                                                Applicant Details
                                                            </button>
                                                        </h5>
                                                    </div>

                                                    <div id="collapseTwo" class="collapse show" aria-labelledby="headingTwo">
                                                        <div class="card-body pb-0 empDetailsBg">
                                                            <div class="row">

                                                                <div class="col-md-12 col-lg-12 col-12">
                                                                    <div class="otherEmpDetailsFields">

                                                                        <div class="row">

                                                                            <div class="form-group col-md-3 col-lg-3 col-12 input-block autocompleteCC-div">
                                                                                <input type="text" class="w-100 txtDisable" name="txtOtherNewCostcenterCode" id="txtOtherNewCostcenterCode" value="@(IsOnBehalfOthers ? (Order.one[0].OtherEmployeeCCCode ?? ""):"")" onkeypress="allowNumbersOnly(event)" required />
                                                                                <span class="placeholder" style="font-size:13px">Cost Center No. (Type 2 Nos.)<span class="astColor">*</span></span>

                                                                            </div>
                                                                            <div class="form-group col-md-2 col-lg-2 col-12 input-block">

                                                                                <input type="text" class="w-100 txtDisable" id="txtOtherNewEmployeeCode" name="txtOtherNewEmployeeCode" value="@(IsOnBehalfOthers ? (Order.one[0].OtherEmployeeCode ?? ""):"")" onkeypress="allowNumbersOnly(event)" maxlength="12" required />
                                                                                <span class="placeholder">Employee Code <span class="astColor">*</span></span>
                                                                            </div>
                                                                            <div class="form-group col-md-2 col-lg-2 col-12 input-block">
                                                                                <input type="text" class="w-100 txtDisable" name="txtOtherNewEmployeeName" id="txtOtherNewEmployeeName" value="@(IsOnBehalfOthers ? (Order.one[0].OtherEmployeeName ?? ""):"")" onkeypress="alphaOnly(event)" required />
                                                                                <span class="placeholder">Name<span class="astColor">*</span></span>

                                                                            </div>
                                                                            <div class="form-group col-md-2 col-lg-2 col-12 input-block">

                                                                                <input type="text" class="w-100 txtDisable" name="txtOtherNewUserId" id="txtOtherNewUserId" value="@(IsOnBehalfOthers ? (Order.one[0].OtherEmployeeUserId ?? ""):"")" required />
                                                                                <span class="placeholder">User-Id<span class="astColor">*</span></span>
                                                                            </div>
                                                                            <div class="form-group col-md-3 col-lg-3 col-12 input-block">

                                                                                <input type="text" class="w-100 txtDisable" name="txtOtherNewContactNo" id="txtOtherNewContactNo" value="@(IsOnBehalfOthers ? (Order.one[0].OtherEmployeeContactNo ?? ""):"")" maxlength="10" onkeypress="allowNumbersOnly(event)" required />
                                                                                <span class="placeholder">Contact No</span>
                                                                            </div>
                                                                            <div class="form-group col-md-5 col-lg-5 col-12 input-block">

                                                                                <input type="text" class="w-100 txtDisable" name="txtOtherNewEmailId" id="txtOtherNewEmailId" value="@(IsOnBehalfOthers ? (Order.one[0].OtherEmployeeEmailId ?? ""):"")" required />
                                                                                <span class="placeholder">Email-Id<span class="astColor">*</span></span>
                                                                            </div>
                                                                            <div class="form-group col-md-3 col-lg-3 col-12 input-block">

                                                                                <input type="text" class="w-100 txtDisable" name="txtOtherNewDepartment" id="txtOtherNewDepartment" value="@(IsOnBehalfOthers ? (Order.one[0].OtherEmployeeDepartment ?? ""):"")" onkeypress="alphaOnly(event)" required />
                                                                                <span class="placeholder">Department<span class="astColor">*</span></span>
                                                                            </div>



                                                                            <div class="form-group col-md-4 col-lg-4 col-12 inputSelect">

                                                                                <select name="ddOtherNewEmpDesignation" class="w-100" id="ddOtherNewEmpDesignation" onchange="checkSelect('ddOtherNewEmpDesignation')" required></select>
                                                                                <span class="placeholder">Designation<span class="astColor">*</span></span>
                                                                            </div>

                                                                            <div class="form-group col-md-3 col-lg-3 col-12 inputSelect">

                                                                                <select name="ddOtherNewEmpLocation" class="w-100" id="ddOtherNewEmpLocation" onchange="checkSelect('ddOtherNewEmpLocation')" required></select>
                                                                                <span class="placeholder">Location<span class="astColor">*</span></span>
                                                                            </div>

                                                                            <div class="d-flex col-md-5 col-lg-5 mt-3" style="justify-content:space-between;">
                                                                                <div class="form-group">
                                                                                    <label id="lblOthrTypeOfEmp" class="f-600">Type of Employee<span class="astColor">*</span></label>
                                                                                </div>
                                                                                <div class="form-group">

                                                                                    <label class="checkbox-container">
                                                                                        <label class="f-600">Internal</label>
                                                                                        @if (IsOnBehalfOthers == true && Order.one[0].OtherEmployeeType == "Internal")
                                                                                        {
                                                                                            <input type="checkbox" class="inpDisable" name="chkOtherNewInternal" id="chkOtherNewInternal" onclick="getOtherNewEmployeeType()" checked>
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <input type="checkbox" class="inpDisable" name="chkOtherNewInternal" id="chkOtherNewInternal" onclick="getOtherNewEmployeeType()">
                                                                                        }

                                                                                        <span class="checkmark"></span>
                                                                                    </label>
                                                                                </div>
                                                                                <div class="form-group">
                                                                                    <label class="checkbox-container">
                                                                                        <label class="f-600">External</label>
                                                                                        @if (IsOnBehalfOthers == true && Order.one[0].OtherEmployeeType == "External")
                                                                                        {
                                                                                            <input type="checkbox" class="inpDisable" name="chkOtherNewExternal" id="chkOtherNewExternal" onclick="getOtherNewEmployeeType()" checked>
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <input type="checkbox" class="inpDisable" name="chkOtherNewExternal" id="chkOtherNewExternal" onclick="getOtherNewEmployeeType()">
                                                                                        }
                                                                                        <span class="checkmark"></span>
                                                                                    </label>
                                                                                    <input type="hidden" name="chkOtherNewEmployeeType" id="chkOtherNewEmployeeType" value="@(Order.one[0].OtherEmployeeType ?? "")" />
                                                                                </div>
                                                                            </div>
                                                                            @if (IsOnBehalfOthers == true && Order.one[0].OtherEmployeeType == "External")
                                                                            {
                                                                                <div class="form-group col-md-4 col-lg-4 col-12 input-block" id="divOtherNewExtOtherOrg">
                                                                                    <input type="text" class="w-100 spanUpperSide" placeholder="" name="txtOtherNewExternalOtherOrganizationName" id="txtOtherNewExternalOtherOrganizationName" value="@(IsOnBehalfOthers ? (Order.one[0].OtherExternalOtherOrganizationName ?? ""):"")" />
                                                                                    <span class="placeholder">External Organization Name</span>
                                                                                </div>
                                                                            }
                                                                            else
                                                                            {
                                                                                <div class="form-group col-md-4 col-lg-4 col-12 input-block d-none" id="divOtherNewExtOtherOrg">
                                                                                    <input type="text" class="w-100" placeholder="" name="txtOtherNewExternalOtherOrganizationName" id="txtOtherNewExternalOtherOrganizationName" value="" required />
                                                                                    <span class="placeholder">External Organization Name</span>
                                                                                </div>
                                                                            }



                                                                        </div>
                                                                    </div>


                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                            }
                                            else
                                            {
                                                /*Applicant Detail Create Page Existing*/
                                                <div class="card d-none" id="SAVWIPLEmployeeDetailsSection">
                                                    <div class="card-header collapsed" id="headingTwo" data-toggle="collapse" data-target="#collapseTwoOne" aria-expanded="true" aria-controls="collapseTwo">
                                                        <h5 class="mb-0">
                                                            <button type="button" class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseTwoOne" aria-expanded="true" aria-controls="collapseTwo">
                                                                <img src="~/assets/img/empIcon.svg" width="24" height="24" class="mr-2" />Applicant Details
                                                            </button>
                                                        </h5>
                                                    </div>

                                                    <div id="collapseTwoOne" class="collapse show" aria-labelledby="headingTwo">
                                                        <div class="card-body pb-0 empDetailsBg">
                                                            <div class="row">

                                                                <div class="col-md-12 col-lg-12 col-12">
                                                                    <div class="otherEmpDetailsFields">

                                                                        <div class="row">
                                                                            <div class="form-group col-md-3 col-lg-3 col-12 input-block">

                                                                                <input type="text" class="w-100 txtDisable" name="txtOtherEmployeeName" id="txtOtherEmployeeName" value="" onkeypress="" required />
                                                                                <span class="placeholder">Name (Type 4 letters)<span class="astColor">*</span></span>

                                                                            </div>

                                                                            <div class="form-group col-md-2 col-lg-2 col-12 input-block">

                                                                                <input type="text" class="w-100 txtDisable" name="txtOtherEmployeeCode" id="txtOtherEmployeeCode" value="" onkeypress="allowNumbersOnly(event)" required />
                                                                                <span class="placeholder">Employee Code<span class="astColor">*</span></span>

                                                                            </div>
                                                                            <div class="form-group col-md-2 col-lg-2 col-12 input-block">

                                                                                <input type="text" class="w-100 txtDisable" name="txtOtherCostcenterCode" id="txtOtherCostcenterCode" value="" onkeypress="allowNumbersOnly(event)" required />
                                                                                <span class="placeholder">Cost Center No.<span class="astColor">*</span> </span>
                                                                            </div>


                                                                            <div class="form-group col-md-2 col-lg-2 col-12 input-block">
                                                                                <input type="text" class="w-100 txtDisable" name="txtOtherUserId" id="txtOtherUserId" value="" required />
                                                                                <span class="placeholder">User-Id<span class="astColor">*</span> </span>
                                                                            </div>
                                                                            <div class="form-group col-md-3 col-lg-3 col-12 input-block">

                                                                                <input type="text" class="w-100 txtDisable" name="txtOtherContactNo" id="txtOtherContactNo" value="" onkeypress="allowNumbersOnly(event)" maxlength="10" required />
                                                                                <span class="placeholder">Contact No </span>
                                                                            </div>
                                                                            <div class="form-group col-md-5 col-lg-5 col-12 input-block">

                                                                                <input type="text" class="w-100 txtDisable" name="txtOtherEmailId" id="txtOtherEmailId" value="" required />
                                                                                <span class="placeholder">Email-Id<span class="astColor">*</span></span>
                                                                            </div>
                                                                            <div class="form-group col-md-3 col-lg-3 col-12 input-block">

                                                                                <input type="text" class="w-100 txtDisable" name="txtOtherDepartment" id="txtOtherDepartment" value="" onkeypress="alphaOnly(event)" required />
                                                                                <span class="placeholder">Department<span class="astColor">*</span></span>
                                                                            </div>



                                                                            <div class="form-group col-md-4 col-lg-4 col-12 inputSelect">

                                                                                <select name="ddOtherEmpDesignation" class="" id="ddOtherEmpDesignation" onchange="checkSelect('ddOtherEmpDesignation')" required></select>

                                                                                <span class="placeholder">Designation<span class="astColor">*</span></span>
                                                                            </div>

                                                                            <div class="form-group col-md-3 mb-0 col-lg-3 col-12 inputSelect">

                                                                                <select name="ddOtherEmpLocation" class="" id="ddOtherEmpLocation" onchange="checkSelect('ddOtherEmpLocation')"></select>
                                                                                <span class="placeholder">Location<span class="astColor">*</span></span>
                                                                            </div>


                                                                            <div class="d-flex form-group mb-0 col-md-5 col-lg-5 col-12 mt-3" style="justify-content:space-between;">
                                                                                <div class="form-group">
                                                                                    <label id="lblSAVWIPLEmployeeTypeOfEmp" class="f-600">Type of Employee<span class="astColor">*</span></label>
                                                                                </div>
                                                                                <div class="form-group">

                                                                                    <label class="checkbox-container">
                                                                                        <label class="f-600">Internal</label>
                                                                                        <input type="checkbox" class="" name="chkOtherInternal" id="chkOtherInternal" onclick="getOtherEmployeeType()">
                                                                                        <span class="checkmark"></span>
                                                                                    </label>
                                                                                </div>
                                                                                <div class="form-group">
                                                                                    <label class="checkbox-container">
                                                                                        <label class="f-600">External</label>
                                                                                        <input type="checkbox" class="" name="chkOtherExternal" id="chkOtherExternal" onclick="getOtherEmployeeType()">
                                                                                        <span class="checkmark"></span>
                                                                                    </label>
                                                                                    <input type="hidden" name="chkOtherEmployeeType" id="chkOtherEmployeeType" value="" />
                                                                                </div>

                                                                            </div>
                                                                            <div class="form-group mb-0 col-md-4 col-lg-4 col-12 input-block d-none" id="divOtherExtOtherOrg">
                                                                                <input type="text" class="w-100" placeholder="" name="txtOtherExternalOtherOrganizationName" id="txtOtherExternalOtherOrganizationName" required />
                                                                                <span class="placeholder">External Organization Name</span>
                                                                            </div>

                                                                        </div>


                                                                    </div>

                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                /*Applicant Detail Create Page New*/
                                                <div class="card d-none" id="OthersEmployeeDetailsSection">
                                                    <div class="card-header collapsed" id="headingTwo" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="true" aria-controls="collapseTwo">
                                                        <h5 class="mb-0">
                                                            <button type="button" class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="true" aria-controls="collapseTwo">
                                                                <img src="~/assets/img/empIcon.svg" width="24" height="24" class="mr-2" />Applicant Details
                                                            </button>
                                                        </h5>
                                                    </div>

                                                    <div id="collapseTwo" class="collapse show" aria-labelledby="headingTwo">
                                                        <div class="card-body empDetailsBg">
                                                            <div class="row">

                                                                <div class="col-md-12 col-lg-12 col-12">
                                                                    <div class="otherEmpDetailsFields">

                                                                        <div class="row">
                                                                            <div class="form-group col-md-3 col-lg-3 col-12 input-block">
                                                                                <input type="text" class="w-100 txtDisable" name="txtOtherNewCostcenterCode" id="txtOtherNewCostcenterCode" value="" onkeypress="allowNumbersOnly(event)" required />
                                                                                <span class="placeholder" style="font-size:15px;">Cost Center No. (Type 2 Nos.)<span class="astColor">*</span></span>
                                                                            </div>
                                                                            <div class="form-group col-md-2 col-lg-2 col-12 input-block">
                                                                                <input type="text" class="w-100 txtDisable" id="txtOtherNewEmployeeCode" name="txtOtherNewEmployeeCode" value="" onkeypress="allowNumbersOnly(event)" maxlength="12" required />
                                                                                <span class="placeholder">Employee Code<span class="astColor">*</span></span>
                                                                            </div>
                                                                            <div class="form-group col-md-2 col-lg-2 col-12 input-block">
                                                                                <input type="text" class="w-100 txtDisable" name="txtOtherNewEmployeeName" id="txtOtherNewEmployeeName" value="" onkeypress="alphaOnly(event)" maxlength="80" required />
                                                                                <span class="placeholder">Name<span class="astColor">*</span></span>

                                                                            </div>


                                                                            <div class="form-group col-md-2 col-lg-2 col-12 input-block">
                                                                                <input type="text" class="w-100 txtDisable" name="txtOtherNewUserId" id="txtOtherNewUserId" value="" maxlength="80" required />
                                                                                <span class="placeholder">User-Id<span class="astColor">*</span></span>
                                                                            </div>
                                                                            <div class="form-group col-md-3 col-lg-3 col-12 input-block">
                                                                                <input type="text" class="w-100 txtDisable" name="txtOtherNewContactNo" id="txtOtherNewContactNo" value="" onkeypress="allowNumbersOnly(event)" maxlength="10" required />
                                                                                <span class="placeholder">Contact No</span>
                                                                            </div>
                                                                            <div class="form-group col-md-5 col-lg-5 col-12 input-block">
                                                                                <input type="text" class="w-100 txtDisable" name="txtOtherNewEmailId" id="txtOtherNewEmailId" value="" required />
                                                                                <span class="placeholder">Email-Id<span class="astColor">*</span></span>
                                                                            </div>
                                                                            <div class="form-group col-md-3 col-lg-3 col-12 input-block">
                                                                                <input type="text" class="w-100 txtDisable" name="txtOtherNewDepartment" id="txtOtherNewDepartment" value="" onkeypress="alphaOnly(event)" maxlength="80" required />
                                                                                <span class="placeholder">Department<span class="astColor">*</span></span>
                                                                            </div>


                                                                            <div class="form-group col-md-4 col-lg-4 col-12 inputSelect">
                                                                                <select name="ddOtherNewEmpDesignation" class="" id="ddOtherNewEmpDesignation" onchange="checkSelect('ddOtherNewEmpDesignation')" required></select>
                                                                                <span class="placeholder">Designation<span class="astColor">*</span></span>
                                                                            </div>

                                                                            <div class="form-group col-md-3 mb-0 col-lg-3 col-12 inputSelect">
                                                                                <select name="ddOtherNewEmpLocation" class="" id="ddOtherNewEmpLocation" onchange="checkSelect('ddOtherNewEmpLocation')" required></select>
                                                                                <span class="placeholder">Location<span class="astColor">*</span></span>
                                                                            </div>

                                                                            <div class=" d-flex col-md-5 mb-0 col-lg-5 col-12 mt-3" style="justify-content:space-between;">
                                                                                <div class="form-group">
                                                                                    <label id="lblOthrTypeOfEmp" class="f-600">Type of Employee<span class="astColor">*</span></label>
                                                                                </div>
                                                                                <div class="form-group ">

                                                                                    <label class="checkbox-container">
                                                                                        <label class="f-600">Internal</label>
                                                                                        <input type="checkbox" class="" name="chkOtherNewInternal" id="chkOtherNewInternal" onclick="getOtherNewEmployeeType()">

                                                                                        <span class="checkmark"></span>
                                                                                    </label>
                                                                                </div>
                                                                                <div class="form-group">
                                                                                    <label class="checkbox-container">
                                                                                        <label class="f-600">External</label>
                                                                                        <input type="checkbox" class="" name="chkOtherNewExternal" id="chkOtherNewExternal" onclick="getOtherNewEmployeeType()">

                                                                                        <span class="checkmark"></span>
                                                                                    </label>
                                                                                    <input type="hidden" name="chkOtherNewEmployeeType" id="chkOtherNewEmployeeType" value="" />
                                                                                </div>

                                                                            </div>

                                                                            <div class="form-group col-md-4 mb-0 col-lg-4 col-12 input-block d-none" id="divOtherNewExtOtherOrg">
                                                                                <input type="text" class="w-100" placeholder="" name="txtOtherNewExternalOtherOrganizationName" id="txtOtherNewExternalOtherOrganizationName" value="" required />
                                                                                <span class="placeholder">External Organization Name</span>
                                                                            </div>

                                                                        </div>
                                                                    </div>

                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            }
                                        }
                                        else if (!IsNew && Order.one[0].RequestSubmissionFor == "OnBehalf")
                                        {
                                            /*Applicant Detail View Page*/
                                            if (Order.one[0].OnBehalfOption == "SAVWIPLEmployee")
                                            {
                                                /*Applicant Detail View Page For Existing Employee*/
                                                <div class="card" id="SAVWIPLEmployeeDetailsSection">
                                                    <div class="card-header collapsed" id="headingTwo" data-toggle="collapse" data-target="#collapseTwoView" aria-expanded="true" aria-controls="collapseTwo">
                                                        <h5 class="mb-0">
                                                            <button type="button" class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapsetwoView" aria-expanded="true" aria-controls="collapseTwo">
                                                                <img src="~/assets/img/empIcon.svg" width="24" height="24" class="mr-2" />Applicant Details
                                                            </button>
                                                        </h5>
                                                    </div>

                                                    <div id="collapseTwoView" class="collapse show" aria-labelledby="headingtwo">
                                                        <div class="card-body empDetailsBg">
                                                            <div class="row">

                                                                <div class="col-md-12 col-lg-12 col-12">
                                                                    <div class="otherEmpDetailsFields">
                                                                        <div class="row">
                                                                            <div class="form-group col-md-3 col-lg-3 col-12 input-block">
                                                                                <input type="text" class="w-100 txtDisable" name="txtOtherEmployeeName" id="txtOtherEmployeeName" value="@(Order.one[0].OtherEmployeeName ?? "")" onkeypress="alphaOnly(event)" />
                                                                                <span class="placeholder">Name<span class="astColor">*</span></span>
                                                                            </div>
                                                                            <div class="form-group col-md-2 col-lg-2 col-12 input-block">
                                                                                <input type="text" class="w-100 txtDisable" id="txtOtherEmployeeCode" name="txtOtherEmployeeCode" value="@(Order.one[0].OtherEmployeeCode ?? "")" onkeypress="allowNumbersOnly(event)" />
                                                                                <span class="placeholder">Employee Code<span class="astColor">*</span></span>
                                                                            </div>
                                                                            <div class="form-group col-md-2 col-lg-2 col-12 input-block">
                                                                                <input type="text" class="w-100 txtDisable" name="txtOtherCostcenterCode" id="txtOtherCostcenterCode" value="@(Order.one[0].OtherEmployeeCCCode ?? "")" onkeypress="allowNumbersOnly(event)" />
                                                                                <span class="placeholder">Cost Center No.<span class="astColor">*</span></span>
                                                                            </div>
                                                                            <div class="form-group col-md-2 col-lg-2 col-12 input-block">
                                                                                <input type="text" class="w-100 txtDisable" name="txtOtherUserId" id="txtOtherUserId" value="@(Order.one[0].OtherEmployeeUserId ?? "")" />
                                                                                <span class="placeholder">User-Id<span class="astColor">*</span></span>
                                                                            </div>
                                                                            <div class="form-group col-md-3 col-lg-3 col-12 input-block">

                                                                                <input type="text" class="w-100 txtDisable" name="txtOtherContactNo" id="txtOtherContactNo" value="@(Order.one[0].OtherEmployeeContactNo ?? "")" onkeypress="allowNumbersOnly(event)" />
                                                                                <span class="placeholder">Contact No</span>
                                                                            </div>
                                                                            <div class="form-group col-md-5 col-lg-5 col-12 input-block">
                                                                                <input type="text" class="w-100 txtDisable" name="txtOtherEmailId" id="txtOtherEmailId" value="@(Order.one[0].OtherEmployeeEmailId ?? "")" />
                                                                                <span class="placeholder">Email-Id<span class="astColor">*</span></span>
                                                                            </div>
                                                                            <div class="form-group col-md-3 col-lg-3 col-12 input-block">
                                                                                <input type="text" class="w-100 txtDisable" name="txtOtherDepartment" id="txtOtherDepartment" value="@(Order.one[0].OtherEmployeeDepartment ?? "")" onkeypress="alphaOnly(event)" required />
                                                                                <span class="placeholder">Department<span class="astColor">*</span></span>
                                                                            </div>



                                                                            <div class="form-group col-md-4 col-lg-4 col-12 input-block">
                                                                                <input type="text" class="w-100 txtDisable" name="txtOtherEmpDesignation" id="txtOtherEmpDesignation" value="@(Order.one[0].OtherEmployeeDesignation ?? "")" />
                                                                                <span class="placeholder">Designation<span class="astColor">*</span></span>
                                                                            </div>

                                                                            <div class="form-group col-md-3 mb-0 col-lg-3 col-12 input-block">
                                                                                <input type="text" class="w-100 txtDisable" name="txtOtherEmpLocation" id="txtOtherEmpLocation" value="@(Order.one[0].OtherEmployeeLocation ?? "")" />
                                                                                <span class="placeholder">Location<span class="astColor">*</span></span>
                                                                            </div>
                                                                            <div class="d-flex col-md-5 mb-0 col-lg-5 mt-3" style="justify-content:space-between;">
                                                                                <div class="form-group">
                                                                                    <label id="lblSAVWIPLEmployeeTypeOfEmp" class="f-600">Type of Employee<span class="astColor">*</span></label>
                                                                                </div>
                                                                                <div class="form-group">

                                                                                    <label class="checkbox-container">
                                                                                        <label class="f-600">Internal</label>
                                                                                        @if (Order.one[0].OtherEmployeeType == "Internal")
                                                                                        {
                                                                                            <input type="checkbox" class="inpDisable" name="chkOtherInternal" id="chkOtherInternal" checked disabled>
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <input type="checkbox" class="inpDisable" name="chkOtherInternal" id="chkOtherInternal" disabled>
                                                                                        }

                                                                                        <span class="checkmark"></span>
                                                                                    </label>
                                                                                </div>
                                                                                <div class="form-group">
                                                                                    <label class="checkbox-container">
                                                                                        <label class="f-600">External</label>
                                                                                        @if (Order.one[0].OtherEmployeeType == "External")
                                                                                        {
                                                                                            <input type="checkbox" class="inpDisable" name="chkOtherExternal" id="chkOtherExternal" checked disabled>
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <input type="checkbox" class="inpDisable" name="chkOtherExternal" id="chkOtherExternal" disabled>
                                                                                        }
                                                                                        <span class="checkmark"></span>
                                                                                    </label>
                                                                                    <input type="hidden" name="chkOtherEmployeeType" id="chkOtherEmployeeType" value="@(Order.one[0].OtherEmployeeType ?? "")" />
                                                                                </div>

                                                                            </div>
                                                                            @if (Order.one[0].OtherEmployeeType == "External")
                                                                            {
                                                                                <div class="form-group col-md-4 col-lg-4 col-12 input-block" id="divOtherExtOtherOrg">
                                                                                    <input type="text" class="w-100 txtDisable" placeholder="" name="txtOtherExternalOtherOrganizationName" id="txtOtherExternalOtherOrganizationName" value="@(Order.one[0].OtherExternalOtherOrganizationName ?? "")" />
                                                                                    <span class="placeholder">External Organization Name</span>
                                                                                </div>
                                                                            }

                                                                        </div>

                                                                    </div>

                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            }
                                            else if (Order.one[0].OnBehalfOption == "Others")
                                            {
                                                /*Applicant Detail View Page For New Employee*/
                                                <div class="card" id="OthersEmployeeDetailsSection">
                                                    <div class="card-header collapsed" id="headingTwo" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="true" aria-controls="collapseTwo">
                                                        <h5 class="mb-0">
                                                            <button type="button" class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapsetwo" aria-expanded="true" aria-controls="collapseTwo">
                                                                <img src="~/assets/img/empIcon.svg" width="24" height="24" class="mr-2" />Applicant Details
                                                            </button>
                                                        </h5>
                                                    </div>

                                                    <div id="collapseTwo" class="collapse show" aria-labelledby="headingtwo">
                                                        <div class="card-body pb-0 empDetailsBg">
                                                            <div class="row">

                                                                <div class="col-md-12 col-lg-12 col-12">
                                                                    <div class="otherEmpDetailsFields">
                                                                        <div class="row">
                                                                            <div class="form-group col-md-3 col-lg-3 col-12 input-block">
                                                                                <input type="text" class="w-100 txtDisable" name="txtOtherNewCostcenterCode" id="txtOtherNewCostcenterCode" value="@(Order.one[0].OtherEmployeeCCCode ?? "")" onkeypress="allowNumbersOnly(event)" />
                                                                                <span class="placeholder">Cost Center No.<span class="astColor">*</span></span>

                                                                            </div>
                                                                            <div class="form-group col-md-2 col-lg-2 col-12 input-block">

                                                                                <input type="text" class="w-100 txtDisable" id="txtOtherNewEmployeeCode" name="txtOtherNewEmployeeCode" value="@(Order.one[0].OtherEmployeeCode ?? "")" onkeypress="allowNumbersOnly(event)" />
                                                                                <span class="placeholder">Employee Code<span class="astColor">*</span></span>
                                                                            </div>
                                                                            <div class="form-group col-md-2 col-lg-2 col-12 input-block">

                                                                                <input type="text" class="w-100 txtDisable" name="txtOtherNewEmployeeName" id="txtOtherNewEmployeeName" value="@(Order.one[0].OtherEmployeeName ?? "")" onkeypress="alphaOnly(event)" />
                                                                                <span class="placeholder">Name<span class="astColor">*</span></span>

                                                                            </div>
                                                                            <div class="form-group col-md-2 col-lg-2 col-12 input-block">

                                                                                <input type="text" class="w-100 txtDisable" name="txtOtherNewUserId" id="txtOtherNewUserId" value="@(Order.one[0].OtherEmployeeUserId ?? "")" />
                                                                                <span class="placeholder">User-Id<span class="astColor">*</span></span>
                                                                            </div>
                                                                            <div class="form-group col-md-3 col-lg-3 col-12 input-block">

                                                                                <input type="text" class="w-100 txtDisable" name="txtOtherNewContactNo" id="txtOtherNewContactNo" value="@(Order.one[0].OtherEmployeeContactNo ?? "")" onkeypress="allowNumbersOnly(event)" />
                                                                                <span class="placeholder">Contact No</span>
                                                                            </div>
                                                                            <div class="form-group col-md-5 col-lg-5 col-12 input-block">

                                                                                <input type="text" class="w-100 txtDisable" name="txtOtherNewEmailId" id="txtOtherNewEmailId" value="@(Order.one[0].OtherEmployeeEmailId ?? "")" />
                                                                                <span class="placeholder">Email-Id<span class="astColor">*</span></span>

                                                                            </div>
                                                                            <div class="form-group col-md-3 col-lg-3 col-12 input-block">

                                                                                <input type="text" class="w-100 txtDisable" name="txtOtherNewDepartment" id="txtOtherNewDepartment" value="@(Order.one[0].OtherEmployeeDepartment ?? "")" onkeypress="alphaOnly(event)" required />
                                                                                <span class="placeholder">Department<span class="astColor">*</span></span>
                                                                            </div>



                                                                            <div class="form-group col-md-4 col-lg-4 col-12 input-block">

                                                                                <input type="text" class="w-100 txtDisable" name="txtOtherNewEmpDesignation" id="txtOtherNewEmpDesignation" value="@(Order.one[0].OtherEmployeeDesignation ?? "")" />
                                                                                <span class="placeholder">Designation<span class="astColor">*</span></span>
                                                                            </div>

                                                                            <div class="form-group col-md-3 mb-0 col-lg-3 col-12 input-block">

                                                                                <input type="text" class="w-100 txtDisable" name="txtOtherNewEmpLocation" id="txtOtherNewEmpLocation" value="@(Order.one[0].OtherEmployeeLocation ?? "")" />
                                                                                <span class="placeholder">Location<span class="astColor">*</span></span>
                                                                            </div>
                                                                            <div class="d-flex col-md-5 mb-0 col-lg-5 mt-3" style="justify-content:space-between;">
                                                                                <div class="form-group">
                                                                                    <label id="lblSAVWIPLEmployeeTypeOfEmp" class="f-600">Type of Employee<span class="astColor">*</span></label>
                                                                                </div>
                                                                                <div class="form-group">

                                                                                    <label class="checkbox-container">
                                                                                        <label class="f-600">Internal</label>
                                                                                        @if (Order.one[0].OtherEmployeeType == "Internal")
                                                                                        {
                                                                                            <input type="checkbox" class="inpDisable" name="chkOtherInternal" id="chkOtherInternal" checked disabled>
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <input type="checkbox" class="inpDisable" name="chkOtherInternal" id="chkOtherInternal" disabled>
                                                                                        }

                                                                                        <span class="checkmark"></span>
                                                                                    </label>
                                                                                </div>
                                                                                <div class="form-group">
                                                                                    <label class="checkbox-container">
                                                                                        <label class="f-600">External</label>
                                                                                        @if (Order.one[0].OtherEmployeeType == "External")
                                                                                        {
                                                                                            <input type="checkbox" class="inpDisable" name="chkOtherExternal" id="chkOtherExternal" checked disabled>
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <input type="checkbox" class="inpDisable" name="chkOtherExternal" id="chkOtherExternal" disabled>
                                                                                        }
                                                                                        <span class="checkmark"></span>
                                                                                    </label>
                                                                                    <input type="hidden" name="chkOtherEmployeeType" id="chkOtherEmployeeType" value="@(Order.one[0].OtherEmployeeType ?? "")" />
                                                                                </div>

                                                                            </div>
                                                                            @if (Order.one[0].OtherEmployeeType == "External")
                                                                            {
                                                                                <div class="form-group mb-0 col-md-4 col-lg-4 col-12 input-block" id="divOtherExtOtherOrg">
                                                                                    <input type="text" class="w-100 txtDisable" placeholder="" name="txtOtherExternalOtherOrganizationName" id="txtOtherExternalOtherOrganizationName" value="@(Order.one[0].OtherExternalOtherOrganizationName ?? "")" />
                                                                                    <span class="placeholder">External Organization Name</span>
                                                                                </div>
                                                                            }
                                                                        </div>

                                                                    </div>

                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            }
                                        }
                                    </div>
                                    @*Transaction Fields Section*@
                                    <div id="accordion">
                                        <div class="card">
                                            <div class="card-header collapsed" id="headingTwo" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                                <h5 class="mb-0">
                                                    <button type="button" class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                                        <img src="~/assets/img/transactionIcon.svg" width="24" height="24" class="mr-2" />  Transaction Fields
                                                    </button>
                                                </h5>
                                            </div>
                                            <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo">
                                                <div class="card-body">
                                                    @*<input type="hidden" name="uniqueFormName" value="@FormData.UniqueFormName">
        <input type="hidden" name="formName" value="@FormData.FormName">
        <input type="hidden" name="formParentId" value="@FormData.Id">*@
                                                    @if (!IsEdit)
                                                    {
                                                        @*<input type="hidden" id="FormSrId" name="FormSrId" value="@(RowId)" />
            <input type="hidden" id="FormId" name="FormId" value="@(FormId)" />
            <input type="hidden" id="AppRowId" name="AppRowId" value="@(AppRowId)" />*@
                                                        <input type="hidden" name="orderItemsTotal" id="orderItemsTotal" value="@(Order.Count)" />
                                                    }
                                                    @*<div class="form-row">
            <div style="color:red;margin-left:auto;">
                <span class="astColor">*</span>Mandatory Fields
            </div>
        </div>*@
                                                <div class="form-row">

                                                    @*<div class="form-group col-md-6 col-12 input-block">

            <input type="text" class="inpDisable" name="txtDept" value="@(!IsNew||!IsEdit ? (Order.one[0].Department ?? "") : user.Department)" readonly>
            <span class="placeholder TransView">Department<span class="astColor">*</span></span>
        </div>*@

                                                    <div class="form-group col-md-6 col-12">

                                                        <div class="d-flex input-block">
                                                            <input type="text" value="SC-" readonly class="inpSC" />

                                                            <input type="text" class="inpDisable" name="txtShopCart" id="txtShopCart" onKeyUp="this.value=commafyPhone(this.value);" onkeypress="allowNumbersOnly(event)" maxlength="43" autocomplete="off" value="@(!IsNew||!IsEdit ? (Order.one[0].ShopCartNumber ?? "") : "")" required>
                                                            <span class="placeholder TransView forShoppingCart">Shopping Cart Number</span>
                                                        </div>
                                                    </div>

                                                    <div class="form-group col-md-6 col-12 input-block">

                                                        <input type="text" class="inpDisable" name="txtSection" id="txtSection" placeholder="" value="@(!IsNew||!IsEdit ? (Order.one[0].ConcernSection ?? "") : "")" required>
                                                        <span class="placeholder TransView">Concerned Section / Facility<span class="astColor">*</span></span>
                                                    </div>
                                                </div>


                                                    <div class="form-row">

                                                        @*<div class="form-group col-md-6 col-12 input-block">
                                                           
                                                            <input type="text" class="inpDisable" name="txtSection" id="txtSection" placeholder="" value="@(!IsNew||!IsEdit ? (Order.one[0].ConcernSection ?? "") : "")" required>
                                                            <span class="placeholder TransView">Concerned Section / Facility<span class="astColor">*</span></span>
                                                        </div>*@
                                                        @*<div class="form-group col-md-6 col-12 input-block">
                                                            
                                                            <input type="text" class="inpDisable" name="txtDate" value="@(!IsNew||!IsEdit ? (Convert.ToDateTime(Order.one[0].Date).ToShortDateString()  ?? "" ) : DateTime.Now.ToShortDateString())" readonly>
                                                            <span class="placeholder TransView">Date<span class="astColor">*</span></span>
                                                            @if (!IsNew || !IsEdit)
                                                            {
                                                                if (Order.one[0].FormID.FormStatus != "Approved")
                                                                {
                                                                    <label class="">Date of Approval:</label>
                                                                    <input type="text" class="inpDisable" name="txtApprovalDate" value="@(Order.one[0].FormID.FormStatus == "Approved" ? (Convert.ToDateTime(Order.one[0].FormId.Modified).ToString(" dd MMM, yyyy") ?? "") : "")" readonly>
                                                                }
                                                            }
                                                        </div>*@

                                                    </div>

                                                    <div class="form-row budgetSpan">
                                                        <div class="form-group col-md-6 col-12 input-block">

                                                            <input type="text" class="inpDisable allow_decimal" maxlength="14" name="txtBudget" id="txtBudget" autocomplete="off" value="" required>
                                                            <span class="placeholder TransView">
                                                                Budget <span id="euroLabel"> (€)</span>
                                                                <span id="usdDollarLabel"> ($)</span>
                                                                <span id="australianDollarLabel"> (A$)</span>
                                                                <span id="singaporeanDollarLabel"> (S$)</span>
                                                                <span id="rupeeLabel"> (₹)</span>
                                                                <span id="poundLabel"> (£)</span>
                                                                <span id="chineseYuanLabel"> (CH¥)</span>
                                                                <span id="japaneseYenLabel"> (¥)</span>
                                                                <span id="koreanWonLabel"> (₩)</span>
                                                                <span id="czechKorunaLabel"> (Kč)</span>
                                                                <span class="astColor">*</span>
                                                            </span>
                                                        </div>
                                                                                                              
                                                            @if (!IsNew)
                                                            {
                                                                <div class="form-group col-md-6 col-12 input-block">
                                                                    <input type="text" class="inpDisable" id="drpCurrency" name="drpCurrency" value="@(Order.one[0].Currency ?? " ")" required>
                                                                    <span class="placeholder TransView" style="background-color:white !important;">Currency<span class="astColor">*</span></span>
                                                                </div>
                                                            }
                                                            else
                                                            {
                                                                <div class="form-group col-md-6 col-12 inputSelect">
                                                                    <select class="inputSelect" name="drpCurrency" id="drpCurrency" onchange="checkSelect('drpCurrency'),hideConvert()" required>
                                                                        <option value="-1" class="d-none"></option>
                                                                        <option value="Rupee">Rupee</option>
                                                                        <option value="USD">USD</option>
                                                                        <option value="Australian Dollar">Australian Dollar</option>
                                                                        <option value="Singaporean Dollar">Singaporean Dollar</option>
                                                                        <option value="Euro">Euro</option>
                                                                        <option value="Pound">Pound</option>
                                                                        <option value="Chinese Yuan">Chinese Yuan</option>
                                                                        <option value="Japanese Yen">Japanese Yen</option>
                                                                        <option value="Korean Won">Korean Won</option>
                                                                        <option value="Czech Koruna">Czech Koruna</option>
                                                                    </select>
                                                                    <span class="placeholder TransView" style="background-color:white !important;">Currency<span class="astColor">*</span></span>
                                                                    </div>
                                                                    }
                                                            </div>
                                                    <div class="form-row budgetSpan">
                                                            @if (IsNew)
                                                            {
                                                                if (!IsEdit)
                                                                {
                                                                    if (Order.one[0].Currency != "Rupee")
                                                                    {
                                                                        <div class="form-group col-md-6 col-12 input-block" id="divConversion">
                                                                            <input type="text" class="inpDisable" id="txtConvert" name="txtConvert" maxlength="3" value="@(Order.one[0].ConversionValue ?? "" )" onkeypress="allowNumbersAndDecimalsOnly(event)" required>
                                                                            <span class="placeholder" style="background-color:white !important;">Conversion Value<span class="astColor">*</span></span>
                                                                        </div>
                                                                    }
                                                                    else
                                                                    {
                                                                        <div class="form-group col-md-6 col-12 input-block d-none" id="divConversion">
                                                                            <input type="text" class=""  id="txtConvert" name="txtConvert" placeholder="" value="" maxlength="3" onkeypress="allowNumbersAndDecimalsOnly(event)" required>
                                                                            <span class="placeholder" style="background-color:white !important;">Conversion Value<span class="astColor">*</span> </span>
                                                                        </div>
                                                                    }
                                                                }
                                                                else
                                                                {
                                                                    <div class="form-group col-md-6 col-12 input-block d-none" id="divConversion">
                                                                        <input type="text" class=""  id="txtConvert" name="txtConvert" placeholder="" value="" onkeypress="allowNumbersAndDecimalsOnly(event)" oninput="getConversionValue()" required>
                                                                        <span class="placeholder" style="background-color:white !important;">Conversion Value<span class="astColor">*</span> </span>
                                                                    </div>
                                                                }
                                                            }
                                                            else if (!IsNew && Order.one[0].Currency != "Rupee")
                                                            {
                                                                <div class="form-group col-md-6 col-12 input-block" id="divConversion">
                                                                    <input type="text" class="inpDisable" id="txtConvert" name="txtConvert" value="@(Order.one[0].ConversionValue ?? "" )" onkeypress="allowNumbersAndDecimalsOnly(event)" required>
                                                                    <span class="placeholder" style="background-color:white !important;">Conversion Value<span class="astColor">*</span></span>
                                                                </div>
                                                            }
                                                    </div>
                                                        

                                                    <div class="form-row">

                                                        <div class="form-group col-md-12 col-12 input-block">
                                                            @if (IsNew)
                                                            {
                                                                if (!IsEdit)
                                                                {
                                                                    <textarea class="textTrans txtDisable" cols="90" rows="3" name="inputTextDesc" id="inputTextDesc" maxlength="2000" required>@(!IsEdit ? (Order.one[0].Description ?? "") : "")</textarea>
                                                                }
                                                                else
                                                                {
                                                                    <textarea class="textTrans txtDisable" cols="90" rows="3" name="inputTextDesc" id="inputTextDesc" maxlength="2000" required></textarea>
                                                                }
                                                            }
                                                            else
                                                            {
                                                                <textarea class="textTrans txtDisable spanUpperSide" cols="90" rows="3" name="inputTextDesc" id="inputTextDesc" maxlength="2000" required>@(!IsNew ? (Order.one[0].Description ?? "") : "")</textarea>
                                                            }
                                                           <span class="placeholder">Description (Max. 2000)<span class="astColor">*</span></span>
                                                        </div>  
                                                    </div>


                                                    <div class="form-row">

                                                        <div class="form-group col-md-12 col-12">
                                                            @if (IsNew)
                                                            {
                                                                if (!IsEdit)
                                                                {
                                                                <div class="d-flex">
                                                                    <input type="checkbox" class="mt7" name="checkBoxDeviationNote" id="checkBoxDeviationNote" @(Order.one[0].DeviationNoteForm == "DeviationNoteForm" ? "checked" : "" ) value="DeviationNoteForm" />
                                                                    <label class="">Tick the box if you wish to upload any other relevant documents(like SFO, deviation note etc).</label>
                                                                    <input type="hidden" name="hiddenDeviationNote" id="hiddenDeviationNote" value="" />
                                                                </div>
                                                                }
                                                                else
                                                                {
                                                        <div class="d-flex">
                                                            <input type="checkbox" class="mt7" name="checkBoxDeviationNote" id="checkBoxDeviationNote" value="DeviationNoteForm" />
                                                            <label class="">Tick the box if you wish to upload any other relevant documents(like SFO, deviation note etc).</label>
                                                            <input type="hidden" id="hiddenDeviationNote" name="hiddenDeviationNote" value="" />
                                                        </div>
                                                                }
                                                            }
                                                            else
                                                            {
                                                        <div class="d-flex">
                                                            <input type="checkbox" class="mt7" name="checkBoxDeviationNote" id="checkBoxDeviationNote" @(Order.one[0].DeviationNoteForm == "DeviationNoteForm" ? "checked" : "" ) disabled />
                                                            <label class="">Tick the box if you wish to upload any other relevant documents(like Shopping Cart, Deviation Note etc).</label>
                                                        </div>

                                                            }

                                                        </div>

                                                        <div class="form-group col-md-6 col-12" id="uploadFileDiv" >
                                                            @if (IsNew)
                                                            {
                                                                if (!IsEdit)
                                                                {
                                                                    if (Order.one[0].DeviationNoteForm == "DeviationNoteForm")
                                                                    {
                                                                        foreach (var attachment in Order.one[0].AttachmentFiles.Attachments)
                                                                        {
                                                            <div id="dnfFileUpload">
                                                                <label class=""></label>
                                                                <input type="file" id="fileToUpload" name="fileToUpload" style="background-color: white !important; width: 215px" />
                                                                <input type="hidden" id="attachedfile" name="attachedfile" value="@System.Configuration.ConfigurationManager.AppSettings["SharepointSiteURL"]@attachment.ServerRelativeUrl" />
                                                                <input type="hidden" id="attachedfileName" name="attachedfileName" value="@attachment.FileName" />
                                                                <a href=@System.Configuration.ConfigurationManager.AppSettings["SharepointSiteURL"]@attachment.ServerRelativeUrl download=@attachment.FileName target="_blank">@attachment.FileName  </a>
                                                            </div>
                                                                        }

                                                                    }
                                                                    else
                                                                    {
                                                            <div id="dnfFileUpload">
                                                                <label class=""></label>
                                                                <input type="file" id="fileToUpload" name="fileToUpload" style="background-color: white !important; width: 215px" />
                                                            </div>
                                                                    }
                                                                }
                                                                else
                                                                {
                                                                <div id="dnfFileUpload">
                                                                   <label class=""></label>
                                                                   <input type="file" id="fileToUpload" name="fileToUpload" style="background-color: white !important; width: 215px" />
                                                                </div>
                                                                }
                                                             }
                                                             else
                                                                {
                                                                if (Order.one[0].AttachmentFiles.Attachments.Count != 0)
                                                                {
                                                                foreach (var attachment in Order.one[0].AttachmentFiles.Attachments)
                                                                {

                                                                <label class=""></label>
                                                                <a href=@System.Configuration.ConfigurationManager.AppSettings["SharepointSiteURL"]@attachment.ServerRelativeUrl download=@attachment.FileName target="_blank">@attachment.FileName </a>

                                                                }
                                                                }

                                                                }
                                                            </div>
                                                    </div>


                                                    <div class="" id="lblSuppDetails">
                                                        <label id="lblSuppDet" class=""><b>Supplier Details</b><span class="astColor">*</span></label>
                                                    </div>
                                                    <div class="form-row">
                                                        <div class="form-group col-12">
                                                            <div class="table-responsive">
                                                                <table class="table align-items-center table-flush table-bordered text-center" id="tblSupplierDetails">
                                                                    <thead class="thead-light">
                                                                        <tr class="table-border-info bdr-right">
                                                                            <th>Sr. No.</th>
                                                                            <th class="w32">
                                                                                Available Offers
                                                                                <br>
                                                                                (Supplier Name)
                                                                            </th>
                                                                            <th class="w-25">Technically <br> Acceptance</th>
                                                                            <th>Currency</th>
                                                                            <th>Offer Price</th>
                                                                            <th></th>
                                                                        </tr>
                                                                    </thead>
                                                                    <tbody class="sr-no tableSupplier" id="tbody" style="background-color:white;">
                                                                        @if (!IsNew)
                                                                        {
                                                                            var count = 1;
                                                                            foreach (var item in Order.two)
                                                                            {
                                                                                <tr class="bdr-right bg-clr1">
                                                                                    <td>@count</td>
                                                                                    <td>
                                                                                        <input type="text" class="form-control inpDisable" name="txtSuppName" autocomplete="off" maxlength="100" value="@item.SupplierName">
                                                                                    </td>
                                                                                    <td class="comment-td">
                                                                                        <input type="text" class="form-control inpDisable" name="drpAccept" value="@item.TechAcceptance"><br/>
                                                                                        @if (item.Comments != null)
                                                                                        {
                                                                                        <input type="text" maxlength="150" class="form-control inpDisable" name="txtComment" value="@item.Comments">
                                                                                        }
                                                                                    </td>
                                                                                    <td class="offerprice-col">
                                                                                        <input type="text" class="form-control inpDisable mb-2" name="drpOfferCurrency" value="@item.Currency"><br/>
                                                                                        @if (item.Currency != "Rupee" && item.Currency != null)
                                                                                        {
                                                                                        <input type="text" maxlength="150" class="form-control inpDisable" name="txtConversionRate" value="@item.ConversionRate">
                                                                                        }
                                                                                    </td>
                                                                                    <td class="offerprice-col">
                                                                                        @if (item.OfferPrice != null)
                                                                                        {
                                                                                            <input type="text" class="form-control inpDisable" maxlength="14" autocomplete="off" name="txtPrice" value="@(item.OfferPrice.ToString("n0"))">
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <input type="text" class="form-control inpDisable" maxlength="14" autocomplete="off" name="txtPrice" value="" disabled>
                                                                                        }
                                                                                    </td>
                                                                                    <td></td>
                                                                                </tr>
                                                                                count++;
                                                                            }
                                                                        }
                                                                        else
                                                                        {
                                                                            if (!IsEdit)
                                                                            {
                                                                                var count = 1;

                                                                                foreach (var item in Order.two)
                                                                                {
                                                                                    <tr class="bdr-right bg-clr1" id='@("row"+count)'>
                                                                                        <td class="sNo">@count</td>
                                                                                        <td style="width:300px;">
                                                                                            <input type="text" class="form-control inpValidateName" name="txtSuppName" autocomplete="off" maxlength="100" placeholder="" value="@item.SupplierName">
                                                                                        </td>
                                                                                        <td class="comment-td" >
                                                                                            <select class='form-control mb-2 validate inpValidateTechAccept' name="drpAccept" id='@("drpAccept"+count)' onchange="disableOptions(this)">
                                                                                                <option value="Ok" @(item.TechAcceptance == "Ok" ? "selected" : "" )>Ok</option>
                                                                                                <option value="Not Ok" @(item.TechAcceptance == "Not Ok" ? "selected" : "" )>Not Ok</option>
                                                                                                <option value="Offer not Submitted" @(item.TechAcceptance == "Offer not Submitted" ? "selected" : "" )>Offer not Submitted</option>
                                                                                                <option value="No Response" @(item.TechAcceptance == "No Response" ? "selected" : "" )>No Response</option>
                                                                                                <option value="Regret To Quote" @(item.TechAcceptance == "Regret To Quote" ? "selected" : "" )>Regret To Quote</option>
                                                                                                <option value="Other" @(item.TechAcceptance == "Other" ? "selected" : "")>Other</option>
                                                                                            </select>
                                                                                            <span class="textareacomments" role="textbox" id='@("spanComment"+count)' name="spanComment" onkeyup="assignComment(@count)" onchange="" contenteditable>@item.Comments</span>
                                                                                            <input type="hidden" maxlength="150" id='@("txtComment"+count)' class="form-control inpValidateComment" name="txtComment" value="@item.Comments">
                                                                                        </td>                                                                                      
                                                                                        <td class="suggestion_td" style="width:185px;">
                                                                                                <select class='validate drpDisable inpValidateCurrency mb-2' name="drpOfferCurrency" id='@("drpOfferCurrency" + count)' onchange="getCurrency(this)" @(item.TechAcceptance == "Ok" || item.TechAcceptance == "Not Ok" ||
item.TechAcceptance == "Other" ? "" : "disabled"
) required>
                                                                                                    <option value="" @(item.TechAcceptance == "Ok" || item.TechAcceptance == "Not Ok" ||
item.TechAcceptance == "Other" ? "" : "selected"
)>Choose Currency</option>
                                                                                                    <option @(item.Currency == "Rupee" ? "selected" : "" ) value="Rupee">Rupee</option>
                                                                                                    <option @(item.Currency == "USD" ? "selected" : "" ) value="USD">USD</option>
                                                                                             <option @(item.Currency == "Australian Dollar" ? "selected" : "" ) value="Australian Dollar">Australian Dollar</option>
                                                                                                    <option @(item.Currency == "Singaporean Dollar" ? "selected" : "" ) value="Singaporean Dollar">Singaporean Dollar</option>
                                                                                                    <option @(item.Currency == "Euro" ? "selected" : "" ) value="Euro">Euro</option>
                                                                                                    <option @(item.Currency == "Pound" ? "selected" : "" ) value="Pound">Pound</option>
                                                                                                    <option @(item.Currency == "Chinese Yuan" ? "selected" : "" ) value="Chinese Yuan">Chinese Yuan</option>
                                                                                                    <option @(item.Currency == "Japanese Yen" ? "selected" : "" ) value="Japanese Yen">Japanese Yen</option>
                                                                                                    <option @(item.Currency == "Korean Won" ? "selected" : "" ) value="Korean Won">Korean Won</option>
                                                                                                    <option @(item.Currency == "Czech Koruna" ? "selected" : "" ) value="Czech Koruna">Czech Koruna</option>
                                                                                                </select>                                                                                         
                                                                                                                                                                                   
                                                                                            @if (item.Currency != "Rupee" && item.Currency != null)
                                                                                            {
                                                                                                <input type="text" class="form-control inpDisable inpValidateConversionRate" id='@("txtConversionRate"+count)' name="txtConversionRate" value="@item.ConversionRate" onkeypress="allowNumbersAndDecimalsOnly(event)" oninput="getConversionValues(this)">
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <input type="text" class="form-control d-none inpValidateConversionRate" id='@("txtConversionRate"+count)' name="txtConversionRate" value="@item.ConversionRate" onkeypress="allowNumbersAndDecimalsOnly(event)" oninput="getConversionValues(this)">
                                                                                            }
                                                                                        </td>
                                                                                        <td class="offerprice-col">
                                                                                            @if (item.OfferPrice != null)
                                                                                            {
                                                                                                <input type="text" class="form-control inpValidateOfferPrice" id='@("txtOfferPrice" + count)' name="txtOfferPrice" autocomplete="off" maxlength="14" placeholder="" onkeypress="allowNumbersAndDecimalsOnly(event)" onkeyup="commaSeperator(event)" value="@(item.OfferPrice.ToString("n0"))">
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <input type="text" class="form-control inpValidateOfferPrice" id='@("txtOfferPrice" + count)' name="txtOfferPrice" autocomplete="off" maxlength="14" placeholder="" onkeypress="allowNumbersAndDecimalsOnly(event)" onkeyup="commaSeperator(event)" value="" disabled>
                                                                                            }
                                                                                        </td>
                                                                                        <td style="max-width:60px; vertical-align:central;">

                                                                                            <input class="remove-btn remove" type="image" src="~/assets/img/remove.png"
                                                                                                   alt="Remove" style="max-width: 19px !important; background-color: white;">
                                                                                        </td>
                                                                                    </tr>
                                                                                    count++;
                                                                                }
                                                                            }
                                                                            else
                                                                                            {
                                                                                                for (int i = 1; i < 2; i++)
                                                                                                {
                                                                    <tr class="bdr-right bg-clr1" id='@("row"+i)'>
                                                                        <td class="sNo">@i</td>
                                                                        <td style="width:300px;">
                                                                            <input type="text" class="form-control inpValidateName" name="txtSuppName" autocomplete="off" maxlength="100" placeholder="">
                                                                        </td>
                                                                        <td class="comment-td">
                                                                            <select class='form-control mb-2 validate inpValidateTechAccept' name="drpAccept" id='@("drpAccept"+i)' onchange="disableOptions(this)">
                                                                                <option selected value="" disabled>Choose</option>
                                                                                <option value="Ok">Ok</option>
                                                                                <option value="Not Ok">Not Ok</option>
                                                                                <option value="Offer not Submitted">Offer not Submitted</option>
                                                                                <option value="No Response">No Response</option>
                                                                                <option value="Regret To Quote">Regret To Quote</option>
                                                                                @*<option value="Partially Technically OK">Partially Technically OK</option>*@
                                                                                <option value="Other">Other</option>
                                                                            </select>
                                                                            <span class="textareacomments" role="textbox" style="height:47px !important;" id='@("spanComment"+i)' name="spanComment" onkeyup="assignComment(@i)" onchange="" contenteditable></span>
                                                                            <input type="hidden" maxlength="150" id='@("txtComment"+i)' class="form-control inpValidateComment" name="txtComment" value="">
                                                                        </td>
                                                                        <td class="suggestion_td" style="width:185px;">
                                                                            <select class='validate drpDisable inpValidateCurrency mb-2 optionDisable' name="drpOfferCurrency" id='@("drpOfferCurrency"+i)' onchange="getCurrency(this)" required>
                                                                                <option selected value="" disabled>Choose currency</option>
                                                                                <option value="Rupee">Rupee</option>
                                                                                <option value="USD">USD</option>
                                                                                <option value="Australian Dollar">Australian Dollar</option>
                                                                                <option value="Singaporean Dollar">Singaporean Dollar</option>
                                                                                <option value="Euro">Euro</option>
                                                                                <option value="Pound">Pound</option>
                                                                                <option value="Chinese Yuan">Chinese Yuan</option>
                                                                                <option value="Japanese Yen">Japanese Yen</option>
                                                                                <option value="Korean Won">Korean Won</option>
                                                                                <option value="Czech Koruna">Czech Koruna</option>
                                                                            </select>
                                                                            <br/>
                                                                            <input type="text" class="form-control d-none inpValidateConversionRate" id='@("txtConversionRate"+i)' name="txtConversionRate" value="" onkeypress="allowNumbersAndDecimalsOnly(event)" oninput="getConversionValues(this)">

                                                                        </td>
                                                                        <td class="offerprice-col">
                                                                            <input type="text" class="form-control inpValidateOfferPrice" id='@("txtOfferPrice"+i)' name="txtOfferPrice" autocomplete="off" maxlength="14" placeholder="" onkeypress="allowNumbersAndDecimalsOnly(event)" onkeyup="commaSeperator(event)">

                                                                        </td>
                                                                        <td style="max-width: 60px; vertical-align: central;">

                                                                            <input class="remove-btn remove" type="image" src="~/assets/img/remove.png"
                                                                                   alt="Remove" style="max-width: 19px !important; background-color: white;">
                                                                        </td>
                                                                    </tr>

                                                                                }
                                                                            }
                                                                        }
                                                                    </tbody>


                                                                </table>
                                                                @if (IsNew || !IsEdit)
                                                                {
                                                                    <div class="card-footer">
                                                                        <button type="button" class="btn btn-sm btn-success submit-btn d-flex float-right mb-2" onclick="AddRows()">
                                                                            + Add
                                                                        </button>
                                                                    </div>
                                                                }
                                                            </div>
                                                            @*<div class="card-footer table-footer-para">
                    <p class="text-center font-weight-bold mt-2">
                        For more offers & details, please refer ANNEXURE -1
                    </p>
                </div>*@
                                                        </div>
                                                    </div>

                                                    <div class="form-row actionTab">

                                                        <div class="form-group col-md-8 col-12 input-block">
                                                            @if (IsNew)
                                                            {
                                                                if (!IsEdit)
                                                                {
                                                                    <textarea class="textTrans txtDisable" rows="20" name="txtTechDisqualify" id="txtTechDisqualify" maxlength="1000" required>@(!IsEdit ? (Order.one[0].TechDisqualify ?? "") : "")</textarea>
                                                                }
                                                                else
                                                                {
                                                                    <textarea class="textTrans txtDisable" rows="20" name="txtTechDisqualify" id="txtTechDisqualify" maxlength="1000" required></textarea>
                                                                }
                                                            }
                                                            else
                                                            {
                                                                <textarea class="textTrans txtDisable spanUpperSide" rows="20" name="txtTechDisqualify" id="txtTechDisqualify" maxlength="1000" required>@(!IsNew ? (Order.one[0].TechDisqualify ?? "") : "")</textarea>
                                                            }
                                                            <span class="placeholder">Reasons for Technical Disqualification / Not Ok Supplier(s) (max.1000 character)<span class="astColor">*</span></span>
                                                        </div>
                                                        <div class="form-group col-md-4 col-12 input-block">
                                                            @if (IsNew)
                                                            {
                                                                if (!IsEdit)
                                                                {
                                                                    <textarea class="textTrans txtDisable" rows="20" name="txtSuggOrder" id="txtSuggOrder" maxlength="2000" required>@(!IsEdit ? (Order.one[0].SuggestOrder ?? "") : "")</textarea>
                                                                }
                                                                else
                                                                {
                                                                    <textarea class="textTrans txtDisable" rows="20" name="txtSuggOrder" id="txtSuggOrder" maxlength="2000" required></textarea>
                                                                }
                                                            }
                                                            else
                                                            {
                                                                <textarea class="textTrans txtDisable spanUpperSide" rows="20" name="txtSuggOrder" id="txtSuggOrder" maxlength="2000" required>@(!IsNew ? (Order.one[0].SuggestOrder ?? "") : "")</textarea>
                                                            }
                                                            <span class="placeholder">Additional Comments (max.2000 character)</span>
                                                        </div>

                                                    </div>

                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                    @*General Info / Terms & Conditions Section*@
                                    <div id="accordion">
                                        <div class="card">
                                            <div class="card-header collapsed" id="headingThree" data-toggle="collapse" data-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                                <h5 class="mb-0">
                                                    <button type="button" class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                                        <img src="~/assets/img/termsIcon.svg" width="24" height="24" class="mr-2" />  General Info / Terms & Conditions     

                                                    </button>
                                                </h5>
                                            </div>
                                            <div id="collapseThree" class="collapse" aria-labelledby="headingThree">
                                                <div class="card-body">
                                                    <div class="row">
                                                        <div class="col-12">
                                                            <h5>Note</h5>
                                                            <p>Level 1: Head of Section (AGM and above) – Approval <= INR 10,00,000(10 Lakh)</p>
                                                            <p>Level 2: Head of Department (GM and Above)** - Approval INR 10,00,000 to INR 10,000,000(10 Lakh to 1 Cr) </p>
                                                            <p>Level 3: Director and above - Approval > INR 10,000,000(1 Cr)</p>
                                                            <p>**Unless next Hierarchical level is DGM</p>
                                                        </div>
                                                    </div>
                                                    @*<div class="row">
                                                        <div class="col-lg-12 col-sm-12 txt-black-clr">
                                                            This is digital form, that can be filled and digitally sign by your PKI card. Please do not take print out.
                                                        </div>
                                                    </div>*@
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    @*Approval Section*@
                                    @if (!IsNew || !IsEdit)
                                    {
                                        <div id="accordion">
                                            <div class="card">
                                                <div class="card-header collapsed" id="headingFour" data-toggle="collapse" data-target="#collapseFour" aria-expanded="true" aria-controls="collapseFour">
                                                    <h5 class="mb-0">
                                                        <button type="button" class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseFour" aria-expanded="true" aria-controls="collapseFour">
                                                            <img src="~/assets/img/approvalTracking.svg" width="24" height="24" class="mr-2" /> Approval Tracking
                                                        </button>
                                                    </h5>
                                                </div>


                                                <div id="collapseFour" class="collapse" aria-labelledby="headingFour">
                                                    <div class="card-body approvalTracking">
                                                        <table class="table w-100 td-border showBorder">
                                                            <thead>
                                                                <tr>
                                                                    @*<th>Sr. No.</th>*@
                                                                    <th>Name</th>
                                                                    <th>Role</th>
                                                                    <th>Processed on</th>
                                                                    <th>Status</th>
                                                                    <th class="text-center">Comments</th>
                                                                    <th class="text-center">Approval Level</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>

                                                                @if (!IsNew || !IsEdit)
                                                                {
                                                                    //Dynamic Code
                                                                    var appList = Order.four as List<Skoda_DCMS.Models.ApprovalDataModel>;

                                                                    {
                                                                        Html.RenderPartial("_ApprovalTracking", appList);
                                                                    }

                                                                }                                                          

                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    }
                                    <!-- END HERE ACCORDIAN -->
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
                @if (IsNew)
                {
                    if (!IsEdit)
                    {
                        <div class="card-footer align-content-center">
                            <button type="button" class="btn btn-primary btn-sm submit-btn" id="btnSubmit">
                                Re-Submit
                            </button>
                            <button type="reset" class="btn btn-danger btn-sm cancl-btn" id="btnCancel">
                                Cancel
                            </button>
                        </div>
                    }
                    else
                    {
                        <div class="card-footer align-content-center">
                            <button type="button" class="btn btn-primary btn-sm submit-btn" id="btnSubmit">
                                Submit
                            </button>
                            <button type="reset" class="btn btn-danger btn-sm cancl-btn" id="btnCancel">
                                Cancel
                            </button>
                        </div>
                    }
                }
            </form>
    </div>
 </body>
  <div class="modal fade" id="successModel" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static">
                    <div class="modal-dialog modal-dialog-centered" role="document">
                        <div class="modal-content sfo_modal_popup">
                            <div class="modal-header modelHeader">
                                <span class="modal-title modalMsgTitle" id="modalTitle"></span>
                                <button type="button" class="close closs-icon-info font-weight-bold" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                <label id="modalBody" class="lableMsg"></label>
                                <input type="hidden" id="tab" value="0" />
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="submitBomBtn publishBtn btn-error-2" id="modalOkButton" data-dismiss="modal">Ok</button>
                            </div>
                        </div>
                    </div>
                </div>

  <script>

    var spinner = $('#loader');
    //$("#dept").html("Department New");
    var isNew = @Html.Raw(Json.Encode(IsNew));
    var isEdit = @Html.Raw(Json.Encode(IsEdit));
    var order = @Html.Raw(Json.Encode(Order));
    var appRowId = @Html.Raw(Json.Encode(AppRowId));
    var approvalType = @Html.Raw(Json.Encode(ApprovalType));
      var FlagRedirect = @Html.Raw(Json.Encode(FlagRedirect));
      var OtherEmpOrg = "";

      console.log("order : " + order);
    //////
        $(document).ready(function () {
            pageLoad();
        });

     //old code
     if (isNew) {
         spinner.hide();
         if (!isEdit) {
             var total = parseInt(document.getElementById("orderItemsTotal").value);
             console.log(typeof (total));
             var drpArray = [];
             var txtArray = [];
             var offerPriceArray = [];
             for (i = 1; i <= total; i++) {
                 drpArray.push('drpAccept' + i);
                 txtArray.push('txtComment' + i);
                 offerPriceArray.push('txtOfferPrice' + i);
             }
         }
         else {
             var drpArray = ['drpAccept1'];
             var txtArray = ['txtComment1'];
             var offerPriceArray = ['txtOfferPrice1'];
         }

         $("#uploadFileDiv").addClass('d-none');
         $("#euroLabel").addClass('d-none');
         $("#usdDollarLabel").addClass('d-none');
         $("#australianDollarLabel").addClass('d-none');
         $("#singaporeanDollarLabel").addClass('d-none');
         $("#rupeeLabel").addClass('d-none');
         $("#poundLabel").addClass('d-none');
         $("#chineseYuanLabel").addClass('d-none');
         $("#japaneseYenLabel").addClass('d-none');
         $("#koreanWonLabel").addClass('d-none');
         $("#czechKorunaLabel").addClass('d-none');
     }
     //old code

     function commaSeperator(event) {
         //////
         for (i = 0; i < offerPriceArray.length; i++) {
             $('#' + offerPriceArray[i]).keyup(function (event) {
                 // skip for arrow keys
                 if (event.which >= 37 && event.which <= 40) return;

                 // format number
                 $(this).val(function (index, value) {
                     return value.replace(/\D/g, "").replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                 });
             });
         }

     }

    function pageLoad() {
        ////
       // spinner.hide();// For Email Update
        $("#headingErr").addClass('d-none');
        getEmployeeType();
        getOtherEmployeeType();
        getOtherNewEmployeeType();
        showHideControls();
        getDesignations();
        getServiceDeskLocations();
        getSubmitterData();
        getDomainIDs();

        var offerPriceArray = "";

        if (!isEdit) {
            var value = JSON.stringify(order[0]);
            var value_1 = JSON.parse(value);
            var requestSubFor = value_1.Value[0].RequestSubmissionFor;
            var empType = value_1.Value[0].OnBehalfOption;

            if (requestSubFor == "OnBehalf") {
                if (empType == "SAVWIPLEmployee") {
                    $(".isEditable").prop("readOnly", true);
                }
            }
                $(".isSubEditable").prop("readOnly", true);
                $(".isChkEditable").prop("disabled", true);

        }
        if (!isNew) {
            $(".inpDisable").attr("disabled", "disabled");
            $(".txtDisable").attr("disabled", "disabled");
        }


        var data = "";
        spinner.hide();

        if (!isNew) {
            var value = JSON.stringify(order[0]);
            var value_1 = JSON.parse(value);
            var budget = value_1.Value[0].Budget;
            formattedBudget = budget.toLocaleString("en");
            $("#txtBudget").val(formattedBudget);
            $(".drpDisable").attr("disabled", "disabled");

            var value = value_1.Value[0].Currency;

            if (value == -1) {
                $("#divConversion").addClass('d-none');
                $("#euroLabel").addClass('d-none');
                $("#usdDollarLabel").addClass('d-none');
                $("#australianDollarLabel").addClass('d-none');
                $("#singaporeanDollarLabel").addClass('d-none');
                $("#rupeeLabel").addClass('d-none');
                $("#poundLabel").addClass('d-none');
                $("#chineseYuanLabel").addClass('d-none');
                $("#japaneseYenLabel").addClass('d-none');
                $("#koreanWonLabel").addClass('d-none');
                $("#czechKorunaLabel").addClass('d-none');
            }
            else if (value == "Rupee") {
                $("#divConversion").addClass('d-none');
                $("#rupeeLabel").removeClass('d-none');
                $("#euroLabel").addClass('d-none');
                $("#usdDollarLabel").addClass('d-none');
                $("#australianDollarLabel").addClass('d-none');
                $("#singaporeanDollarLabel").addClass('d-none');
                $("#poundLabel").addClass('d-none');
                $("#chineseYuanLabel").addClass('d-none');
                $("#japaneseYenLabel").addClass('d-none');
                $("#koreanWonLabel").addClass('d-none');
                $("#czechKorunaLabel").addClass('d-none');
            }
            else if (value == "USD") {
                $("#divConversion").removeClass('d-none');
                $("#usdDollarLabel").removeClass('d-none');
                $("#australianDollarLabel").addClass('d-none');
                $("#singaporeanDollarLabel").addClass('d-none');
                $("#euroLabel").addClass('d-none');
                $("#rupeeLabel").addClass('d-none');
                $("#poundLabel").addClass('d-none');
                $("#chineseYuanLabel").addClass('d-none');
                $("#japaneseYenLabel").addClass('d-none');
                $("#koreanWonLabel").addClass('d-none');
                $("#czechKorunaLabel").addClass('d-none');
            }
            else if (value == "Australian Dollar") {
                $("#divConversion").removeClass('d-none');
                $("#usdDollarLabel").addClass('d-none');
                $("#australianDollarLabel").removeClass('d-none');
                $("#singaporeanDollarLabel").addClass('d-none');
                $("#euroLabel").addClass('d-none');
                $("#rupeeLabel").addClass('d-none');
                $("#poundLabel").addClass('d-none');
                $("#chineseYuanLabel").addClass('d-none');
                $("#japaneseYenLabel").addClass('d-none');
                $("#koreanWonLabel").addClass('d-none');
                $("#czechKorunaLabel").addClass('d-none');
            }
            else if (value == "Singaporean Dollar") {
                $("#divConversion").removeClass('d-none');
                $("#usdDollarLabel").addClass('d-none');
                $("#australianDollarLabel").addClass('d-none');
                $("#singaporeanDollarLabel").removeClass('d-none');
                $("#euroLabel").addClass('d-none');
                $("#rupeeLabel").addClass('d-none');
                $("#poundLabel").addClass('d-none');
                $("#chineseYuanLabel").addClass('d-none');
                $("#japaneseYenLabel").addClass('d-none');
                $("#koreanWonLabel").addClass('d-none');
                $("#czechKorunaLabel").addClass('d-none');
            }
            else if (value == "Euro") {
                $("#divConversion").removeClass('d-none');
                $("#euroLabel").removeClass('d-none');
                $("#usdDollarLabel").addClass('d-none');
                $("#australianDollarLabel").addClass('d-none');
                $("#singaporeanDollarLabel").addClass('d-none');
                $("#rupeeLabel").addClass('d-none');
                $("#poundLabel").addClass('d-none');
                $("#chineseYuanLabel").addClass('d-none');
                $("#japaneseYenLabel").addClass('d-none');
                $("#koreanWonLabel").addClass('d-none');
                $("#czechKorunaLabel").addClass('d-none');
            }
            else if (value == "Pound") {
                $("#divConversion").removeClass('d-none');
                $("#euroLabel").addClass('d-none');
                $("#usdDollarLabel").addClass('d-none');
                $("#australianDollarLabel").addClass('d-none');
                $("#singaporeanDollarLabel").addClass('d-none');
                $("#rupeeLabel").addClass('d-none');
                $("#poundLabel").removeClass('d-none');
                $("#chineseYuanLabel").addClass('d-none');
                $("#japaneseYenLabel").addClass('d-none');
                $("#koreanWonLabel").addClass('d-none');
                $("#czechKorunaLabel").addClass('d-none');
            }
            else if (value == "Chinese Yuan") {
                $("#divConversion").removeClass('d-none');
                $("#euroLabel").addClass('d-none');
                $("#usdDollarLabel").addClass('d-none');
                $("#australianDollarLabel").addClass('d-none');
                $("#singaporeanDollarLabel").addClass('d-none');
                $("#rupeeLabel").addClass('d-none');
                $("#poundLabel").addClass('d-none');
                $("#chineseYuanLabel").removeClass('d-none');
                $("#japaneseYenLabel").addClass('d-none');
                $("#koreanWonLabel").addClass('d-none');
                $("#czechKorunaLabel").addClass('d-none');
            }
            else if (value == "Japanese Yen") {
                $("#euroLabel").addClass('d-none');
                $("#txtConvert").removeClass('d-none');
                $("#usdDollarLabel").addClass('d-none');
                $("#australianDollarLabel").addClass('d-none');
                $("#singaporeanDollarLabel").addClass('d-none');
                $("#rupeeLabel").addClass('d-none');
                $("#poundLabel").addClass('d-none');
                $("#chineseYuanLabel").addClass('d-none');
                $("#japaneseYenLabel").removeClass('d-none');
                $("#koreanWonLabel").addClass('d-none');
                $("#czechKorunaLabel").addClass('d-none');
            }
            else if (value == "Korean Won") {
                $("#divConversion").removeClass('d-none');
                $("#euroLabel").addClass('d-none');
                $("#usdDollarLabel").addClass('d-none');
                $("#australianDollarLabel").addClass('d-none');
                $("#singaporeanDollarLabel").addClass('d-none');
                $("#rupeeLabel").addClass('d-none');
                $("#poundLabel").addClass('d-none');
                $("#chineseYuanLabel").addClass('d-none');
                $("#japaneseYenLabel").addClass('d-none');
                $("#koreanWonLabel").removeClass('d-none');
                $("#czechKorunaLabel").addClass('d-none');
            }
            else if (value == "Czech Koruna") {
                $("#divConversion").removeClass('d-none');
                $("#euroLabel").addClass('d-none');
                $("#usdDollarLabel").addClass('d-none');
                $("#australianDollarLabel").addClass('d-none');
                $("#singaporeanDollarLabel").addClass('d-none');
                $("#rupeeLabel").addClass('d-none');
                $("#poundLabel").addClass('d-none');
                $("#chineseYuanLabel").addClass('d-none');
                $("#japaneseYenLabel").addClass('d-none');
                $("#koreanWonLabel").addClass('d-none');
                $("#czechKorunaLabel").removeClass('d-none');
            }
        }

        if (isNew) {
            if (!isEdit) {

                var value = JSON.stringify(order[0]);
                var value_1 = JSON.parse(value);
                var budget = value_1.Value[0].Budget;
                console.log("bgt=" + budget);
                formattedBudget = budget.toLocaleString("en");
                $("#txtBudget").val(formattedBudget);

                var valueDNF = value_1.Value[0].DeviationNoteForm;
                if (valueDNF == "DeviationNoteForm") {
                    $("#uploadFileDiv").removeClass('d-none');
                }
                else {
                    $("#uploadFileDiv").addClass('d-none');
                }

                var value = value_1.Value[0].Currency;
                console.log("curr=" + value);
                $("#drpCurrency option[value='" + value + "']").prop('selected', 'selected');
                $('#drpCurrency').addClass("spanUpperSide");
                if (value == -1) {
                    $('#drpCurrency').removeClass("spanUpperSide");
                    $("#divConversion").addClass('d-none');
                    $("#euroLabel").addClass('d-none');
                    $("#usdDollarLabel").addClass('d-none');
                    $("#australianDollarLabel").addClass('d-none');
                    $("#singaporeanDollarLabel").addClass('d-none');
                    $("#rupeeLabel").addClass('d-none');
                    $("#poundLabel").addClass('d-none');
                    $("#chineseYuanLabel").addClass('d-none');
                    $("#japaneseYenLabel").addClass('d-none');
                    $("#koreanWonLabel").addClass('d-none');
                    $("#czechKorunaLabel").addClass('d-none');
                }
                else if (value == "Rupee") {
                    $("#divConversion").addClass('d-none');
                    $("#rupeeLabel").removeClass('d-none');
                    $("#euroLabel").addClass('d-none');
                    $("#usdDollarLabel").addClass('d-none');
                    $("#australianDollarLabel").addClass('d-none');
                    $("#singaporeanDollarLabel").addClass('d-none');
                    $("#poundLabel").addClass('d-none');
                    $("#chineseYuanLabel").addClass('d-none');
                    $("#japaneseYenLabel").addClass('d-none');
                    $("#koreanWonLabel").addClass('d-none');
                    $("#czechKorunaLabel").addClass('d-none');
                }
                else if (value == "USD") {
                    $("#divConversion").removeClass('d-none');
                    $("#usdDollarLabel").removeClass('d-none');
                    $("#australianDollarLabel").addClass('d-none');
                    $("#singaporeanDollarLabel").addClass('d-none');
                    $("#euroLabel").addClass('d-none');
                    $("#rupeeLabel").addClass('d-none');
                    $("#poundLabel").addClass('d-none');
                    $("#chineseYuanLabel").addClass('d-none');
                    $("#japaneseYenLabel").addClass('d-none');
                    $("#koreanWonLabel").addClass('d-none');
                    $("#czechKorunaLabel").addClass('d-none');
                }
                else if (value == "Australian Dollar") {
                    $("#divConversion").removeClass('d-none');
                    $("#usdDollarLabel").addClass('d-none');
                    $("#australianDollarLabel").removeClass('d-none');
                    $("#singaporeanDollarLabel").addClass('d-none');
                    $("#euroLabel").addClass('d-none');
                    $("#rupeeLabel").addClass('d-none');
                    $("#poundLabel").addClass('d-none');
                    $("#chineseYuanLabel").addClass('d-none');
                    $("#japaneseYenLabel").addClass('d-none');
                    $("#koreanWonLabel").addClass('d-none');
                    $("#czechKorunaLabel").addClass('d-none');
                }
                else if (value == "Singaporean Dollar") {
                    $("#divConversion").removeClass('d-none');
                    $("#usdDollarLabel").addClass('d-none');
                    $("#australianDollarLabel").addClass('d-none');
                    $("#singaporeanDollarLabel").removeClass('d-none');
                    $("#euroLabel").addClass('d-none');
                    $("#rupeeLabel").addClass('d-none');
                    $("#poundLabel").addClass('d-none');
                    $("#chineseYuanLabel").addClass('d-none');
                    $("#japaneseYenLabel").addClass('d-none');
                    $("#koreanWonLabel").addClass('d-none');
                    $("#czechKorunaLabel").addClass('d-none');
                }
                else if (value == "Euro") {
                    $("#divConversion").removeClass('d-none');
                    $("#euroLabel").removeClass('d-none');
                    $("#usdDollarLabel").addClass('d-none');
                    $("#australianDollarLabel").addClass('d-none');
                    $("#singaporeanDollarLabel").addClass('d-none');
                    $("#rupeeLabel").addClass('d-none');
                    $("#poundLabel").addClass('d-none');
                    $("#chineseYuanLabel").addClass('d-none');
                    $("#japaneseYenLabel").addClass('d-none');
                    $("#koreanWonLabel").addClass('d-none');
                    $("#czechKorunaLabel").addClass('d-none');
                }
                else if (value == "Pound") {
                    $("#divConversion").removeClass('d-none');
                    $("#euroLabel").addClass('d-none');
                    $("#usdDollarLabel").addClass('d-none');
                    $("#australianDollarLabel").addClass('d-none');
                    $("#singaporeanDollarLabel").addClass('d-none');
                    $("#rupeeLabel").addClass('d-none');
                    $("#poundLabel").removeClass('d-none');
                    $("#chineseYuanLabel").addClass('d-none');
                    $("#japaneseYenLabel").addClass('d-none');
                    $("#koreanWonLabel").addClass('d-none');
                    $("#czechKorunaLabel").addClass('d-none');
                }
                else if (value == "Chinese Yuan") {
                    $("#divConversion").removeClass('d-none');
                    $("#euroLabel").addClass('d-none');
                    $("#usdDollarLabel").addClass('d-none');
                    $("#australianDollarLabel").addClass('d-none');
                    $("#singaporeanDollarLabel").addClass('d-none');
                    $("#rupeeLabel").addClass('d-none');
                    $("#poundLabel").addClass('d-none');
                    $("#chineseYuanLabel").removeClass('d-none');
                    $("#japaneseYenLabel").addClass('d-none');
                    $("#koreanWonLabel").addClass('d-none');
                    $("#czechKorunaLabel").addClass('d-none');
                }
                else if (value == "Japanese Yen") {
                    $("#divConversion").removeClass('d-none');
                    $("#euroLabel").addClass('d-none');
                    $("#usdDollarLabel").addClass('d-none');
                    $("#australianDollarLabel").addClass('d-none');
                    $("#singaporeanDollarLabel").addClass('d-none');
                    $("#rupeeLabel").addClass('d-none');
                    $("#poundLabel").addClass('d-none');
                    $("#chineseYuanLabel").addClass('d-none');
                    $("#japaneseYenLabel").removeClass('d-none');
                    $("#koreanWonLabel").addClass('d-none');
                    $("#czechKorunaLabel").addClass('d-none');
                }
                else if (value == "Korean Won") {
                    $("#divConversion").removeClass('d-none');
                    $("#euroLabel").addClass('d-none');
                    $("#usdDollarLabel").addClass('d-none');
                    $("#australianDollarLabel").addClass('d-none');
                    $("#singaporeanDollarLabel").addClass('d-none');
                    $("#rupeeLabel").addClass('d-none');
                    $("#poundLabel").addClass('d-none');
                    $("#chineseYuanLabel").addClass('d-none');
                    $("#japaneseYenLabel").addClass('d-none');
                    $("#koreanWonLabel").removeClass('d-none');
                    $("#czechKorunaLabel").addClass('d-none');
                }
                else if (value == "Czech Koruna") {
                    $("#divConversion").removeClass('d-none');
                    $("#euroLabel").addClass('d-none');
                    $("#usdDollarLabel").addClass('d-none');
                    $("#australianDollarLabel").addClass('d-none');
                    $("#singaporeanDollarLabel").addClass('d-none');
                    $("#rupeeLabel").addClass('d-none');
                    $("#poundLabel").addClass('d-none');
                    $("#chineseYuanLabel").addClass('d-none');
                    $("#japaneseYenLabel").addClass('d-none');
                    $("#koreanWonLabel").addClass('d-none');
                    $("#czechKorunaLabel").removeClass('d-none');
                }
            }
        }
        else {

        }
    };

    function getSubmitterData() {
        if (isNew && isEdit) {
             var EmailId = "";
            var extdesignation = "Team Member";
            var result = getTypeOfEmployeeByEmail("@user.Email");

            $('input[id="chkExternal"]').prop("disabled", true);
            $('input[id="chkInternal"]').prop("disabled", true);
            if (result == true) {
                console.log("Emp type ext..=" + result);
                $('input[id="chkExternal"]').prop("checked", true).change();
                $("#chkEmployeeType").val('External');
                $("#ddEmpDesignation option[value='" + extdesignation + "']").prop('selected', 'selected');
                $('#ddEmpDesignation').prop("disabled", true);
                var company = "@user.CompanyName";
                console.log("company=" + company);
                if (company == "") {
                    $('#divExtOtherOrg').addClass('d-none');
                    $("#txtExternalOtherOrganizationName").val("");
                }
                else {
                    $('#divExtOtherOrg').removeClass('d-none');
                    $("#txtExternalOtherOrganizationName").val("@user.CompanyName").prop("readOnly", true);;
                }
                $('#ddEmpDesignation').addClass("spanUpperSide");
            }
            else {
                $('input[id="chkInternal"]').prop("checked", true).change();
                $("#chkEmployeeType").val('Internal');
                $('#ddEmpDesignation').prop("disabled", false);
                $('#ddEmpDesignation').prop("selectedIndex", 0).val();
            }
            $("#txtEmployeeName").val("@user.FirstName @user.LastName").prop("readOnly",true);
            $("#txtCostcenterCode").val("@user.CostCenter").prop("readOnly", true);
            $("#txtEmployeeCode").val("@user.EmpNumber").prop("readOnly", true);
            $("#txtUserId").val("@user.UserName").prop("readOnly", true);
             //$("#txtDepartment").val("@user.Department").prop("readOnly", true);
            $("#txtDepartment").val("@Html.Raw(user.Department)").prop("readOnly", true);
            $("#txtContactNo").val("@user.PhoneNumber");
            $("#txtEmail").val("@user.Email");
        }
       if (!isNew) {
           var value = JSON.stringify(order[0]);
            console.log(value)
            var value_1 = JSON.parse(value);
            var org = value_1.Value[0].ExternalOtherOrganizationName;
            if (org != null) {
                $('#divExtOtherOrg').removeClass('d-none');
                $('#txtExternalOtherOrganizationName').prop("readOnly", true);
            }
            else {
                $('#divExtOtherOrg').addClass('d-none');
            }


            var otherOrg = value_1.Value[0].OtherExternalOtherOrganizationName;
            console.log("otherOrg =" + otherOrg);
            if (otherOrg == null) {
                $('#divOtherExtOtherOrg').addClass('d-none');
                $('#txtOtherExternalOtherOrganizationName').val("");
            }

        }
        if (!isEdit) {

            var value = JSON.stringify(order[0]);
            console.log(value)
            var value_1 = JSON.parse(value);
            var requestSubmissionFor = value_1.Value[0].RequestSubmissionFor;
            console.log("requestSubmissionFor=" + requestSubmissionFor);
            var onBehalfOption = value_1.Value[0].OnBehalfOption;
            if (requestSubmissionFor == "Self") {
                $('#SAVWIPLEmployeeDetailsSection').addClass('d-none');
                $('#OthersEmployeeDetailsSection').addClass('d-none');
            }
            if (requestSubmissionFor == "OnBehalf" && onBehalfOption == "SAVWIPLEmployee") {
                $('#SAVWIPLEmployeeDetailsSection').removeClass('d-none');
                $('#OthersEmployeeDetailsSection').addClass('d-none');

                var otherEmployeeDesignation = value_1.Value[0].OtherEmployeeDesignation;
                $("#ddOtherEmpDesignation option[value='" + otherEmployeeDesignation + "']").prop('selected', 'selected');
                if (otherEmployeeDesignation == "Team Member") {
                    $("#ddOtherEmpDesignation").prop("disabled", true);
                }
                $('#ddOtherEmpDesignation').addClass("spanUpperSide");


                var selectedOtherLocation = value_1.Value[0].OtherEmployeeLocation;
                $("#ddOtherEmpLocation option[value='" + selectedOtherLocation + "']").prop('selected', 'selected');
                $('#ddOtherEmpLocation').addClass("spanUpperSide");

                    $('input[id="chkOtherExternal"]').prop("disabled", true);
                    $('input[id="chkOtherInternal"]').prop("disabled", true);

                var otherOrg = value_1.Value[0].OtherExternalOtherOrganizationName;
                if (otherOrg != null) {
                    $('#divOtherExtOtherOrg').removeClass('d-none');
                    $('#txtOtherExternalOtherOrganizationName').prop("readOnly", true);
                }
                else {
                    $('#divOtherExtOtherOrg').addClass('d-none');
                }
            }
            else if (requestSubmissionFor == "OnBehalf" && onBehalfOption == "Others") {
                $('#SAVWIPLEmployeeDetailsSection').addClass('d-none');
                $('#OthersEmployeeDetailsSection').removeClass('d-none');

                var otherNewEmployeeDesignation = value_1.Value[0].OtherEmployeeDesignation;
                $("#ddOtherNewEmpDesignation option[value='" + otherNewEmployeeDesignation + "']").prop('selected', 'selected');
                if (otherNewEmployeeDesignation == "Team Member") {
                    $("#ddOtherNewEmpDesignation").prop("disabled", true);
                }
                $('#ddOtherNewEmpDesignation').addClass("spanUpperSide");

                var selectedOtherLocation = value_1.Value[0].OtherEmployeeLocation;
                $("#ddOtherNewEmpLocation option[value='" + selectedOtherLocation + "']").prop('selected', 'selected');
                $('#ddOtherNewEmpLocation').addClass("spanUpperSide");


                var otherOrg = value_1.Value[0].OtherExternalOtherOrganizationName;
                console.log("otherOrg=" + otherOrg);
                if (otherOrg != null) {
                    $('#divOtherNewExtOtherOrg').removeClass('d-none');
                    $('#txtOtherNewExternalOtherOrganizationName').prop("readOnly", true);
                }
                else {
                    $('#divOtherNewExtOtherOrg').addClass('d-none');
                }

            }

            var employeeDesignation = value_1.Value[0].EmployeeDesignation;
            $("#ddEmpDesignation option[value='" + employeeDesignation + "']").prop('selected', 'selected');
            if (employeeDesignation == "Team Member") {
                $("#ddEmpDesignation").prop("disabled", true);
            }

            var selectedLocation = value_1.Value[0].EmployeeLocation;
            $("#ddEmpLocation option[value='" + selectedLocation + "']").prop('selected', 'selected');

            var otherOrg = value_1.Value[0].ExternalOtherOrganizationName;
            if (otherOrg != null) {
                $('#divExtOtherOrg').removeClass('d-none');
                $('#txtExternalOtherOrganizationName').prop("readOnly", true);
            }
            else {
                $('#divExtOtherOrg').addClass('d-none');
            }

            var requestSubmissionFor = value_1.Value[0].RequestSubmissionFor;
            var onBehlfType = value_1.Value[0].OnBehalfOption;
            if (requestSubmissionFor == "Self") {
                $("#SAVWIPLEmployeeDetailsSection").addClass('d-none');
                $("#OthersEmployeeDetailsSection").addClass('d-none');
            }
            else {
                if (onBehlfType == "SAVWIPLEmployee") {
                    $("#OthersEmployeeDetailsSection").addClass('d-none');
                }
                else {
                    $("#SAVWIPLEmployeeDetailsSection").addClass('d-none');
                }
            }
        }
    }

     $("#txtOtherEmployeeName").autocomplete({
        source: function (request, response) {
            $.ajax({
                url: "/List/GetEmployeeDetails",
                dataType: "json",
                cache: false,
                async: true,
                data: {
                    searchText: $("#txtOtherEmployeeName").val()
                },
                success: function (data) {
                    ////
                    data = data.filter(function (e) {
                        return e.Email !== "@user.Email";
                    });

                    response($.map(data, function (item) {
                        return { label: item.FirstName, value: item.FullName, raw: item };
                    }));
                }
            });
        },
        search: function (event, ui) {
            var value = $("#txtOtherEmployeeName").val();
            // If less than three chars, cancel the search event
            if (value.length < 4) {
                event.preventDefault();
            }
        },
        min_length: 4,
        change: function (event, ui) {
            if (!ui.item) {
                $(this).val('');
                $('#txtOtherEmployeeCode').val('');
                $('#txtOtherCostcenterCode').val('');
                $('#txtOtherUserId').val('');
                $('#txtOtherContactNo').val('');
                $('#txtOtherEmailId').val('');
                $('#txtOtherDepartment').val('');
                $("#ddOtherEmpDesignation").prop("selectedIndex", 0);
                $('#ddOtherEmpDesignation').removeClass("spanUpperSide");
                $("#ddOtherEmpLocation").prop("selectedIndex", 0);
                $('#ddOtherEmpLocation').removeClass("spanUpperSide");
            }
        },
        delay: 0,
        select: function (event, ui) {
            ////
            var empOtherDetails = ui.item['raw'];
            //Get the other details like Cost Center Code, Employee Number from DB.
            if (!empOtherDetails.Email) {
                document.getElementById('txtOtherEmployeeName').value = '';
                DisplayAlert('success', 'Info', 'Please select a user with valid Email', 4000);
                event.preventDefault();
                return;
            }
            $.ajax({
                url: "/List/GetExistingEmployeeDetails",
                dataType: "json",
                cache: false,
                async: true,
                data: {
                    otherEmpUserId: empOtherDetails.Email,
                },
                success: function (data) {
                    ////
                    $('input[id="chkOtherExternal"]').prop("disabled", true);
                    $('input[id="chkOtherInternal"]').prop("disabled", true);

                    $('#txtOtherEmployeeName').val(data.FullName);
                    data.EmpNumber == 0 || data.EmpNumber == null ? $('#txtOtherEmployeeCode').val('').prop("readOnly", false) : $('#txtOtherEmployeeCode').val(data.EmpNumber).prop("readOnly", true);
                    data.CostCenter == 0 || data.CostCenter == null ? $('#txtOtherCostcenterCode').val('').prop("readOnly", false) : $('#txtOtherCostcenterCode').val(data.CostCenter).prop("readOnly", true);
                    data.UserName == " " || data.UserName == null ? $('#txtOtherUserId').val('').prop("readOnly", false) : $('#txtOtherUserId').val(data.UserName).prop("readOnly", true);
                    $('#txtOtherContactNo').val(data.PhoneNumber);
                    data.Email == " " || data.Email == null ? $('#txtOtherEmailId').val('').prop("readOnly", false) : $('#txtOtherEmailId').val(data.Email).prop("readOnly", true);
                    data.Department == " " || data.Department == null ? $('#txtOtherDepartment').val('').prop("readOnly", false) : $('#txtOtherDepartment').val(data.Department).prop("readOnly", true);

                    EmailId = data.Email;
                   // console.log(EmailId);
                    var emailExt = getTypeOfEmployeeByEmail(EmailId);
                    var extdesignation = "Team Member";
                    if (emailExt == true) {
                        $('input[id="chkOtherExternal"]').prop("checked", true).change();
                        $('input[id="chkOtherInternal"]').prop("checked", false).change();
                        $("#chkOtherEmployeeType").val('External');
                        $("#ddOtherEmpDesignation option[value='" + extdesignation + "']").prop('selected', 'selected');
                        $('#ddOtherEmpDesignation').prop("disabled", true);
                        $('#ddOtherEmpDesignation').addClass("spanUpperSide");
                        var company = data.CompanyName;
                        //console.log("other company=" + company);
                        if (company == null) {
                            $('#divOtherExtOtherOrg').addClass('d-none');
                            $('#txtOtherExternalOtherOrganizationName').val("");
                        }
                        else {
                            $('#divOtherExtOtherOrg').removeClass('d-none');
                            $('#txtOtherExternalOtherOrganizationName').val(data.CompanyName).prop("readOnly", true);
                        }
                    }
                    else {
                        $('input[id="chkOtherInternal"]').prop("checked", true).change();
                        $('input[id="chkOtherExternal"]').prop("checked", false).change();
                        $("#chkOtherEmployeeType").val('Internal');
                        $("#ddOtherEmpDesignation").prop("disabled", false);
                        $("#ddOtherEmpDesignation").prop("selectedIndex", 0);
                        $('#ddOtherEmpDesignation').removeClass("spanUpperSide");
                        $('#divOtherExtOtherOrg').addClass('d-none');
                    }
                    $("#ddOtherEmpLocation").prop("selectedIndex", 0);
                    $('#ddOtherEmpLocation').removeClass("spanUpperSide");
                }
            });
        }

    });

    $("#txtOtherEmployeeName").autocomplete("option", "appendTo", ".autocomplete-div");

    $("#txtOtherNewCostcenterCode").autocomplete({
        source: function (request, response) {
            $.ajax
                ({
                    url: "/List/GetCostCenterDetails",
                    dataType: "json",
                    cache: false,
                    async: true,
                    data: {
                        searchText: $("#txtOtherNewCostcenterCode").val()
                    },
                    success: function (data) {
                        ////
                        console.log("Cost center=" + data);
                        response($.map(data, function (item) {
                            return { label: item, value: item, raw: item };
                        }));
                    },
                    error: (function (data) {
                        failureModal();
                    })
                })
        },
        minLength: 2,
        change: function (event, ui) {
            if (!ui.item) {
                $(this).val('');
            }
        }//This is the Char length of inputTextBox
    });

    $("#txtOtherNewCostcenterCode").autocomplete("option", "appendTo", ".autocompleteCC-div");

    function RequestSubmissionFor() {

        var drpRequestSubmissionFor = $("#drpRequestSubmissionFor").val();
        console.log("drpRequestSubmissionFor=" + drpRequestSubmissionFor);
        if (drpRequestSubmissionFor == "OnBehalf") {
            $('#divEmployeeType').attr("style", "visibility:visible");

        }
        else if (drpRequestSubmissionFor == "Self")
        {
            $('#divEmployeeType').attr("style", "visibility:hidden");
            $('#SAVWIPLEmployeeDetailsSection').addClass('d-none');
            $('#OthersEmployeeDetailsSection').addClass('d-none');
            $('input:radio[value="SAVWIPLEmployee"]').prop("checked", false).val();
            $('input:radio[value="Others"]').prop("checked", false).val();

        }
    }

    function showHideControls() {
       // console.log("Hi");

        $('input[type=radio][name=rdOnBehalfOption]').click(function () {
           // console.log("hello radio");

            var onBehalfOption = $(this).val();
          //  console.log(onBehalfOption);

            if (onBehalfOption == "SAVWIPLEmployee") {

                $('#SAVWIPLEmployeeDetailsSection').removeClass('d-none');
                $('#SAVWIPLEmployeeDetailsSection > .collapse').collapse('show');
                $('#OthersEmployeeDetailsSection').addClass('d-none');
                $('#rdOnBehalfOptionSelected').val('SAVWIPLEmployee');

            }
            else if (onBehalfOption == "Others") {
                $('#SAVWIPLEmployeeDetailsSection').addClass('d-none');
                $('#OthersEmployeeDetailsSection').removeClass('d-none');
                $('#OthersEmployeeDetailsSection > .collapse').collapse('show');
                $('#rdOnBehalfOptionSelected').val('Others');

            }
        });
    }

    function getTypeOfEmployeeByEmail(txt) {
        let result = txt.toLowerCase().includes("extern");
        return result;
    }

    function getEmployeeType() {
        var extdesignation = "Team Member";
        var z = 0;
        $('input:checkbox[id="chkInternal"]').click(function () {
            if ($(this).prop("checked") == true) {
                console.log("Internal");
                $('input[id="chkInternal"]').prop('disabled', true);
                $('input[id="chkExternal"]').prop('checked', false).change();
                $('input[id="chkExternal"]').prop("disabled", false);
                $("#chkEmployeeType").val('Internal');
                $('#divExtOrg').addClass('d-none');
                $('#divExtOtherOrg').addClass('d-none');
                $('#ddExternalOrganizationName').prop("selectedIndex", 0).val();
                $('#txtExternalOtherOrganizationName').val('');
                console.log("internal z=" + z);
                if (z == 1) {
                    $("#ddEmpDesignation").prop("disabled", false);
                    $("#ddEmpDesignation").prop("selectedIndex", 0);
                    $('#ddEmpDesignation').removeClass("spanUpperSide");
                }
            }
        });

        $('input:checkbox[id="chkExternal"]').click(function () {
            if ($(this).prop("checked") == true) {
                z = 1;
                $("#chkEmployeeType").val('External');
                $('input[id="chkExternal"]').prop('disabled', true);
                $('input[id="chkInternal"]').prop("checked", false).change();
                $('input[id="chkInternal"]').prop("disabled", false);
                $('#divExtOrg').removeClass('d-none');
                $("#ddEmpDesignation option[value='" + extdesignation + "']").prop('selected', 'selected');
                $('#ddEmpDesignation').addClass("spanUpperSide");
                $('#ddEmpDesignation').prop("disabled", true);
            }
        });
    }

    function getOtherEmployeeType() {
        var extdesignation = "Team Member";
        var y = 0;
        $('input:checkbox[id="chkOtherInternal"]').click(function () {
            if ($(this).prop("checked") == true) {
                console.log("other Internal");
                $('input[id="chkOtherInternal"]').prop('disabled', true);
                $('input[id="chkOtherExternal"]').prop('checked', false).change();
                $('input[id="chkOtherExternal"]').prop("disabled", false);
                $('#chkOtherEmployeeType').val('Internal');
                console.log("other internal y=" + y);
                if (y == 1) {
                    $("#ddOtherEmpDesignation").prop("disabled", false);
                    $("#ddOtherEmpDesignation").prop("selectedIndex", 0);
                    $('#ddOtherEmpDesignation').removeClass("spanUpperSide");
                }

                $('#divOtherExtOtherOrg').addClass('d-none');


                $('#txtOtherExternalOtherOrganizationName').val('');

            }
        });

        $('input:checkbox[id="chkOtherExternal"]').click(function () {
            if ($(this).prop("checked") == true) {
                console.log("other External");
                y = 1;
                console.log("other external y=" + y);
                $('#chkOtherEmployeeType').val('External');
                $('input[id="chkOtherExternal"]').prop('disabled', true);
                $('input[id="chkOtherInternal"]').prop("checked", false).change();
                $('input[id="chkOtherInternal"]').prop("disabled", false);
                $('#divOtherExtOtherOrg').removeClass('d-none');
                $("#ddOtherEmpDesignation option[value='" + extdesignation + "']").prop('selected', 'selected');
                $('#ddOtherEmpDesignation').addClass("spanUpperSide");
                $('#ddOtherEmpDesignation').prop("disabled", true);
            }
        });
    }

    function getOtherNewEmployeeType() {
        var extdesignation = "Team Member";
        var x = 0;
        $('input:checkbox[id="chkOtherNewInternal"]').click(function () {
            if ($(this).prop("checked") == true) {
                console.log("other New Internal");
                $('input[id="chkOtherNewInternal"]').prop('disabled', true);
                $('input[id="chkOtherNewExternal"]').prop('checked', false).change();
                $('input[id="chkOtherNewExternal"]').prop("disabled", false);
                $('#chkOtherNewEmployeeType').val('Internal');

                $('#divOtherNewExtOtherOrg').addClass('d-none');

                $('#txtOtherNewExternalOtherOrganizationName').val('');

                console.log("other new internal x=" + x);
                if (OtherEmpOrg) {
                    $("#ddOtherNewEmpDesignation option[value='" + OtherEmpOrg + "']").prop('selected', 'selected');
                    $('#ddOtherNewEmpDesignation').addClass("spanUpperSide");
                }
                if (x == 1) {
                    $("#ddOtherNewEmpDesignation").prop("disabled", false);
                    $("#ddOtherNewEmpDesignation").prop("selectedIndex", 0);
                    $('#ddOtherNewEmpDesignation').removeClass("spanUpperSide");
                }
            }
        });

        $('input:checkbox[id="chkOtherNewExternal"]').click(function () {
            var v = $("#ddOtherNewEmpDesignation").val();
            if (v !== "Team Member") {
                OtherEmpOrg = $("#ddOtherNewEmpDesignation").val();
            }
            if ($(this).prop("checked") == true) {
                console.log("other New External");
                x = 1;
                console.log("other new external x=" + x);
                $('#chkOtherNewEmployeeType').val('External');
                $('input[id="chkOtherNewExternal"]').prop('disabled', true);
                $('input[id="chkOtherNewInternal"]').prop("checked", false).change();
                $('input[id="chkOtherNewInternal"]').prop("disabled", false);
                $('#divOtherNewExtOtherOrg').removeClass('d-none');

                $("#ddOtherNewEmpDesignation option[value='" + extdesignation + "']").prop('selected', 'selected');
                $('#ddOtherNewEmpDesignation').addClass("spanUpperSide");
                $('#ddOtherNewEmpDesignation').prop("disabled", true);

            }
        });
    }

    function getDesignations() {
        $.ajax({
            type: "POST",
            url: "/List/GetDesignations",
            contentType: "application/json; charset=utf-8",
            datatype: 'json',
            cache: false,
            async: false,
            success: function (data) {
                console.log(data);
                var s = '<option value="" class="d-none"></option>';

                for (var i = 0; i < data.length; i++) {
                    s += '<option value="' + data[i].JobTitle + '">' + data[i].JobTitle + '</option>';
                }
                $("#ddEmpDesignation").html(s);
                $("#ddOtherEmpDesignation").html(s);
                $("#ddOtherNewEmpDesignation").html(s);
            },
            error: function (data) {
                //code
            }
        });
    }

    function getServiceDeskLocations() {
        $.ajax({
            type: "GET",
            url: "/List/GetServiceDeskLocations",
            contentType: "application/json; charset=utf-8",
            datatype: 'json',
            cache: false,
            async: false,
            success: function (data) {
                console.log("Location=" + data);
                var s = '<option value="" class="d-none"></option>';

                for (var i = 0; i < data.length; i++) {
                    s += '<option value="' + data[i].LocationName + '">' + data[i].LocationName + '</option>';
                }
                $("#ddEmpLocation").html(s);
                $("#ddOtherEmpLocation").html(s);
                $("#ddOtherNewEmpLocation").html(s);
            },
            error: function () {

            }
        });
    }

  function allowNumbersAndDecimalsOnly(e) {
          var charCode = (e.which) ? e.which : e.keyCode
          if (charCode != 46 && charCode > 31
              && (charCode < 48 || charCode > 57)) {
              e.preventDefault();
          }
      }


    function successModal(txt) {
        //////
        $('#modalTitle').html('Success');
        if (txt == "approve") {
            $('#modalBody').html('Form has been approved!');
        }
        else if (txt == "reject") {
            $('#modalBody').html('Form has been rejected!');
        }
        else if (txt == "enquire") {
            $('#modalBody').html('Form has been enquired!');
        }
        else if (txt == "cancelled") {
            $('#modalBody').html('Form has been cancelled!');
        }
        else {
            if (!isEdit) {
                $('#modalBody').html('Your form with ID: SFO' + txt + ' has been Re-Submitted! Kindly use this for future reference');
            } else {
                $('#modalBody').html('Your form with ID: SFO' + txt + ' has been submitted! Kindly use this for future reference');
            }
            FlagRedirect = txt;
        }
        $("#modalOkButton").attr('data-dismiss', 'modal');
        $("#successModel").modal('show');
    }

    //function failureModal() {
    //    $('#modalTitle').html('Failure');
    //    $('#modalBody').html('Some error occurred!');
    //    $("#modalOkButton").attr('data-dismiss', 'modal');
    //    $("#successModel").modal('show');
    //}

      function failureModal(txt) {
          if (txt == null) {
              $('#modalBody').html('Some error occurred!');
          }
        
          $('#modalTitle').html('Failure');
          $('#modalBody').html(txt);
          $("#modalOkButton").attr('data-dismiss', 'modal');
          $("#successModel").modal('show');
      }

    function fillFormModal() {
        $('#modalTitle').html('Required');
        $('#modalBody').html('Kindly fill the supplier details completely!');
        $("#modalOkButton").attr('data-dismiss', 'modal');
        $("#successModel").modal('show');
    }

    function currencyModal() {
        $('#modalTitle').html('Required');
        $('#modalBody').html('Kindly choose the currency in the transaction field!');
        $("#modalOkButton").attr('data-dismiss', 'modal');
        $("#successModel").modal('show');
    }

    function supplierCurrencyModal() {
        $('#modalTitle').html('Required');
        $('#modalBody').html('Kindly choose the currency in the supplier information section!');
        $("#modalOkButton").attr('data-dismiss', 'modal');
        $("#successModel").modal('show');
    }

    function drpDownAcceptModal() {
        $('#modalTitle').html('Required');
        $('#modalBody').html('Kindly choose an option for Technically Acceptance!');
        $("#modalOkButton").attr('data-dismiss', 'modal');
        $("#successModel").modal('show');
    }

    function devNoteModal() {
        $('#modalTitle').html('Required');
        $('#modalBody').html('Kindly upload Deviation Note!');
        $("#modalOkButton").attr('data-dismiss', 'modal');
        $("#successModel").modal('show');
    }

    function requiredModal() {
        $('#modalTitle').html('Required');
        $('#modalBody').html('Atleast 1 Supplier details are mandatory!');
        $("#modalOkButton").attr('data-dismiss', 'modal');
        $("#successModel").modal('show');
    }

    function requiredModal2(text) {
        $('#modalTitle').html('Required');
        $('#modalBody').html(text + '!');
        $("#modalOkButton").attr('data-dismiss', 'modal');
        $("#successModel").modal('show');
    }

    function mobileLengthModal() {
        $('#modalTitle').html('Required');
        $('#modalBody').html('Please enter a 10-Digit Mobile No.!');
        $("#modalOkButton").attr('data-dismiss', 'modal');
        $("#successModel").modal('show');
    }

    function otherModal() {
        $('#modalTitle').html('Required');
        $('#modalBody').html('Since "Other" is chosen in technically acceptance, add supporting comments');
        $("#modalOkButton").attr('data-dismiss', 'modal');
        $("#successModel").modal('show');
    }

    //function removeVal() {
    //    $('.validate').each(function () {
    //        $(this).removeClass('error');
    //    });
    //    $(".tableSupplier tr").find('input').each(function () {
    //        $(this).removeClass('error');
    //    });
    //}

    function AddRows() {
        var newCount = rowIdx + 1;
        console.log("count=" + newCount);
       // if (newCount <= 10) {

            var row = '<tr class="bdr-right bg-clr1" id="row' + newCount + '"><td class="sNo">' + newCount + '</td> <td style="width:300px;"><input type="text"'
                + ' class="form-control inpValidateName" name="txtSuppName" id="txtSuppName" autocomplete="off" maxlength="100" placeholder="" style="width:250px;"></td>'
                + ' <td class="comment-td"><select class="form-control mb-2 validate inpValidateTechAccept" name="drpAccept" id="drpAccept' + newCount + '" onchange="disableOptions(this)">'
                + '<option selected value="" disabled>Choose</option><option value="Ok">Ok</option><option value="Not Ok">Not Ok</option><option value="Offer not Submitted">Offer not Submitted</option><option value="No Response">No Response</option><option value="Regret To Quote">Regret To Quote</option><option value="Other">Other</option>'
                + '</select><span class="textareacomments" role="textbox" style="height:47px !important;" id="spanComment' + newCount + '" name="spanComment" onkeyup="assignComment(' + newCount + ')" contenteditable></span><input type="hidden" maxlength="150" id="txtComment' + newCount + '" name="txtComment" value="" class="inpValidateComment"></td>'
                + '<td class="suggestion_td" style="width:185px;"><select class="validate drpDisable inpValidateCurrency" name = "drpOfferCurrency" id = "drpOfferCurrency' + newCount + '" onchange="getCurrency(this)" required><option selected value="-1" disabled>Choose currency</option><option value="Rupee">Rupee</option>'
                + '<option value="USD">USD</option> <option value = "Australian Dollar"> Australian Dollar</option><option value="Singaporean Dollar">Singaporean Dollar</option>'
                + '<option value="Euro">Euro</option><option value="Pound">Pound</option><option value="Chinese Yuan">Chinese Yuan</option><option value="Japanese Yen">Japanese Yen</option><option value="Korean Won">Korean Won</option><option value="Czech Koruna">Czech Koruna</option></select>'
                + '<input type="text" class="form-control d-none inpValidateConversionRate mt-2" id="txtConversionRate' + newCount +'" name="txtConversionRate" value="" onkeypress="allowNumbersAndDecimalsOnly(event)" oninput="getConversionValues(this)"></td>'
                + '<td class="offerprice-col"><input type="text" class="form-control inpValidateOfferPrice" maxlength="14" autocomplete="off" name="txtOfferPrice" id="txtOfferPrice' + newCount + '" placeholder="" onkeypress="allowNumbersAndDecimalsOnly(event)" onkeyup="commaSeperator(event)"></td>'
                + '<td style="max-width:60px;vertical-align:central;">'
                + '<input class="remove-btn remove" type="image" src="/assets/img/remove.png" alt="Remove" style="max-width: 19px !important; background-color: white;">'
                + '</td></tr>';

            if (newCount == 1) {
                $('.tableSupplier').prepend(row);
            }
            else {
                $(".tableSupplier tr:last").after(row);
            }
           // $(".tableSupplier tr:last").after(row);
            drpArray.push('drpAccept' + newCount);
            txtArray.push('txtComment' + newCount);
            offerPriceArray.push('txtOfferPrice' + newCount);
            //console.log(drpArray);
            //console.log(txtArray);
            rowIdx++;
            srNo++;
            //console.log(rowIdx);
        //}
        //else {
        //    alert('Maximum 10 Suppliers can be added.');
        //}
    };

    function allowNumbersOnly(e) {

        var code = (e.which) ? e.which : e.keyCode;
        console.log(code);
        if (code > 31 && (code < 45 || code > 57)) {
            e.preventDefault();
        }
    }



    function alphaOnly(e) {
        var key = e.keyCode;
        if (key > 32 && (key < 65 || key > 122 || key == 91 || key == 92 || key == 93 || key == 94 || key == 95 || key == 96)) {
            e.preventDefault();
        }
    }

    function assignDesc() {
        console.log($("#txtDesc").text())
        $("#inputTextDesc").val($("#txtDesc").text());
    }

    function assignComment(i) {
        $("#txtComment" + i).val($("#spanComment" + i).text());
        $("#txtComment" + i).attr("placeholder", "cmt");

      }

    function hideConvert() {
            value = document.getElementById("drpCurrency").value;
            console.log(value);
            if (value == -1) {
                $("#divConversion").addClass('d-none');
                $("#euroLabel").addClass('d-none');
                $("#usdDollarLabel").addClass('d-none');
                $("#australianDollarLabel").addClass('d-none');
                $("#singaporeanDollarLabel").addClass('d-none');
                $("#rupeeLabel").addClass('d-none');
                $("#poundLabel").addClass('d-none');
                $("#chineseYuanLabel").addClass('d-none');
                $("#japaneseYenLabel").addClass('d-none');
                $("#koreanWonLabel").addClass('d-none');
                $("#czechKorunaLabel").addClass('d-none');
            }
            else if (value == "Rupee") {
                $("#divConversion").addClass('d-none');
                $("#rupeeLabel").removeClass('d-none');
                $("#euroLabel").addClass('d-none');
                $("#usdDollarLabel").addClass('d-none');
                $("#australianDollarLabel").addClass('d-none');
                $("#singaporeanDollarLabel").addClass('d-none');
                $("#poundLabel").addClass('d-none');
                $("#chineseYuanLabel").addClass('d-none');
                $("#japaneseYenLabel").addClass('d-none');
                $("#koreanWonLabel").addClass('d-none');
                $("#czechKorunaLabel").addClass('d-none');
            }
            else if (value == "USD") {
                $("#divConversion").removeClass('d-none');
                $("#usdDollarLabel").removeClass('d-none');
                $("#australianDollarLabel").addClass('d-none');
                $("#singaporeanDollarLabel").addClass('d-none');
                $("#euroLabel").addClass('d-none');
                $("#rupeeLabel").addClass('d-none');
                $("#poundLabel").addClass('d-none');
                $("#chineseYuanLabel").addClass('d-none');
                $("#japaneseYenLabel").addClass('d-none');
                $("#koreanWonLabel").addClass('d-none');
                $("#czechKorunaLabel").addClass('d-none');
            }
            else if (value == "Australian Dollar") {
                $("#divConversion").removeClass('d-none');
                $("#usdDollarLabel").addClass('d-none');
                $("#australianDollarLabel").removeClass('d-none');
                $("#singaporeanDollarLabel").addClass('d-none');
                $("#euroLabel").addClass('d-none');
                $("#rupeeLabel").addClass('d-none');
                $("#poundLabel").addClass('d-none');
                $("#chineseYuanLabel").addClass('d-none');
                $("#japaneseYenLabel").addClass('d-none');
                $("#koreanWonLabel").addClass('d-none');
                $("#czechKorunaLabel").addClass('d-none');
            }
            else if (value == "Singaporean Dollar") {
                $("#divConversion").removeClass('d-none');
                $("#usdDollarLabel").addClass('d-none');
                $("#australianDollarLabel").addClass('d-none');
                $("#singaporeanDollarLabel").removeClass('d-none');
                $("#euroLabel").addClass('d-none');
                $("#rupeeLabel").addClass('d-none');
                $("#poundLabel").addClass('d-none');
                $("#chineseYuanLabel").addClass('d-none');
                $("#japaneseYenLabel").addClass('d-none');
                $("#koreanWonLabel").addClass('d-none');
                $("#czechKorunaLabel").addClass('d-none');
            }
            else if (value == "Euro") {
                $("#divConversion").removeClass('d-none');
                $("#euroLabel").removeClass('d-none');
                $("#usdDollarLabel").addClass('d-none');
                $("#australianDollarLabel").addClass('d-none');
                $("#singaporeanDollarLabel").addClass('d-none');
                $("#rupeeLabel").addClass('d-none');
                $("#poundLabel").addClass('d-none');
                $("#chineseYuanLabel").addClass('d-none');
                $("#japaneseYenLabel").addClass('d-none');
                $("#koreanWonLabel").addClass('d-none');
                $("#czechKorunaLabel").addClass('d-none');
            }
            else if (value == "Pound") {
                $("#divConversion").removeClass('d-none');
                $("#euroLabel").addClass('d-none');
                $("#usdDollarLabel").addClass('d-none');
                $("#australianDollarLabel").addClass('d-none');
                $("#singaporeanDollarLabel").addClass('d-none');
                $("#rupeeLabel").addClass('d-none');
                $("#poundLabel").removeClass('d-none');
                $("#chineseYuanLabel").addClass('d-none');
                $("#japaneseYenLabel").addClass('d-none');
                $("#koreanWonLabel").addClass('d-none');
                $("#czechKorunaLabel").addClass('d-none');
            }
            else if (value == "Chinese Yuan") {
                $("#divConversion").removeClass('d-none');
                $("#euroLabel").addClass('d-none');
                $("#usdDollarLabel").addClass('d-none');
                $("#australianDollarLabel").addClass('d-none');
                $("#singaporeanDollarLabel").addClass('d-none');
                $("#rupeeLabel").addClass('d-none');
                $("#poundLabel").addClass('d-none');
                $("#chineseYuanLabel").removeClass('d-none');
                $("#japaneseYenLabel").addClass('d-none');
                $("#koreanWonLabel").addClass('d-none');
                $("#czechKorunaLabel").addClass('d-none');
            }
            else if (value == "Japanese Yen") {
                $("#divConversion").removeClass('d-none');
                $("#euroLabel").addClass('d-none');
                $("#usdDollarLabel").addClass('d-none');
                $("#australianDollarLabel").addClass('d-none');
                $("#singaporeanDollarLabel").addClass('d-none');
                $("#rupeeLabel").addClass('d-none');
                $("#poundLabel").addClass('d-none');
                $("#chineseYuanLabel").addClass('d-none');
                $("#japaneseYenLabel").removeClass('d-none');
                $("#koreanWonLabel").addClass('d-none');
                $("#czechKorunaLabel").addClass('d-none');
            }
            else if (value == "Korean Won") {
                $("#divConversion").removeClass('d-none');
                $("#euroLabel").addClass('d-none');
                $("#usdDollarLabel").addClass('d-none');
                $("#australianDollarLabel").addClass('d-none');
                $("#singaporeanDollarLabel").addClass('d-none');
                $("#rupeeLabel").addClass('d-none');
                $("#poundLabel").addClass('d-none');
                $("#chineseYuanLabel").addClass('d-none');
                $("#japaneseYenLabel").addClass('d-none');
                $("#koreanWonLabel").removeClass('d-none');
                $("#czechKorunaLabel").addClass('d-none');
            }
            else if (value == "Czech Koruna") {
                $("#divConversion").removeClass('d-none');
                $("#euroLabel").addClass('d-none');
                $("#usdDollarLabel").addClass('d-none');
                $("#australianDollarLabel").addClass('d-none');
                $("#singaporeanDollarLabel").addClass('d-none');
                $("#rupeeLabel").addClass('d-none');
                $("#poundLabel").addClass('d-none');
                $("#chineseYuanLabel").addClass('d-none');
                $("#japaneseYenLabel").addClass('d-none');
                $("#koreanWonLabel").addClass('d-none');
                $("#czechKorunaLabel").removeClass('d-none');
            }
        }

    function getCurrency(ele) {
          var val = $(ele).val();
          //console.log(val);
          var id = $(ele).attr("id");
          //console.log(id);
          var index = id.replace("drpOfferCurrency","");
          //console.log("index=" + index);
          //var index = splitid;

          if (val == "Rupee") {
              $("#txtConversionRate" + index).addClass('d-none');
              $("#txtConversionRate" + index).val(1);
          }
          else {
              $("#txtConversionRate" + index).val("");
              $("#txtConversionRate" + index).removeClass('d-none');
          }
      }

      function disableOptions(ele) {
          var val = $(ele).val();
          console.log("val : "+val);
          var id = $(ele).attr("id");
          console.log("id : " + id);
          var index = id.replace("drpAccept", "");
          if (val == 'Offer not Submitted' || val == 'No Response' || val == 'Regret To Quote') {
              $("#drpOfferCurrency" + index).val("");
              $("#txtConversionRate" + index).val("");
              $("#txtOfferPrice" + index).val("");
              $("#drpOfferCurrency" + index).prop("disabled", "disabled");
              $("#txtConversionRate" + index).prop("disabled", "disabled");
              $("#txtOfferPrice" + index).prop("disabled", "disabled");
            

          }
          else {
              $("#drpOfferCurrency" + index).prop("disabled", false);
              $("#txtConversionRate" + index).prop("disabled", false);
              $("#txtOfferPrice" + index).prop("disabled", false);
          }
      }

    //$('#txtBudget').keyup(function (event) {
    //    // skip for arrow keys
    //    if (event.which >= 37 && event.which <= 40) return;

    //    // format number
    //    $(this).val(function (index,value) {
    //        //return value.replace(/\D/g, "").replace(/\B(?=(\d{3})+(?!\d))/g, ",");
    //        return value.replace(/\D/g, "").replace(/\B(?=(\d{3})+(?!\d))/g, ",");
    //    });
    //});

      $(".allow_decimal").on("input", function (evt) {
          var self = $(this);
          self.val(self.val().replace(/[^0-9\.]/g, ''));
          if ((evt.which != 46 || self.val().indexOf('.') != -1) && (evt.which < 48 || evt.which > 57)) {
              evt.preventDefault();
          }
      });

    $("#checkBoxDeviationNote").change(function () {
       // ////
        if (this.checked) {
            $("#uploadFileDiv").removeClass('d-none');
            //if (!isEdit) {
            //    $("#dnfFileUpload").removeClass('d-none');
            //}
            //else {
            //    $("#dnfFileUpload").removeClass('d-none');
            //}
        }

        else {
            $("#uploadFileDiv").addClass('d-none');
            //if (!isEdit) {
            //    $("#dnfFileUpload").addClass('d-none');
            //}
            //else {
            //    $("#dnfFileUpload").addClass('d-none');
            //}
        }

    });

    $("#btnSubmit").on('click', function (e) {
        
        let errorCount = 1;
        e.preventDefault();

        var errors = "";
        //assignDesc();
        var isEmpty = false;

        if (!isEdit) {
            var fileToUpload = $("#fileToUpload").val();
            if (fileToUpload != "") {
                $("#attachedfile").val('');
                $("#attachedfileName").val('');
            }
        }


        if (($("#chkInternal").prop("checked") == false) && ($("#chkExternal").prop("checked") == false)) {
            errors += "<li id='error" + errorCount + "'>" + "Type of Employee" + "</li>";
            $("#chkInternal").addClass('removeTypeOfEmp');
            $("#chkExternal").addClass('removeTypeOfEmp');
            AddError("lblTypeOfEmp", 'removeTypeOfEmp', errorCount);
            errorCount++;
        }
        else {
            RemoveError("lblTypeOfEmp");
        }

        var name = document.getElementById("txtEmployeeName").value;
        if (name == "") {
            errors += "<li id='error" + errorCount + "'>" + "Employee Name" + "</li>";
            AddError("txtEmployeeName", '', errorCount);
            errorCount++;
        }
        else {
            RemoveError("txtEmployeeName");
        }

        var costCenterNumlen = $("#txtCostcenterCode").val().length;
        if (costCenterNumlen == 0 || costCenterNumlen < 0) {
            errors += "<li id='error" + errorCount + "'>" + "Cost Center Code" + "</li>";
            AddError("txtCostcenterCode", '', errorCount);
            errorCount++;
        }
        else {
            RemoveError("txtCostcenterCode");
        }

        var employeeCodelen = $("#txtEmployeeCode").val().length;
        if (employeeCodelen == 0 || employeeCodelen < 0) {
            errors += "<li id='error" + errorCount + "'>" + "Employee Code" + "</li>";
            AddError("txtEmployeeCode", '', errorCount);
            errorCount++;
        }
        else {
            RemoveError("txtEmployeeCode");
        }

        var userId = document.getElementById("txtUserId").value;
        if (userId == "") {
            errors += "<li id='error" + errorCount + "'>" + "User Id" + "</li>";
            AddError("txtUserId", '', errorCount);
            errorCount++;
        }
        else {
            RemoveError("txtUserId");
        }

        var department = document.getElementById("txtDepartment").value;
        if (department == "") {
            errors += "<li id='error" + errorCount + "'>" + "Department" + "</li>";
            AddError("txtDepartment", '', errorCount);
        }
        else {
            RemoveError("txtDepartment");
        }

        var designation = $("#ddEmpDesignation option:selected").val();
        if (designation == "") {
            errors += "<li id='error" + errorCount + "'>" + "Designation" + "</li>";
            AddError("ddEmpDesignation", '', errorCount);
            errorCount++;
        }
        else {
            RemoveError("ddEmpDesignation");
        }

        var location = $("#ddEmpLocation option:selected").val();
        if (location == "") {
            errors += "<li id='error" + errorCount + "'>" + "Location " + "</li>";
            AddError("ddEmpLocation", '', errorCount);
            errorCount++;
        }
        else {
            RemoveError("ddEmpLocation");
        }

        var requestSubmissionFor = $("#drpRequestSubmissionFor option:selected").val();
        console.log(requestSubmissionFor);
        if (requestSubmissionFor == "") {
            errors += "<li id='error" + errorCount + "'>" + "Request Submission Type" + "</li>";
            AddError("drpRequestSubmissionFor", '', errorCount);
            errorCount++;
        }
        else {
            RemoveError("drpRequestSubmissionFor");
        }


        if (requestSubmissionFor == "OnBehalf") {
            if (($('input:radio[value="SAVWIPLEmployee"]').prop("checked") == false) && ($('input:radio[value="Others"]').prop("checked") == false)) {
                errors += "<li id='error" + errorCount + "'>" + "Employee Type" + "</li>";

                $('input:radio[value="SAVWIPLEmployee"]').addClass('removeEmpType');
                $('input:radio[value="Others"]').addClass('removeEmpType');

                AddError("lblEmpType", 'removeEmpType', errorCount);
                errorCount++;
            }
            else {
                RemoveError("lblEmpType");

                var onBehalfOptionSelected = $("#rdOnBehalfOptionSelected").val();
                if (onBehalfOptionSelected == "SAVWIPLEmployee") {

                    var otherExistName = document.getElementById("txtOtherEmployeeName").value;
                    if (otherExistName == "") {
                        errors += "<li id='error" + errorCount + "'>" + "Applicant Employee Name " + "</li>";
                        AddError("txtOtherEmployeeName", '', errorCount);
                        errorCount++;
                    }
                    else {
                        RemoveError("txtOtherEmployeeName");
                    }

                    var otherCostCenterNumlen = $("#txtOtherCostcenterCode").val().length;
                    if (otherCostCenterNumlen == 0 || otherCostCenterNumlen < 0) {
                        errors += "<li id='error" + errorCount + "'>" + "Applicant Cost Center Code " + "</li>";
                        AddError("txtOtherCostcenterCode", '', errorCount);
                        errorCount++;
                    }
                    else {
                        RemoveError("txtOtherCostcenterCode");
                    }

                    var otherEmployeeCodelen = $("#txtOtherEmployeeCode").val().length;
                    if (otherEmployeeCodelen == 0 || otherEmployeeCodelen < 0) {
                        errors += "<li id='error" + errorCount + "'>" + "Applicant Employee Code" + "</li>";
                        AddError("txtOtherEmployeeCode", '', errorCount);
                        errorCount++;
                    }
                    else {
                        RemoveError("txtOtherEmployeeCode");
                    }

                    var otherUserId = document.getElementById("txtOtherUserId").value;
                    if (otherUserId == "") {
                        errors += "<li id='error" + errorCount + "'>" + "Applicant User Id " + "</li>";
                        AddError("txtOtherUserId", '', errorCount);
                        errorCount++;
                    }
                    else {
                        RemoveError("txtOtherUserId");
                    }

                    var otherDepartment = document.getElementById("txtOtherDepartment").value;
                    if (otherDepartment == "") {
                        errors += "<li id='error" + errorCount + "'>" + "Applicant Department " + "</li>";
                        AddError("txtOtherDepartment", '', errorCount);
                        errorCount++;
                    }
                    else {
                        RemoveError("txtOtherDepartment");
                    }

                    var otherEmailId = document.getElementById("txtOtherEmailId").value;
                    if (otherEmailId != "") {
                        RemoveError("txtOtherEmailId");
                        var IsValidEmail = validateEmail(otherEmailId, DomainID);
                        if (IsValidEmail == false) {
                            errors += "<li id='error" + errorCount + "'>" + "Invalid Email-Id in Applicant Details" + "</li>";
                            AddError("txtOtherEmailId", '', errorCount);
                            errorCount++;
                        }
                        else {
                            RemoveError("txtOtherEmailId");
                        }
                    }
                    else {
                        errors += "<li id='error" + errorCount + "'>" + "Applicant Email-Id" + "</li>";
                        AddError("txtOtherEmailId", '', errorCount);
                        errorCount++;
                    }

                    var otherDesignation = $("#ddOtherEmpDesignation option:selected").val();
                    if (otherDesignation == "") {
                        errors += "<li id='error" + errorCount + "'>" + "Applicant Designation" + "</li>";
                        AddError("ddOtherEmpDesignation", '', errorCount);
                        errorCount++;
                    }
                    else {
                        RemoveError("ddOtherEmpDesignation");
                    }

                    var otherLocation = $("#ddOtherEmpLocation option:selected").val();
                    if (otherLocation == "") {
                        errors += "<li id='error" + errorCount + "'>" + "Applicant Location" + "</li>";
                        AddError("ddOtherEmpLocation", '', errorCount);
                        errorCount++;
                    }
                    else {
                        RemoveError("ddOtherEmpLocation");
                    }

                    if (($("#chkOtherInternal").prop("checked") == false) && ($("#chkOtherExternal").prop("checked") == false)) {
                        errors += "<li id='error" + errorCount + "'>" + "Applicant : Type of Employee " + "</li>";
                        $("#chkOtherInternal").addClass('removeSAVWIPLEmployeeTypeOfEmp');
                        $("#chkOtherExternal").addClass('removeSAVWIPLEmployeeTypeOfEmp');
                        AddError("lblSAVWIPLEmployeeTypeOfEmp", 'removeSAVWIPLEmployeeTypeOfEmp', errorCount);
                        errorCount++;
                    }
                    else {
                        RemoveError("lblSAVWIPLEmployeeTypeOfEmp");
                    }

                }
                else if (onBehalfOptionSelected == "Others") {
                    var otherNewName = document.getElementById("txtOtherNewEmployeeName").value;
                    if (otherNewName == "") {
                        errors += "<li id='error" + errorCount + "'>" + "Applicant Employee Name " + "</li>";
                        AddError("txtOtherNewEmployeeName", '', errorCount);
                        errorCount++;
                    }
                    else {
                        RemoveError("txtOtherNewEmployeeName");
                    }

                    var otherCostCenterNumlen = $("#txtOtherNewCostcenterCode").val().length;
                    if (otherCostCenterNumlen == 0 || otherCostCenterNumlen < 0) {
                        errors += "<li id='error" + errorCount + "'>" + "Applicant Cost Center Code " + "</li>";
                        AddError("txtOtherNewCostcenterCode", '', errorCount);
                        errorCount++;
                    }
                    else {
                        RemoveError("txtOtherNewCostcenterCode");
                    }

                    var otherEmployeeCodelen = $("#txtOtherNewEmployeeCode").val().length;
                    if (otherEmployeeCodelen == 0 || otherEmployeeCodelen < 0) {
                        errors += "<li id='error" + errorCount + "'>" + "Applicant Employee Code" + "</li>";
                        AddError("txtOtherNewEmployeeCode", '', errorCount);
                        errorCount++;
                    }
                    else {
                        RemoveError("txtOtherNewEmployeeCode");
                    }

                    var otherUserId = document.getElementById("txtOtherNewUserId").value;
                    if (otherUserId == "") {
                        errors += "<li id='error" + errorCount + "'>" + "Applicant User Id " + "</li>";
                        AddError("txtOtherNewUserId", '', errorCount);
                        errorCount++;
                    }
                    else {
                        RemoveError("txtOtherNewUserId");
                    }

                    var otherDepartment = document.getElementById("txtOtherNewDepartment").value;
                    if (otherDepartment == "") {
                        errors += "<li id='error" + errorCount + "'>" + "Applicant Department " + "</li>";
                        AddError("txtOtherNewDepartment", '', errorCount);
                        errorCount++;
                    }
                    else {
                        RemoveError("txtOtherNewDepartment");
                    }

                    var otherEmailId = document.getElementById("txtOtherNewEmailId").value;
                    if (otherEmailId != "") {
                        RemoveError("txtOtherNewEmailId");
                        var IsValidEmail = validateEmail(otherEmailId, DomainID);
                        if (IsValidEmail == false) {
                            errors += "<li id='error" + errorCount + "'>" + "Invalid Email-Id in Applicant Details" + "</li>";
                            AddError("txtOtherNewEmailId", '', errorCount);
                            errorCount++;
                        }
                        else {
                            RemoveError("txtOtherNewEmailId");
                        }
                    }
                    else {
                        errors += "<li id='error" + errorCount + "'>" + "Applicant Email-Id" + "</li>";
                        AddError("txtOtherNewEmailId", '', errorCount);
                        errorCount++;
                    }

                    var otherDesignation = $("#ddOtherNewEmpDesignation option:selected").val();
                    if (otherDesignation == "") {
                        errors += "<li id='error" + errorCount + "'>" + "Applicant Designation" + "</li>";
                        AddError("ddOtherNewEmpDesignation", '', errorCount);
                        errorCount++;
                    }
                    else {
                        RemoveError("ddOtherNewEmpDesignation");
                    }

                    var otherLocation = $("#ddOtherNewEmpLocation option:selected").val();
                    if (otherLocation == 0) {
                        errors += "<li id='error" + errorCount + "'>" + "Applicant Location" + "</li>";
                        AddError("ddOtherNewEmpLocation", '', errorCount);
                        errorCount++;
                    }
                    else {
                        RemoveError("ddOtherNewEmpLocation");
                    }

                    if (($("#chkOtherNewInternal").prop("checked") == false) && ($("#chkOtherNewExternal").prop("checked") == false)) {
                        errors += "<li id='error" + errorCount + "'>" + "Applicant : Type of Employee " + "</li>";
                        $("#chkOtherNewInternal").addClass('removeOthrTypeOfEmp');
                        $("#chkOtherNewExternal").addClass('removeOthrTypeOfEmp');
                        AddError("lblOthrTypeOfEmp", 'removeOthrTypeOfEmp', errorCount);
                        errorCount++;
                    }
                    else {
                        RemoveError("lblOthrTypeOfEmp");
                    }
                }
            }
        }

        //var shopCart = $("#txtShopCart").val().length;
        //if (shopCart == 0 || shopCart < 0) {
        //    errors += "<li id='error" + errorCount + "'>" + "Shopping Cart Number " + "</li>";
        //    AddError("txtShopCart", '', errorCount);
        //    errorCount++;
        //}
        //else {
        //    RemoveError("txtShopCart");
        //}

        var concernedSection = document.getElementById("txtSection").value;
        if (concernedSection == "") {
            errors += "<li id='error" + errorCount + "'>" + "Concerned Section " + "</li>";
            AddError("txtSection", '', errorCount);
            errorCount++;
        }
        else {
            RemoveError("txtSection");
        }
        var budget = $("#txtBudget").val().length;
        if (budget == 0 || budget < 0) {
            errors += "<li id='error" + errorCount + "'>" + "Budget" + "</li>";
            AddError("txtBudget", '', errorCount);
            errorCount++;
        }
        else {
            RemoveError("txtBudget");
        }

        var currency = $("#drpCurrency option:selected").val();
        console.log("curr=" + currency);
        if (currency == "" || currency==-1) {
            errors += "<li id='error" + errorCount + "'>" + "Currency" + "</li>";
            AddError("drpCurrency", '', errorCount);
            errorCount++;
        }
        else {
            RemoveError("drpCurrency");
        }

        var conversionValue = document.getElementById("txtConvert").value;
        console.log("conversionValue=" + conversionValue);

        if (conversionValue <= 0) {
            if (currency != "Rupee" && currency!=-1) {
                errors += "<li id='error" + errorCount + "'>" + "Conversion Value" + "</li>";
                AddError("txtConvert", '', errorCount);
                errorCount++;
            }
        }
        else {
            RemoveError("drpCurrency");
        }

        var inputTextDesc = document.getElementById("inputTextDesc").value;
        if (inputTextDesc == "") {
            errors += "<li id='error" + errorCount + "'>" + "Descritption" + "</li>";
            AddError("inputTextDesc", '', errorCount);
            errorCount++;
        }
        else {
            RemoveError("inputTextDesc");
        }


        if (document.getElementById("checkBoxDeviationNote").checked) {
            var fileToUpload = $("#fileToUpload").val();
            if (isNew) {
                if (!isEdit) {

                }
                else {
                    if (fileToUpload == "") {
                        errors += "<li id='error" + errorCount + "'>" + "Deviation Note" + "</li>";
                        AddError("fileToUpload", '', errorCount);
                        errorCount++;
                    }
                }
            }

        }


        var isEmpty = false;
        let firstSupplierCount = $(".inpValidateName").length;

        if (firstSupplierCount > 0) {

            let rowCount = 1;

            $(".tableSupplier").find('tr').each(function () {
                let currentTr = $(this);
                let currSuppName = $(currentTr).find(".inpValidateName").val();
                console.log("currSuppName="+currSuppName);
                let currAccept = $(currentTr).find(".inpValidateTechAccept").val();
                console.log("currAccept="+currAccept);
                let currCurrency = $(currentTr).find(".inpValidateCurrency").val();
                console.log("currCurrency="+currCurrency);
                let currPrice = $(currentTr).find(".inpValidateOfferPrice").val();
                console.log("currPrice=" + currPrice);
                let currComments = $(currentTr).find(".inpValidateComment").val();
                console.log("currComments=" + currComments);
                let currConRate = $(currentTr).find(".inpValidateConversionRate").val();
                console.log("currConRate=" + currConRate);

                if (currSuppName.trim() == '' && currAccept == null && currCurrency == null && currPrice.trim() == '') {

                    errors += "<li id='error" + errorCount + "'>" + "Enter data in row " + rowCount + " or remove the row in Supplier Details." + "</li>";
                    $("#lblSuppDet").addClass('removeDetails');
                    AddError("lblSuppDet", 'removeDetails', errorCount);
                    errorCount++;
                }
                else if (currSuppName.trim() != '' && currAccept != null && currCurrency != null && currPrice.trim() != '' && (currComments != '' || currComments == null)) {
                    RemoveError("lblSuppDet");
                    isEmpty = true;
                }
                else if (currSuppName.trim() != '' || currAccept != null || currCurrency != null || currPrice.trim() != '' || currComments != '' || currComments == null || currConRate==null) {
                    if (currSuppName.trim() == '') {

                        errors += "<li id='error" + errorCount + "'>" + "Supplier Name in Row " + rowCount + "</li>";
                        $("#lblSuppDet").addClass('removeDetails');
                        AddError("lblSuppDet", 'removeDetails', errorCount);
                        errorCount++;
                        isEmpty = true;
                    }

                    if (currAccept == null) {

                        errors += "<li id='error" + errorCount + "'>" + "Tachnically Acceptance in Row " + rowCount + "</li>";
                        $("#lblSuppDet").addClass('removeDetails');
                        AddError("lblSuppDet", 'removeDetails', errorCount);
                        errorCount++;
                        isEmpty = true;
                    }
                   else if (currAccept == "Other" && (currComments == '' || currComments == null)) {
                            errors += "<li id='error" + errorCount + "'>" + "Comments in Row " + rowCount + "</li>";
                            $("#lblSuppDet").addClass('removeDetails');
                            AddError("lblSuppDet", 'removeDetails', errorCount);
                            errorCount++;
                            isEmpty = true;
                        }
                        else {
                            RemoveError("lblSuppDet");
                        }

                    if (currAccept == 'Ok' || currAccept == 'Not Ok' || currAccept == 'Other') {
                        isEmpty = true;
                        if (currCurrency == null) {

                            errors += "<li id='error" + errorCount + "'>" + "Currency in Row " + rowCount + "</li>";
                            $("#lblSuppDet").addClass('removeDetails');
                            AddError("lblSuppDet", 'removeDetails', errorCount);
                            errorCount++;
                            isEmpty = true;
                        }
                        else if (currCurrency != "Rupee" && (currConRate == null || currConRate == '')) {
                            errors += "<li id='error" + errorCount + "'>" + "Conversion Rate in Row " + rowCount + "</li>";
                            $("#lblSuppDet").addClass('removeDetails');
                            AddError("lblSuppDet", 'removeDetails', errorCount);
                            errorCount++;
                            isEmpty = true;
                        }
                        else {
                            RemoveError("lblSuppDet");
                        }


                        if (currPrice.trim() == '') {

                            errors += "<li id='error" + errorCount + "'>" + "Offer Price in Row " + rowCount + "</li>";
                            $("#lblSuppDet").addClass('removeDetails');
                            AddError("lblSuppDet", 'removeDetails', errorCount);
                            errorCount++;
                            isEmpty = true;
                        }
                        else {
                            RemoveError("lblSuppDet");
                        }
                    }
                }
                rowCount++;
            });
        }
        else {
            RemoveError("lblSuppDet");
            errors += "<li id='error" + errorCount + "'>" + "Fill data for atleast 1 Supplier Details" + "</li>";
            $("#lblSuppDet").addClass('removeDet');
            AddError("lblSuppDet", 'removeDet', errorCount);
            errorCount++;
        }

        if (isEmpty == false) {
            errors += "<li id='error" + errorCount + "'>" + "Please enter at least 1 valid Offer Price" + "</li>";
            $("#lblSuppDet").addClass('removeDetails');
            AddError("lblSuppDet", 'removeDetails', errorCount);
            errorCount++;
        }
        else {
            RemoveError("lblSuppDet");
        }

        //  if (isEmpty == false) {
        //    var length = document.getElementsByName("txtOfferPrice").length;
        //    for (i = 0; i < length - 1; i++) {

        //        var example = (document.getElementsByName("txtOfferPrice")[i].value).trim("|") + "|";
        //        console.log(example);
        //        document.getElementsByName("txtOfferPrice")[i].value = example;

        //    }
        //}


        var reasonForTechDisqualify = document.getElementById("txtTechDisqualify").value;
        if (reasonForTechDisqualify == "") {
            errors += "<li id='error" + errorCount + "'>" + "Reason for Technical Disqualification/ Not Ok Supplier(s) " + "</li>";
            AddError("txtTechDisqualify", '', errorCount);
            errorCount++;
        }
        else {
            RemoveError("txtTechDisqualify");
        }


        if (errors.length) {
            errors = "<ol id='errorList'>" + errors + "</ol>";
            $("#headingErr").removeClass('d-none');
            document.getElementById("add_to_me").innerHTML = errors;
            if (!isEdit) {
                $("#myModalRequest").scrollTop(0);
            }
            else {
                $(window).scrollTop(0);
            }
            return false;
        }

        $("#headingErr").addClass('d-none');
        document.getElementById("add_to_me").innerHTML = '';

        $(".dynamicHiddenField").remove();
        $("#tblSupplierDetails tr").each(function (index, element) {

            if (index != 0) {
                let currentRow = $(this);
                let input = $(currentRow).find("td:eq(4) input");
                console.log($(input));
                $(input).closest('td').append('<input type="hidden" class="dynamicHiddenField" value="' + $(input).val().replace(/,/g, '|!') + '" name="txtOfferPricePost" />');
            }
        })
      
      
        $("#pageLoader").removeClass('invisible');

        var form = $("#sfoForm");
        $("#btnSubmit").text('Saving');
        $("#btnSubmit").prop("disabled", true);
        $("#btnCancel").prop("disabled", true);

        var formData = new FormData(form[0]);

        $.ajax({
            url: '/SFOOrder/SaveOrder',
            processData: false,
            contentType: false,
            type: 'POST',
            data: formData,
            enctype: 'multipart/form-data',
             //dataType: 'JSON',
            success: (function (data) {
                /* if (data[0].Value == 1) {*/
                if (data.Status == 200) {
                    $("#pageLoader").addClass('invisible');
                    if (isNew && isEdit) {
                        $("#btnSubmit").text('Submit');
                    }
                    else {
                        $("#btnSubmit").text('Re-Submit');
                    }
                    $("#btnSubmit").prop("disabled", false);
                    $("#btnCancel").prop("disabled", false);
                    /* successModal(data[1].Value);*/
                    successModal(data.Message);
                    $("#sfoForm").trigger("reset");
                }
                else {
                    /*failureModal();*/
                    failureModal(data.Message);
                    $("#pageLoader").addClass('invisible');
                    if (isNew && isEdit) {
                        $("#btnSubmit").text('Submit');
                    }
                    else {
                        $("#btnSubmit").text('Re-Submit');
                    }
                    $("#btnSubmit").prop("disabled", false);
                    $("#btnCancel").prop("disabled", false);
                }
            }),
            error: (function (data) {
                $("#pageLoader").addClass('invisible');
                if (isNew && isEdit) {
                    $("#btnSubmit").text('Submit');
                }
                else {
                    $("#btnSubmit").text('Re-Submit');
                }
                $("#btnSubmit").prop("disabled", false);
                $("#btnCancel").prop("disabled", false);
            })
        })
        $("#tab").val(2);
    });

    $("#btnCancel").on('click', function (e) {
            ////
            $("#headingErr").addClass('d-none');
            document.getElementById("add_to_me").innerHTML = '';
            if ($('#myModalRequest').hasClass('show'))
                $('#myModalRequest').modal('hide');
            else
                $('#myModalEdit').modal('hide');
            if (isNew && isEdit) {
                window.location = "../Dashboard";
            }
        });

    $(document).ready(function () {
        if (isNew) {
            rowIdx = 1;
            srNo = 1;
        }
        if (isNew) {
            if (!isEdit) {
                var total = parseInt(document.getElementById("orderItemsTotal").value);
                rowIdx = total;
                srNo = total;
            }
            else {
                rowIdx = 1;
                srNo = 1;
            }
        }


        $('#tbody').on('click', '.remove', function () {
            ////
            var delRow = $(this).closest('tr').attr('id');
            console.log(delRow+" a");
            var delRowNo = parseInt(delRow.substring(3));
            console.log(delRowNo + " b");
            //if ((delRow == "row1") && (delRowNo == 1)) {
            //    //requiredModal();
            //    DisplayAlert('error', 'Warning', 'Ateast 1 Supplier details are mandatory!');
            //    //alert("Ateast 1 Supplier details are mandatory!");
            //    return false;
            //}
            var rowCount = $('#tbody tr').length;
            //if (rowCount == 1) {
            //    alert("Atleast 1 Supplier details are mandatory!");
            //    return false;
            //}
            //else {
                var delDropVal = 'drpAccept' + delRowNo;
                var delTextVal = 'txtComment' + delRowNo;
                drpArray = drpArray.filter(item => item != delDropVal);
                txtArray = txtArray.filter(item => item != delTextVal);

                console.log(drpArray);
                console.log(txtArray);

                var child = $(this).closest('tr').nextAll();
                console.log(child);
                child.each(function () {
                    //////
                    // Getting <tr> id.
                    var id = $(this).attr('id');
                    console.log(id);

                    //  Getting the <p> inside the .row-index class.
                    var idx = $(this).children('.row-index').children('p');
                    console.log(idx);

                    // Gets the row number from <tr> id.
                    var dig = parseInt(id.substring(3));
                    console.log(dig);

                    // Modifying row index.
                    idx.html(`row${dig - 1}`);

                    // Modifying row id.
                    $(this).attr('id', `row${dig - 1}`);

                    //assigning updated serial number
                    //////
                    updatedDig = dig - 1;
                    console.log(updatedDig);
                    $('#row' + updatedDig + ' .sNo').html(updatedDig);

                });

                // Removing the current row.
                $(this).closest('tr').remove();
                // Decreasing total number of rows by 1.
                rowIdx--;
                //console.log(rowIdx);
            //}
        });
    });


    /*function RemoveBtn(count) {
        $('#row' + count).remove();
        var rowCount = $('.tableSupplier tr').length;
        for (var i = 1; i <= rowCount; i++) {
            var x = count + 1;
            $('#row' + x).attr("id", "row" + count);
            $('#row' + count + ' .sNo').html(count);
            count++;
        }
    }*/

    function validityModal(txt) {
        //////
        if (txt == 'approve') {
            DisplayAlert('error', 'Warning', 'Please choose both validity dates');
        }
        else if (txt == 'reject') {
            DisplayAlert('error', 'Warning', 'Please type in the reason for rejecting the form');
        }
        else if (txt == 'enquire') {
            DisplayAlert('error', 'Warning', 'Please type in the reason for enquiring the form');
        }
    }

    function saveResponse(text) {
        var status = '', comment = '';
        comment = $("#comment-" + text).val();
        switch (text) {
            case 'approve': {
                status = 'Approved';
                break;
            }
            case 'reject': {
                status = 'Rejected';
                if (comment == '') {
                    validityModal(text);
                    return;
                }
                break;
            }
            case 'enquire': {
                status = 'Enquired';
                if (comment == '') {
                    validityModal(text);
                    return;
                }
                break;
            }
        }
        spinner.show();
        $.ajax({
            url: '/List/SaveResponse',
            type: 'POST',
            data: { response: status, appRowId: appRowId, comment: comment, approvalType: approvalType},
            dataType: 'JSON',
            success: (function (data) {
                if (data.Result == 1) {
                    successModal(text);
                    //$("#sfoForm").trigger("reset");
                    //removeVal();
                    //setTimeout(ReloadMyTasks, 8000)
                    setTimeout(FilterMyTasks, 5000)
                    spinner.hide();
                }
                else {
                    failureModal();
                    //$("#sfoForm").trigger("reset");
                    //removeVal();
                    spinner.hide();
                }
            }),
            error: (function (data) {
                failureModal();
                //$("#sfoForm").trigger("reset");
                //removeVal();
                spinner.hide();
            })
        })
        $("#tab").val(1);
        return false;
    }

    $('#successModel').on('hidden.bs.modal', function () {
            ////
            var tab = $("#tab").val();
            console.log(tab);
            if (tab == 1) {
                GetMyTaskTab();
            }
            else if (tab == 2) {
                window.location = "../Dashboard?tab=" + tab;
            }
        })

    $("input[type='date']").keydown(function (event) {
            event.preventDefault();
        });

    $('#myModal').modal({ backdrop: 'static', keyboard: false })


    function commafyPhone(str) {
        //////
        var newStr = '';
        if (str.length < 43) {
        if (str.length > 10) {
            var str_array = str.split(",");
            for (var i = 0; i < str_array.length; i++) {
                newStr += str_array[i].replace(/(\d{10})/g, '$1,');
            }
            return newStr;
        }
       }
        return str;
    }

        var DomainID = [];
        function getDomainIDs() {
            $.ajax
                ({
                    type: "POST",
                    url: "/List/GetDomainIDs",
                    contentType: "application/json; charset=utf-8",
                    datatype: 'json',
                    cache: false,
                    async: true,
                    success: function (data) {
                        DomainID = data;
                        //console.log("DomainIDs=" + DomainID);
                    },
                    error: function (data) {
                        //code
                    }
                });
        }

      function getConversionValue()
      {
           var val = document.getElementById("txtConvert").value;
          var len = val.length;
          console.log("len=" + len);
          var result = val.includes(".");

          if (result == true) {
              var x = val.indexOf(".");
              console.log("index of dot = " + x);
              if (x == 3) {
                  $("#txtConvert").attr("maxlength", 6);
              }
              else if (x == 2) {
                  $("#txtConvert").attr("maxlength", 5);
              }
          }
          else if (len > 3)
          {
              var ch = val.substring(val.length - 1);
              console.log("ch=" + ch);
              if (ch != ".") {
                    $("#txtConvert").val(val.slice(0, val.length - 1));
                    $("#txtConvert").attr("maxlength", 3);
              }

          }
      }

      function getConversionValues(ele) {
          console.log(ele.id);
          var id = ele.id;
          var val = $(ele).val();
          console.log(val);
          //var val = document.getElementById("txtConvert").value;
          var len = val.length;
          //console.log("len=" + len);
          var result = val.includes(".");

          if (result == true) {
              var x = val.indexOf(".");
              console.log("index of dot = " + x);
              if (x == 3) {
                  $('#'+id+'').attr("maxlength", 6);
              }
              else if (x == 2) {
                  $('#' + id + '').attr("maxlength", 5);
              }
          }
          else if (len > 3) {
              var ch = val.substring(val.length - 1);
              console.log("ch=" + ch);
              if (ch != ".") {
                  $('#' + id + '').val(val.slice(0, val.length - 1));
                  $('#' + id + '').attr("maxlength", 3);
              }

          }
      }

  </script>


